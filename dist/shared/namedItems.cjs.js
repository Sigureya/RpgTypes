"use strict";const M=(a,e)=>({label:e.skill.title,items:a,source:{author:"rmmz",module:"data",kind:"skill"}}),g=(a,e)=>({items:a,label:e.actor.title,source:{author:"rmmz",module:"data",kind:"actor"}}),F=(a,e)=>({items:a,label:e.state.title,source:{author:"rmmz",module:"data",kind:"state"}}),z=(a,e)=>({items:a,label:e.armor.title,source:{author:"rmmz",kind:"armor",module:"data"}}),D=(a,e)=>({items:a,label:e.class.title,source:{author:"rmmz",module:"data",kind:"class"}}),O=(a,e)=>({items:a,label:e.enemy.title,source:{author:"rmmz",module:"data",kind:"enemy"}}),U=(a,e)=>({items:a,label:e.item.title,source:{author:"rmmz",module:"data",kind:"item"}}),N=(a,e)=>({items:a,label:e.weapon.title,source:{author:"rmmz",module:"data",kind:"weapon"}}),v=(a,e)=>({items:a,label:e.commonEvent.title,source:{author:"rmmz",module:"data",kind:"common_event"}}),o=(a,e)=>({items:T(a.options,e),label:a.title,source:{author:"rmmz",module:"trait",kind:"collaps"}}),T=(a,e)=>[{id:0,name:e.normal},{id:1,name:a.bossCollaps},{id:2,name:a.instantCollaps},{id:3,name:a.noneCollaps}],s=a=>({items:R(a.options),label:a.title,source:{author:"rmmz",module:"trait",kind:"xparams"}}),R=a=>[{id:0,name:a.hitRate},{id:1,name:a.evasionRate},{id:2,name:a.criticalRate},{id:3,name:a.criticalEvasionRate},{id:4,name:a.magicEvasionRate},{id:5,name:a.magicReflectionRate},{id:6,name:a.counterAttackRate},{id:7,name:a.hpRegenerationRate},{id:8,name:a.mpRegenerationRate},{id:9,name:a.tpRegenerationRate}],d=a=>({items:_(a.options),label:a.title,source:{author:"rmmz",module:"trait",kind:"params"}}),_=a=>[{id:0,name:a.maxHp},{id:1,name:a.maxMp},{id:2,name:a.atk},{id:3,name:a.def},{id:4,name:a.matk},{id:5,name:a.mdef},{id:6,name:a.agi},{id:7,name:a.luk}],n=a=>({items:c(a.options),label:a.title,source:{author:"rmmz",module:"trait",kind:"sparams"}}),c=a=>[{id:0,name:a.targetRate},{id:1,name:a.guardEffectRate},{id:2,name:a.recoveryEffectRate},{id:3,name:a.pharmacology},{id:4,name:a.mpCostRate},{id:5,name:a.tpChargeRate},{id:6,name:a.physicalDamageRate},{id:7,name:a.magicDamageRate},{id:8,name:a.floorDamageRate},{id:9,name:a.experienceRate}],A=a=>({items:p(a.options),label:a.title,source:{author:"rmmz",module:"trait",kind:"partyAbility"}}),p=a=>[{id:0,name:a.encounterHalf},{id:1,name:a.encounterNone},{id:2,name:a.cancelSurprise},{id:3,name:a.raisePreemptive},{id:4,name:a.goldDouble},{id:5,name:a.dropItemDouble}],u=a=>({items:E(a.options),label:a.title,source:{author:"rmmz",module:"trait",kind:"sflag"}}),E=a=>[{id:0,name:a.autoBattle},{id:1,name:a.guard},{id:2,name:a.substitute},{id:3,name:a.preventEscape}],t=(a,e,C)=>({kindId:a,label:e.domainName,pattern:e.format,description:e.desc,dataSource:C}),G=a=>t(41,a.special),B=a=>t(11,a.recoverHp),Y=a=>t(12,a.recoverMp),w=a=>t(13,a.gainTp),x=a=>t(21,a.addState,{author:"rmmz",module:"data",kind:"state"}),K=a=>t(22,a.removeState,{author:"rmmz",module:"data",kind:"state"}),X=a=>t(31,a.addBuff,{author:"rmmz",module:"trait",kind:"params"}),V=a=>t(32,a.addDebuff,{author:"rmmz",module:"trait",kind:"params"}),H=a=>t(33,a.removeBuff,{author:"rmmz",module:"trait",kind:"params"}),q=a=>t(34,a.removeDebuff,{author:"rmmz",module:"trait",kind:"params"}),Q=a=>t(42,a.grow,{author:"rmmz",module:"trait",kind:"params"}),W=a=>t(43,a.learnSkill,{author:"rmmz",module:"data",kind:"skill"}),$=a=>t(44,a.commonEvent,{author:"rmmz",module:"data",kind:"common_event"}),j=a=>({pattern:a.format,label:a.title,kindId:11,dataSource:I()}),J=a=>({pattern:a.format,label:a.title,kindId:12,dataSource:{author:"rmmz",module:"trait",kind:"params"}}),Z=a=>({pattern:a.format,label:a.title,kindId:13,dataSource:m()}),aa=a=>({pattern:a.format,label:a.title,kindId:14,dataSource:m()}),ea=a=>({pattern:a.format,label:a.title,kindId:21,dataSource:{author:"rmmz",module:"trait",kind:"params"}}),ta=a=>({pattern:a.format,label:a.title,kindId:22,dataSource:{author:"rmmz",module:"trait",kind:"xparams"}}),ra=a=>({pattern:a.format,label:a.title,kindId:23,dataSource:{author:"rmmz",module:"trait",kind:"sparams"}}),ma=a=>({pattern:a.format,label:a.title,kindId:31,dataSource:I()}),ia=a=>({pattern:a.format,label:a.title,kindId:32,dataSource:m()}),la=a=>({pattern:a.format,label:a.title,kindId:33}),oa=a=>({pattern:a.format,label:a.title,kindId:34}),sa=a=>({pattern:a.format,label:a.title,kindId:35,dataSource:i()}),da=a=>({pattern:a.format,label:a.title,kindId:41,dataSource:k()}),na=a=>({pattern:a.format,label:a.title,kindId:42,dataSource:k()}),Aa=a=>({pattern:a.format,label:a.title,kindId:43,dataSource:i()}),ua=a=>({pattern:a.format,label:a.title,kindId:44,dataSource:i()}),Ta=a=>({pattern:a.format,label:a.title,kindId:51,dataSource:Sa()}),Ra=a=>({pattern:a.format,label:a.title,kindId:52,dataSource:La()}),_a=a=>({pattern:a.format,label:a.title,kindId:53,dataSource:l()}),ca=a=>({pattern:a.format,label:a.title,kindId:54,dataSource:l()}),pa=a=>({pattern:a.format,label:a.title,kindId:55,dataSource:l()}),Ea=a=>({pattern:a.format,label:a.title,kindId:61}),Ia=a=>({pattern:a.format,label:a.title,kindId:62,dataSource:{author:"rmmz",module:"trait",kind:"sflag"}}),ka=a=>({pattern:a.format,label:a.title,kindId:63,dataSource:{author:"rmmz",module:"trait",kind:"collaps"}}),Pa=a=>({pattern:a.format,label:a.title,kindId:64,dataSource:{author:"rmmz",module:"trait",kind:"partyAbility"}}),m=()=>({author:"rmmz",module:"data",kind:"state"}),i=()=>({author:"rmmz",module:"data",kind:"skill"}),I=()=>({author:"rmmz",module:"system",kind:"elements"}),k=()=>({author:"rmmz",module:"system",kind:"skillTypes"}),Sa=()=>({author:"rmmz",module:"system",kind:"weaponTypes"}),La=()=>({author:"rmmz",module:"system",kind:"armorTypes"}),l=()=>({author:"rmmz",module:"system",kind:"equipTypes"}),r=(a,e)=>({name:a,id:e}),P=a=>a.variables.map(r),S=a=>a.elements.map(r),L=a=>a.equipTypes.map(r),b=a=>a.skillTypes.map(r),f=a=>a.weaponTypes.map(r),y=a=>a.armorTypes.map(r),h=a=>a.switches.map(r),ba=(a,e)=>({items:y(a),label:e.options.armorTypes,source:{author:"rmmz",module:"system",kind:"armorTypes"}}),fa=(a,e)=>({items:S(a),label:e.options.elements,source:{author:"rmmz",module:"system",kind:"elements"}}),ya=(a,e)=>({items:L(a),label:e.options.equipTypes,source:{author:"rmmz",module:"system",kind:"equipTypes"}}),ha=(a,e)=>({items:b(a),label:e.options.skillTypes,source:{author:"rmmz",module:"system",kind:"skillTypes"}}),Ca=(a,e)=>({items:P(a),label:e.options.variables,source:{author:"rmmz",module:"system",kind:"variable"}}),Ma=(a,e)=>({items:h(a),label:e.options.switches,source:{author:"rmmz",module:"system",kind:"switch"}}),ga=(a,e)=>({items:f(a),label:e.options.weaponTypes,source:{author:"rmmz",module:"system",kind:"weaponTypes"}});exports.COLLAPS_BOSS=1,exports.COLLAPS_INSTANT=2,exports.COLLAPS_NONE=3,exports.COLLAPS_NORMAL=0,exports.EFFECT_ADD_BUFF=31,exports.EFFECT_ADD_DEBUFF=32,exports.EFFECT_ADD_STATE=21,exports.EFFECT_COMMON_EVENT=44,exports.EFFECT_GAIN_TP=13,exports.EFFECT_GROW=42,exports.EFFECT_LEARN_SKILL=43,exports.EFFECT_RECOVER_HP=11,exports.EFFECT_RECOVER_MP=12,exports.EFFECT_REMOVE_BUFF=33,exports.EFFECT_REMOVE_DEBUFF=34,exports.EFFECT_REMOVE_STATE=22,exports.EFFECT_SPECIAL=41,exports.EXTRA_PARAM_CEV=3,exports.EXTRA_PARAM_CNT=6,exports.EXTRA_PARAM_CRI=2,exports.EXTRA_PARAM_EVA=1,exports.EXTRA_PARAM_HIT=0,exports.EXTRA_PARAM_HRG=7,exports.EXTRA_PARAM_MEV=4,exports.EXTRA_PARAM_MRF=5,exports.EXTRA_PARAM_MRG=8,exports.EXTRA_PARAM_TRG=9,exports.FLAG_ID_AUTO_BATTLE=0,exports.FLAG_ID_GUARD=1,exports.FLAG_ID_PRESERVE_TP=3,exports.FLAG_ID_SUBSTITUTE=2,exports.PARTY_ABILITY_CANCEL_SURPRISE=2,exports.PARTY_ABILITY_DROP_ITEM_DOUBLE=5,exports.PARTY_ABILITY_ENCOUNTER_HALF=0,exports.PARTY_ABILITY_ENCOUNTER_NONE=1,exports.PARTY_ABILITY_GOLD_DOUBLE=4,exports.PARTY_ABILITY_RAISE_PREEMPTIVE=3,exports.REGULAR_PARAM_AGI=6,exports.REGULAR_PARAM_ATK=2,exports.REGULAR_PARAM_DEF=3,exports.REGULAR_PARAM_LUK=7,exports.REGULAR_PARAM_MATK=4,exports.REGULAR_PARAM_MAX_HP=0,exports.REGULAR_PARAM_MAX_MP=1,exports.REGULAR_PARAM_MDEF=5,exports.SPECIAL_PARAM_EXR=9,exports.SPECIAL_PARAM_FDR=8,exports.SPECIAL_PARAM_GRD=1,exports.SPECIAL_PARAM_MCR=4,exports.SPECIAL_PARAM_MDR=7,exports.SPECIAL_PARAM_PDR=6,exports.SPECIAL_PARAM_PHA=3,exports.SPECIAL_PARAM_REC=2,exports.SPECIAL_PARAM_TCR=5,exports.SPECIAL_PARAM_TGR=0,exports.TRAIT_ACTION_PLUS=61,exports.TRAIT_ATTACK_ELEMENT=31,exports.TRAIT_ATTACK_SKILL=35,exports.TRAIT_ATTACK_SPEED=33,exports.TRAIT_ATTACK_STATE=32,exports.TRAIT_ATTACK_TIMES=34,exports.TRAIT_COLLAPSE_TYPE=63,exports.TRAIT_DEBUFF_RATE=12,exports.TRAIT_ELEMENT_RATE=11,exports.TRAIT_EQUIP_ARMOR_TYPE=52,exports.TRAIT_EQUIP_LOCK=53,exports.TRAIT_EQUIP_SEAL=54,exports.TRAIT_EQUIP_WEAPON_TYPE=51,exports.TRAIT_PARAM=21,exports.TRAIT_PARTY_ABILITY=64,exports.TRAIT_SKILL_ADD=43,exports.TRAIT_SKILL_SEAL=44,exports.TRAIT_SKILL_TYPE_ADD=41,exports.TRAIT_SKILL_TYPE_SEAL=42,exports.TRAIT_SLOT_TYPE=55,exports.TRAIT_SPARAM=23,exports.TRAIT_SPECIAL_FLAG=62,exports.TRAIT_STATE_RATE=13,exports.TRAIT_STATE_RESIST=14,exports.TRAIT_XPARAM=22,exports.collapsOptionsToArray=T,exports.defineGameDataSources=(a,e)=>[M(a.skills,e),g(a.actors,e),F(a.states,e),z(a.armors,e),D(a.classes,e),O(a.enemies,e),U(a.items,e),N(a.weapons,e),v(a.commonEvents,e)],exports.defineSystemItems=(a,e)=>[fa(a,e),ya(a,e),ga(a,e),ha(a,e),ba(a,e),Ca(a,e),Ma(a,e)],exports.defineTraitCollapseType=o,exports.defineTraitExtraParam=s,exports.defineTraitItems=(a,e)=>[d(a.regularParam),s(a.extraParam),n(a.specialParam),o(a.collaps,e),u(a.specialFlag),A(a.partyAbility)],exports.defineTraitPartyAbility=A,exports.defineTraitRegularParam=d,exports.defineTraitSpecialFlag=u,exports.defineTraitSpecialParam=n,exports.extraParamName=(a,e)=>{switch(a){case 3:return e.criticalEvasionRate;case 1:return e.evasionRate;case 6:return e.counterAttackRate;case 2:return e.criticalRate;case 0:return e.hitRate;case 7:return e.hpRegenerationRate;case 4:return e.magicEvasionRate;case 5:return e.magicReflectionRate;case 8:return e.mpRegenerationRate;case 9:return e.tpRegenerationRate}return`?xparams[${a}]`},exports.extraParamsToArray=R,exports.getArmorTypes=y,exports.getElementTypes=S,exports.getEquipTypes=L,exports.getSkillTypes=b,exports.getSwitches=h,exports.getVariableNames=P,exports.getWeaponTypes=f,exports.partyAbilityToArray=p,exports.regularParamName=(a,e)=>{switch(a){case 0:return e.maxHp;case 1:return e.maxMp;case 2:return e.atk;case 3:return e.def;case 4:return e.matk;case 5:return e.mdef;case 6:return e.agi;case 7:return e.luk;default:return`?rparams[${a}]`}},exports.regularParamsToArray=_,exports.resolveItemEffectLabels=a=>[B(a),Y(a),w(a),x(a),K(a),X(a),V(a),H(a),q(a),G(a),Q(a),W(a),$(a)],exports.resolveTraitLabels=a=>[j(a.elementRate),J(a.debuffRate),Z(a.stateRate),aa(a.stateResist),ea(a.regularParam),ta(a.extraParam),ra(a.specialParam),ma(a.attackElement),ia(a.attackState),la(a.attackSpeed),oa(a.attackTimes),sa(a.attackSkill),da(a.skillTypeAdd),na(a.skillTypeSeal),Aa(a.skillAdd),ua(a.skillSeal),Ta(a.equipWeaponType),Ra(a.equipArmorType),_a(a.equipLock),ca(a.equipSeal),pa(a.slotType),Ea(a.actionPlus),Ia(a.specialFlag),ka(a.collaps),Pa(a.partyAbility)],exports.specialFlagToArray=E,exports.specialParamName=(a,e)=>{switch(a){case 9:return e.experienceRate;case 0:return e.targetRate;case 8:return e.floorDamageRate;case 1:return e.guardEffectRate;case 4:return e.mpCostRate;case 5:return e.tpChargeRate;case 6:return e.physicalDamageRate;case 7:return e.magicDamageRate;case 3:return e.pharmacology;case 2:return e.recoveryEffectRate}return`?sparams[${a}]`},exports.specialParamsToArray=c;
