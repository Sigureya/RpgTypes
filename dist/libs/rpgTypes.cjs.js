"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const eo="bgm",to="se",ro="me",no="bgs",ao="battlebacks1",so="battlebacks2",oo="characters",io="enemies",co="faces",uo="parallaxes",lo="pictures",fo="sv_actors",mo="sv_enemies",po="system",_o="tilesets",ho="titles1",Eo="titles2",yo="System.json",Ao="Actors.json",To="Classes.json",go="Skills.json",Ro="Items.json",vo="Weapons.json",So="Armors.json",Io="Enemies.json",Po="Troops.json",Oo="States.json",No="Animations.json",$o="Tilesets.json",Co="CommonEvents.json",Mo="MapInfos.json",Lo="data",wo="img",bo="audio",Do="js",Zt=(e,r)=>{const E={...e};for(const c in e){const y=r[c];typeof y=="string"&&(E[c]=y)}return E},ko=(e,r)=>({domainName:r.domainName??e.domainName,options:Zt(e.options,r.options??{})}),Fo=(e,r)=>{const E={};for(const c in e){const y=e[c],o=r[c]??{};E[c]=Zt(y,o)}return E},Ce=(e,r)=>({name:e,id:r}),Uo=e=>e.variables.map(Ce),jo=e=>e.elements.map(Ce),qo=e=>e.equipTypes.map(Ce),Go=e=>e.skillTypes.map(Ce),Ho=e=>e.weaponTypes.map(Ce),Vo=e=>e.armorTypes.map(Ce),Bo=e=>e.terms.params.map(Ce),Se="rmmz",Ct="trait",er="data",tr="system",fa=11,ma=12,pa=13,_a=14,ha=21,Ea=22,ya=23,Aa=31,Ta=32,ga=33,Ra=34,va=35,Sa=41,Ia=42,Pa=43,Oa=44,Na=51,$a=52,Ca=53,Ma=54,La=55,wa=61,ba=62,Da=63,ka=64,Fa=0,Ua=1,ja=2,qa=3,Ga=0,Ha=1,Va=2,Ba=3,Ka=4,Ya=5,Wa=0,za=1,Xa=2,Ja=3,rr=0,nr=1,ar=2,sr=3,or=4,ir=5,cr=6,ur=7,dr=8,lr=9,fr=0,mr=1,pr=2,_r=3,hr=4,Er=5,yr=6,Ar=7,Tr=0,gr=1,Rr=2,vr=3,Sr=4,Ir=5,Pr=6,Or=7,Nr=8,$r=9,Ko=(e,r)=>{switch(e){case fr:return r.maxHp;case mr:return r.maxMp;case pr:return r.atk;case _r:return r.def;case hr:return r.matk;case Er:return r.mdef;case yr:return r.agi;case Ar:return r.luk;default:return`?rparams[${e}]`}},Yo=(e,r)=>{switch(e){case sr:return r.criticalEvasionRate;case nr:return r.evasionRate;case cr:return r.counterAttackRate;case ar:return r.criticalRate;case rr:return r.hitRate;case ur:return r.hpRegenerationRate;case or:return r.magicEvasionRate;case ir:return r.magicReflectionRate;case dr:return r.mpRegenerationRate;case lr:return r.tpRegenerationRate}return`?xparams[${e}]`},Wo=(e,r)=>{switch(e){case $r:return r.experienceRate;case Tr:return r.targetRate;case Nr:return r.floorDamageRate;case gr:return r.guradEffectRate;case Sr:return r.mpCostRate;case Ir:return r.tpChargeRate;case Pr:return r.physicalDamageRate;case Or:return r.magicDamageRate;case vr:return r.pharmacology;case Rr:return r.recoveryEffectRate}return`?sparams[${e}]`},xa=(e,r)=>[{id:Fa,name:r.normal},{id:Ua,name:e.bossCollaps},{id:ja,name:e.instantCollaps},{id:qa,name:e.noneCollaps}],Qa=e=>[{id:Ga,name:e.encounterHalf},{id:Ha,name:e.encounterNone},{id:Va,name:e.cancelSurprise},{id:Ba,name:e.raisePreemptive},{id:Ka,name:e.goldDouble},{id:Ya,name:e.dropItemDouble}],Za=e=>[{id:fr,name:e.maxHp},{id:mr,name:e.maxMp},{id:pr,name:e.atk},{id:_r,name:e.def},{id:hr,name:e.matk},{id:Er,name:e.mdef},{id:yr,name:e.agi},{id:Ar,name:e.luk}],es=e=>[{id:rr,name:e.hitRate},{id:nr,name:e.evasionRate},{id:ar,name:e.criticalRate},{id:sr,name:e.criticalEvasionRate},{id:or,name:e.magicEvasionRate},{id:ir,name:e.magicReflectionRate},{id:cr,name:e.counterAttackRate},{id:ur,name:e.hpRegenerationRate},{id:dr,name:e.mpRegenerationRate},{id:lr,name:e.tpRegenerationRate}],ts=e=>[{id:Tr,name:e.targetRate},{id:gr,name:e.guradEffectRate},{id:Rr,name:e.recoveryEffectRate},{id:vr,name:e.pharmacology},{id:Sr,name:e.mpCostRate},{id:Ir,name:e.tpChargeRate},{id:Pr,name:e.physicalDamageRate},{id:Or,name:e.magicDamageRate},{id:Nr,name:e.floorDamageRate},{id:$r,name:e.experienceRate}],rs=e=>[{id:Wa,name:e.autoBattle},{id:za,name:e.guard},{id:Xa,name:e.substitute},{id:Ja,name:e.preventEscape}],Me=(e,r,E)=>({items:E(r.options),label:r.domainName,source:{author:Se,module:Ct,kind:e}}),zo=(e,r)=>Me(Lr,e,E=>xa(E,r)),Xo=e=>Me(wr,e,Qa),Jo=e=>Me(ke,e,Za),xo=e=>Me(Cr,e,es),Qo=e=>Me(Mr,e,ts),Zo=e=>Me(br,e,rs),se="{name}",we="{name} * {value}%",Gr="{name} + {value}%",Hr="{value}",Q={domainName:"特徴",options:{regularParam:{domainName:"基本能力値",format:we,options:{maxHp:"最大HP",maxMp:"最大MP",atk:"攻撃力",def:"防御力",matk:"魔法攻撃力",mdef:"魔法防御力",agi:"敏捷性",luk:"運"}},extraParam:{domainName:"追加能力値",format:Gr,options:{hitRate:"命中率",evasionRate:"回避率",criticalRate:"クリティカル率",criticalEvasionRate:"クリティカル回避率",magicEvasionRate:"魔法回避率",magicReflectionRate:"魔法反射率",counterAttackRate:"反撃率",hpRegenerationRate:"HP再生率",mpRegenerationRate:"MP再生率",tpRegenerationRate:"TP再生率"}},specialParam:{domainName:"特殊能力値",format:we,options:{targetRate:"狙われ率",guradEffectRate:"防御効果率",recoveryEffectRate:"回復効果率",pharmacology:"薬の知識",mpCostRate:"MP消費率",tpChargeRate:"TPチャージ率",physicalDamageRate:"物理ダメージ率",magicDamageRate:"魔法ダメージ率",floorDamageRate:"床ダメージ率",experienceRate:"経験値率"}},specialFlag:{domainName:"特殊フラグ",format:se,options:{autoBattle:"自動戦闘",guard:"防御",substitute:"身代わり",preventEscape:"逃走防止"}},collaps:{domainName:"消滅エフェクト",format:se,options:{bossCollaps:"ボス崩壊",instantCollaps:"即時崩壊",noneCollaps:"崩壊なし"}},partyAbility:{domainName:"パーティ能力",format:se,options:{cancelSurprise:"不意打ち無効",dropItemDouble:"アイテムドロップ2倍",encounterHalf:"エンカウント半減",encounterNone:"エンカウントなし",goldDouble:"ゴールド2倍",raisePreemptive:"先制攻撃率アップ"}},elementRate:{domainName:"属性有効度",format:we},debuffRate:{domainName:"弱体有効度",format:we},stateRate:{domainName:"ステート有効度",format:we},stateResist:{domainName:"ステート無効",format:se},attackElement:{domainName:"攻撃属性",format:se},attackState:{domainName:"攻撃ステート",format:Gr},attackSpeed:{domainName:"攻撃速度補正",format:Hr},attackTimes:{domainName:"攻撃追加回数",format:Hr},actionPlus:{domainName:"行動追加",format:we},attackSkill:{domainName:"攻撃スキル",format:se},equipWeaponType:{domainName:"装備武器タイプ",format:se},equipArmorType:{domainName:"装備防具タイプ",format:se},equipLock:{domainName:"装備固定",format:se},equipSeal:{domainName:"装備封印",format:se},slotType:{domainName:"スロットタイプ",format:se},skillAdd:{domainName:"スキル追加",format:se},skillSeal:{domainName:"スキルタイプ封印",format:se},skillTypeAdd:{domainName:"スキルタイプ追加",format:se},skillTypeSeal:{domainName:"スキルタイプ封印",format:se}}},Vr="{value}",Br="{name}";class ns{constructor(r,E,c,y){this.code=r,this.label=E,this.format=c,this.dataSource=y}match(r){return this.code===r.code}testTraitCode(r){this.match(r)}formatText(r,E){this.testTraitCode(r);const c=this.format.replaceAll(Vr,r.value.toString());return this.dataSource?c.replaceAll(Br,E(this.dataSource,r.dataId)):c}requiresValue(){return this.format.includes(Vr)}requiresName(){return this.format.includes(Br)}invalidPlaceHolder(){const r=["value","name"];return[...this.format.matchAll(/\{([^}]+)\}/g)].map(c=>c[1]).filter(c=>!r.includes(c))}isFormatValidForDataSource(){return!(this.dataSource&&!this.requiresName())}diagnose(){const r=!this.isFormatValidForDataSource(),E=this.requiresName()&&!this.dataSource,c=this.invalidPlaceHolder();return{code:this.code,label:this.label,format:this.format,hasError:r||E||c.length>0,missingDataSourceError:r,sourceMismatchError:E,invalidPlaceHolders:c}}}const ei=e=>[ti(e.elementRate),ri(e.debuffRate),ni(e.stateRate),ai(e.stateResist),si(e.regularParam),oi(e.extraParam),ii(e.specialParam),ci(e.attackElement),ui(e.attackState),di(e.attackSpeed),li(e.attackTimes),fi(e.attackSkill),Si(e.skillTypeAdd),Ii(e.skillTypeSeal),gi(e.skillAdd),Ri(e.skillSeal),Ei(e.equipWeaponType),yi(e.equipArmorType),Ai(e.equipLock),Ti(e.equipSeal),vi(e.slotType),mi(e.actionPlus),pi(e.specialFlag),_i(e.collaps),hi(e.partyAbility)],Kr=(e,r)=>typeof r=="string"?r:e,ee=(e,r,E,c)=>{const y=Kr(r.domainName,E.domainName),o=Kr(r.format,E.format);return new ns(e,y,o,c)},as=()=>({module:tr,author:Se,kind:Ls}),ss=e=>({module:er,author:Se,kind:e}),ge=e=>({author:Se,module:Ct,kind:e}),os=e=>({author:Se,module:tr,kind:e}),ti=e=>ee(fa,Q.options.elementRate,e,as()),ri=e=>ee(ma,Q.options.debuffRate,e,ge(ke)),ni=e=>ee(pa,Q.options.stateRate,e,ge(ke)),ai=e=>ee(_a,Q.options.stateResist,e,ss(He)),si=e=>ee(ha,Q.options.regularParam,e,ge(ke)),oi=e=>ee(Ea,Q.options.extraParam,e,ge(Cr)),ii=e=>ee(ya,Q.options.specialParam,e,ge(Mr)),ci=e=>ee(Aa,Q.options.attackElement,e,as()),ui=e=>ee(Ta,Q.options.attackState,e,ge(He)),di=e=>ee(ga,Q.options.attackSpeed,e),li=e=>ee(Ra,Q.options.attackTimes,e),fi=e=>ee(va,Q.options.attackSkill,e,ss(Dr)),mi=e=>ee(wa,Q.options.actionPlus,e),pi=e=>ee(ba,Q.options.specialFlag,e,ge(br)),_i=e=>ee(Da,Q.options.collaps,e,ge(Lr)),hi=e=>ee(ka,Q.options.partyAbility,e,ge(wr)),Ei=e=>ee(Na,Q.options.equipWeaponType,e,os(Cs)),yi=e=>ee($a,Q.options.equipArmorType,e,os(Ms)),Ai=e=>ee(Ca,Q.options.equipLock,e),Ti=e=>ee(Ma,Q.options.equipSeal,e),gi=e=>ee(Pa,Q.options.skillAdd,e),Ri=e=>ee(Oa,Q.options.skillSeal,e),vi=e=>ee(La,Q.options.slotType,e),Si=e=>ee(Sa,Q.options.skillTypeAdd,e),Ii=e=>ee(Ia,Q.options.skillTypeSeal,e),Pi="Trait",Oi={type:"object",required:["code","dataId","value"],properties:{code:{type:"integer"},dataId:{type:"integer"},value:{type:"integer"}}},Ni=(e={})=>({name:e.name??"",id:e.id??0,battlerName:e.battlerName??"",characterName:e.characterName??"",characterIndex:e.characterIndex??0,faceName:e.faceName??"",faceIndex:e.faceIndex??0,traits:[],note:e.note??"",classId:e.classId??0,nickname:e.nickname??"",profile:e.profile??"",equips:[],initialLevel:e.initialLevel??0,maxLevel:e.maxLevel??0}),is={type:"object",required:["name","id","nickname","battlerName","characterName","characterIndex","faceName","faceIndex","classId","initialLevel","maxLevel"],properties:{name:{type:"string"},battlerName:{type:"string"},characterName:{type:"string"},characterIndex:{type:"integer"},faceName:{type:"string"},faceIndex:{type:"integer",minimum:0,maximum:7},id:{type:"integer",minimum:0},nickname:{type:"string"},profile:{type:"string"},initialLevel:{type:"integer",minimum:0},maxLevel:{type:"integer"},classId:{type:"integer",minimum:0},equips:{type:"array",items:{type:"integer"}},note:{type:"string"},traits:{type:"array",items:{type:"object",properties:{code:{type:"integer"},dataId:{type:"integer"},value:{type:"integer"}},required:["code","dataId","value"]}}}},$i=e=>({name:e.name??"",id:e.id??0,battlerName:e.battlerName??"",characterName:e.characterName??"",characterIndex:e.characterIndex??0,faceName:e.faceName??"",faceIndex:e.faceIndex??0,traits:[],note:e.note??"",classId:e.classId??0,nickname:e.nickname??"",profile:e.profile??"",equips:[],initialLevel:e.initialLevel??0,maxLevel:e.maxLevel??0}),Ci=(e={})=>({id:e.id??0,name:e.name??"",iconIndex:e.iconIndex??0,description:e.description??"",traits:e.traits??[],note:e.note??"",params:e.params??[0,0,0,0,0,0,0,0],etypeId:e.etypeId??0,price:e.price??0}),cs={type:"object",required:["name","id","description","iconIndex","price","params","traits","note","etypeId"],properties:{name:{type:"string"},id:{type:"integer",minimum:0},description:{type:"string"},iconIndex:{type:"integer",minimum:0},price:{type:"integer",minimum:0},note:{type:"string"},etypeId:{type:"integer",minimum:0},params:{type:"array",items:[{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"}],minItems:8,maxItems:8},traits:{type:"array",items:{type:"object",properties:{code:{type:"integer"},dataId:{type:"integer"},value:{type:"integer"}},required:["code","dataId","value"]}}}},Mi=(e={})=>({name:e.name??"",id:e.id??0,traits:[],note:e.note??"",params:[0,0,0,0,0,0,0,0],learnings:e.learnings??[],expParams:e.expParams??[]}),us={type:"object",required:["name","id","note","expParams","params","learnings","traits"],properties:{name:{type:"string"},id:{type:"integer",minimum:0},note:{type:"string"},expParams:{type:"array",items:{type:"integer"}},params:{type:"array",items:[{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"}],minItems:8,maxItems:8},learnings:{type:"array",items:{type:"object",properties:{level:{type:"integer"},skillId:{type:"integer"},note:{type:"string"}},required:["level","skillId"],additionalProperties:!1}},traits:{type:"array",items:{type:"object",properties:{code:{type:"integer"},dataId:{type:"integer"},value:{type:"integer"}},required:["code","dataId","value"],additionalProperties:!1}}},additionalProperties:!1},Li=(e={})=>({name:e.name??"",id:e.id??0,iconIndex:e.iconIndex??0,message1:e.message1??"",message2:e.message2??"",message3:e.message3??"",message4:e.message4??"",traits:[],note:e.note??"",restriction:e.restriction??0,priority:e.priority??0,motion:e.motion??0,overlay:e.overlay??0,removeAtBattleEnd:e.removeAtBattleEnd??!1,removeByRestriction:e.removeByRestriction??!1,autoRemovalTiming:e.autoRemovalTiming??0,minTurns:e.minTurns??0,maxTurns:e.maxTurns??0,removeByDamage:e.removeByDamage??!1,chanceByDamage:e.chanceByDamage??0,removeByWalking:e.removeByWalking??!1,stepsToRemove:e.stepsToRemove??0}),ds={type:"object",required:["name","id","iconIndex","message1","message2","message3","message4","restriction","priority","motion","overlay","removeAtBattleEnd","removeByDamage","removeByWalking","removeByRestriction","autoRemovalTiming","minTurns","maxTurns","chanceByDamage","stepsToRemove","note"],properties:{name:{type:"string"},id:{type:"integer",minimum:0},iconIndex:{type:"integer",minimum:0},message1:{type:"string"},message2:{type:"string"},message3:{type:"string"},message4:{type:"string"},restriction:{type:"integer"},priority:{type:"integer"},motion:{type:"integer"},overlay:{type:"integer"},removeAtBattleEnd:{type:"boolean"},removeByDamage:{type:"boolean"},removeByWalking:{type:"boolean"},removeByRestriction:{type:"boolean"},autoRemovalTiming:{type:"integer"},minTurns:{type:"integer"},maxTurns:{type:"integer"},chanceByDamage:{type:"integer"},stepsToRemove:{type:"integer"},note:{type:"string"},traits:{type:"array",items:{type:"object",properties:{code:{type:"integer"},dataId:{type:"integer"},value:{type:"integer"}},required:["code","dataId","value"]}}}},wi={domainName:"武器",options:{weaponTypeId:"武器タイプID"}},bi=(e={})=>({id:e.id??0,name:e.name??"",iconIndex:e.iconIndex??0,description:e.description??"",traits:e.traits??[],note:e.note??"",params:e.params??[0,0,0,0,0,0,0,0],etypeId:e.etypeId??0,price:e.price??0,damage:wt(e.damage??{}),wtypeId:e.wtypeId??0}),ls={type:"object",required:["name","id","description","iconIndex","price","params","traits","note","etypeId"],properties:{name:{type:"string"},id:{type:"integer",minimum:0},description:{type:"string"},iconIndex:{type:"integer",minimum:0},price:{type:"integer",minimum:0},note:{type:"string"},etypeId:{type:"integer",minimum:0},wtypeId:{type:"integer",minimum:0},params:{type:"array",items:[{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"}],minItems:8,maxItems:8},damage:{type:"object",properties:{type:{type:"integer",minimum:0},elementId:{type:"integer",minimum:0},formula:{type:"string"},variance:{type:"integer",minimum:0,maximum:100},critical:{type:"boolean"}},required:["type","elementId","formula","variance","critical"]},traits:{type:"array",items:{type:"object",properties:{code:{type:"integer"},dataId:{type:"integer"},value:{type:"integer"}},required:["code","dataId","value"]}}}},fs=(e={})=>({dataId:e.dataId??0,denominator:e.denominator??0,kind:e.kind??0}),Di=(e={})=>({conditionParam1:e.conditionParam1??0,conditionParam2:e.conditionParam2??0,conditionType:e.conditionType??0,rating:e.rating??0,skillId:e.skillId??0}),ki=(e={})=>{var r;return{name:e.name??"",id:e.id??0,battlerName:e.battlerName??"",battlerHue:e.battlerHue??0,dropItems:((r=e.dropItems)==null?void 0:r.map(()=>fs()))??[],exp:e.exp??0,gold:e.gold??0,traits:[],note:e.note??"",params:[0,0,0,0,0,0,0,0],actions:[]}},ms={type:"object",required:["name","id","battlerName","battlerHue","exp","gold","note","params","dropItems","traits","actions"],properties:{name:{type:"string"},id:{type:"integer",minimum:0},battlerHue:{type:"integer",minimum:0},battlerName:{type:"string"},exp:{type:"integer",minimum:0},gold:{type:"integer",minimum:0},note:{type:"string"},params:{type:"array",items:[{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"}],minItems:8,maxItems:8},actions:{type:"array",items:{type:"object",required:["conditionParam1","conditionParam2","conditionType","skillId","rating"],properties:{conditionParam1:{type:"integer"},conditionParam2:{type:"integer"},conditionType:{type:"integer"},skillId:{type:"integer"},rating:{type:"integer"}}}},traits:{type:"array",items:{type:"object",properties:{code:{type:"integer"},dataId:{type:"integer"},value:{type:"integer"}},required:["code","dataId","value"]}},dropItems:{type:"array",items:{type:"object",properties:{kind:{type:"integer"},dataId:{type:"integer"},denominator:{type:"integer",minimum:0},rate:{type:"number"}},required:["kind","dataId","denominator"]}}}},Fi=(e={})=>({animationId:e.animationId??0,id:e.id??0,name:e.name??"",iconIndex:e.iconIndex??0,description:e.description??"",note:e.note??"",consumable:e.consumable??!1,scope:e.scope??0,occasion:e.occasion??0,speed:e.speed??0,successRate:e.successRate??0,repeats:e.repeats??0,tpGain:e.tpGain??0,hitType:e.hitType??0,damage:wt(e.damage??{}),effects:[],price:0}),Ui=(e={})=>({stypeId:e.stypeId??0,requiredWtypeId1:e.requiredWtypeId1??0,requiredWtypeId2:e.requiredWtypeId2??0,animationId:e.animationId??0,damage:wt(e.damage??{}),description:e.description??"",effects:[],hitType:e.hitType??0,iconIndex:e.iconIndex??0,id:e.id??0,message1:e.message1??"",message2:e.message2??"",messageType:e.messageType??0,name:e.name??"",note:e.note??"",mpCost:e.mpCost??0,occasion:e.occasion??0,repeats:e.repeats??0,scope:e.scope??0,speed:e.speed??0,successRate:e.successRate??0,tpCost:e.tpCost??0,tpGain:e.tpGain??0}),ps={type:"object",required:["name","id","description","iconIndex","message1","message2","messageType","mpCost","requiredWtypeId1","requiredWtypeId2","stypeId","tpCost","animationId","hitType","occasion","repeats","scope","speed","successRate","tpGain","note","effects"],properties:{name:{type:"string"},id:{type:"integer",minimum:0},description:{type:"string"},iconIndex:{type:"integer",minimum:0},message1:{type:"string"},message2:{type:"string"},messageType:{type:"integer"},mpCost:{type:"integer"},requiredWtypeId1:{type:"integer"},requiredWtypeId2:{type:"integer"},stypeId:{type:"integer"},tpCost:{type:"integer"},animationId:{type:"integer",minimum:0},hitType:{type:"integer"},occasion:{type:"integer"},repeats:{type:"integer"},scope:{type:"integer"},speed:{type:"integer"},successRate:{type:"integer"},tpGain:{type:"integer"},note:{type:"string"},effects:{type:"array",items:{type:"object",properties:{code:{type:"integer"},dataId:{type:"integer"},value1:{type:"integer"},value2:{type:"integer"}},required:["code","dataId","value1","value2"],additionalProperties:!1}},damage:{type:"object",properties:{type:{type:"integer"},elementId:{type:"integer"},formula:{type:"string"},variance:{type:"integer"},critical:{type:"boolean"}},required:["type","elementId","formula","variance","critical"],additionalProperties:!1}},additionalProperties:!1},_s={type:"object",required:["name","id","description","iconIndex","note","animationId","hitType","occasion","repeats","scope","speed","successRate","tpGain","consumable","price","effects"],properties:{name:{type:"string"},id:{type:"integer",minimum:0},description:{type:"string"},iconIndex:{type:"integer",minimum:0},note:{type:"string"},animationId:{type:"integer",minimum:0},hitType:{type:"integer"},occasion:{type:"integer"},repeats:{type:"integer"},scope:{type:"integer"},speed:{type:"integer"},successRate:{type:"integer"},tpGain:{type:"integer"},consumable:{type:"boolean"},price:{type:"integer",minimum:0},effects:{type:"array",items:{type:"object",properties:{code:{type:"integer"},dataId:{type:"integer"},value1:{type:"integer"},value2:{type:"integer"}},required:["code","dataId","value1","value2"],additionalProperties:!1}},damage:{type:"object",properties:{type:{type:"integer"},elementId:{type:"integer"},formula:{type:"string"},variance:{type:"integer"},critical:{type:"boolean"}},required:["type","elementId","formula","variance","critical"],additionalProperties:!1}}},ji=0,qi=1,Gi=2,Hi="{name} + {value1}",Yr="{name} {value1}%",Gt="{value1}% + {value2}",Wr="{name} {value1}ターン",Ue="{name}",ue={domainName:"使用効果",options:{addBuff:{desc:"バフを付与する",domainName:"バフ付与",format:Wr},addDebuff:{desc:"デバフを付与する",domainName:"デバフ付与",format:Wr},gainTp:{desc:"TPを指定した量だけ増加させます。",domainName:"TP増加",format:Gt},grow:{desc:"成長効果",domainName:"成長効果",format:Hi},learnSkill:{desc:"スキルを習得する",domainName:"スキル習得",format:Ue},recoverHp:{desc:"HPを回復します。最大HPに対する割合と一定値のいずれか一方または両方を指定します。アイテムの場合は、特殊能力値[薬の知識]の倍率が適用されます。",domainName:"HP回復",format:Gt},recoverMp:{desc:"MPを回復します。最大MPに対する割合と一定値のいずれか一方または両方を指定します。アイテムの場合は、特殊能力値[薬の知識]の倍率が適用されます。",domainName:"MP回復",format:Gt},removeBuff:{desc:"バフを解除する",domainName:"バフ解除",format:Ue},removeDebuff:{desc:"デバフを解除する",domainName:"デバフ解除",format:Ue},removeState:{desc:"指定したステートを付加します。",domainName:"ステート付加",format:Yr},special:{desc:"特殊効果",domainName:"特殊効果",format:Ue},addState:{desc:"状態異常を解除する",domainName:"ステート解除",format:Yr},commonEvent:{desc:"コモンイベントを実行する",domainName:"コモンイベント",format:Ue}}},hs=11,Es=12,ys=13,As=21,Ts=22,gs=31,Rs=32,vs=33,Ss=34,Vi=41,Is=42,Ps=43,Os=44,Bi=0,Ns=/^[a-zA-Z0-9]+$/,Ki=e=>Ns.test(e)?e:void 0,Ot=e=>typeof e=="string"?Ns.test(e):!1,Yi=e=>[e.author,e.module,e.kind].join("."),Wi=e=>Ot(e.author)&&Ot(e.module)&&Ot(e.kind),ke="params",Cr="xparams",Mr="sparams",Lr="collaps",wr="partyAbiility",br="sflag",zi="actors",Xi="variables",Ji="map",xi="enemy",He="state",Dr="skill",Qi="items",Zi="weapon",ec="armor",tc="class",$s="common_event",rc="troop",nc="colors",Cs="weaponTypes",Ms="armorTypes",ac="equipTypes",sc="switches",oc="skillTypes",Ls="elements",zr="{value1}",Xr="{value2}",Jr="{name}";class ic{constructor(r,E,c,y,o){this.codeId=r,this.label=E,this.format=c,this.description=y,this.dataSource=o}formatText(r,E){const c=this.format.replaceAll(zr,r.value1.toString()).replaceAll(Xr,r.value2.toString());return this.dataSource?c.replaceAll(Jr,E(this.dataSource,r.dataId)):c}requiresValue1(){return this.format.includes(zr)}requiresValue2(){return this.format.includes(Xr)}requiresName(){return this.format.includes(Jr)}invalidPlaceHolder(){const r=["value1","value2","name"];return[...this.format.matchAll(/\{([^}]+)\}/g)].map(c=>c[1]).filter(c=>!r.includes(c))}isFormatValidForDataSource(){return!(this.dataSource&&!this.requiresName())}}const cc=(e,r,E)=>e.format.replaceAll("{value1}",r.value1.toString()).replaceAll("{value2}",r.value2.toString()).replaceAll("{name}",E),uc=e=>[ws(e.options.recoverHp),bs(e.options.recoverMp),Ds(e.options.gainTp),ks(e.options.addState),Fs(e.options.removeState),Us(e.options.addBuff),Gs(e.options.addDebuff),js(e.options.removeBuff),Hs(e.options.removeDebuff),qs(e.options.learnSkill),Vs(e.options.commonEvent)],Mt=()=>({author:Se,module:Ct,kind:ke}),Lt=e=>({author:Se,module:er,kind:e}),fe=(e,r,E,c)=>{const y=E.domainName??r.domainName,o=E.format??r.format,m=E.desc??r.desc;return new ic(e,y,o,m,c)},ws=e=>fe(hs,ue.options.recoverHp,e),bs=e=>fe(Es,ue.options.recoverMp,e),Ds=e=>fe(ys,ue.options.gainTp,e),dc=e=>fe(Is,ue.options.grow,e),ks=e=>fe(As,ue.options.addState,e,Lt(He)),Fs=e=>fe(Ts,ue.options.removeState,e,Lt(He)),Us=e=>fe(gs,ue.options.addBuff,e,Mt()),js=e=>fe(vs,ue.options.removeBuff,e,Mt()),qs=e=>fe(Ps,ue.options.learnSkill,e,Lt(Dr)),Gs=e=>fe(Rs,ue.options.addBuff,e,Mt()),Hs=e=>fe(Ss,ue.options.removeDebuff,e,Mt()),Vs=e=>fe(Os,ue.options.commonEvent,e,Lt($s)),lc={domainName:"アイテム",options:{consumable:"消耗品"}},fc={domainName:"スキル",options:{requiredWeaponTypeId1:"必要武器タイプ1",requiredWeaponTypeId2:"必要武器タイプ2",mpCost:"MP消費",tpCost:"TP消費"}},mc={domainName:"",options:{scope:"範囲",speed:"速度補正",successRate:"成功率"}},Bs={actor:{domainName:"アクター",options:{initialEquipments:"初期装備",faceImage:"顔画像",characterImage:"キャラクター画像",svBattlerImage:"SVバトラー画像",nickname:"ニックネーム",profile:"プロフィール",classId:"職業ID",initialLevel:"初期レベル",maxLevel:"最大レベル"}},class:{domainName:"職業",options:{params:"パラメータ",learnings:"習得スキル",expParams:"経験値パラメータ"}},armor:{domainName:"防具",options:{armorTypeId:"防具タイプID",slotTypeId:"スロットタイプID"}},enemy:{domainName:"敵キャラ",options:{dropItems:"ドロップアイテム",battlerHue:"バトラーヒュー",battlerName:"バトラー名",gold:"ゴールド"}},item:{domainName:"アイテム",options:{consumable:"消耗品"}},skill:{domainName:"スキル",options:{requiredWeaponTypeId1:"必要武器タイプ1",requiredWeaponTypeId2:"必要武器タイプ2",mpCost:"MP消費",tpCost:"TP消費"}},state:{domainName:"ステート",options:{restriction:"制約",priority:"優先度",motion:"モーション",overlay:"オーバーレイ",removeAtBattleEnd:"戦闘終了時解除",removeByRestriction:"制約による解除",autoRemovalTiming:"自動解除タイミング",minTurns:"最小ターン数",maxTurns:"最大ターン数",removeByDamage:"ダメージによる解除",chanceByDamage:"ダメージによる解除確率",removeByWalking:"歩行による解除",stepsToRemove:"解除までの歩数"}},weapon:{domainName:"武器",options:{weaponTypeId:"武器タイプID"}},usableItem:{domainName:"",options:{scope:"範囲",speed:"速度補正",successRate:"成功率"}}},Ks={domainName:"ダメージ",options:{}},wt=(e={})=>({type:e.type??0,elementId:e.elementId??0,formula:e.formula??"",variance:e.variance??0,critical:e.critical??!1}),pc={type:"object",required:["type","elementId","formula","variance","critical"],properties:{type:{type:"integer",minimum:0},elementId:{type:"integer",minimum:0},formula:{type:"string"},variance:{type:"integer"},critical:{type:"boolean"}}};function _c(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ve={exports:{}},Ht={},ye={},Oe={},Vt={},Bt={},Kt={},xr;function Nt(){return xr||(xr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class r{}e._CodeOrName=r,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class E extends r{constructor(t){if(super(),!e.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=E;class c extends r{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((n,d)=>`${n}${d}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((n,d)=>(d instanceof E&&(n[d.str]=(n[d.str]||0)+1),n),{})}}e._Code=c,e.nil=new c("");function y(a,...t){const n=[a[0]];let d=0;for(;d<t.length;)u(n,t[d]),n.push(a[++d]);return new c(n)}e._=y;const o=new c("+");function m(a,...t){const n=[I(a[0])];let d=0;for(;d<t.length;)n.push(o),u(n,t[d]),n.push(o,I(a[++d]));return p(n),new c(n)}e.str=m;function u(a,t){t instanceof c?a.push(...t._items):t instanceof E?a.push(t):a.push(v(t))}e.addCodeArg=u;function p(a){let t=1;for(;t<a.length-1;){if(a[t]===o){const n=A(a[t-1],a[t+1]);if(n!==void 0){a.splice(t-1,3,n);continue}a[t++]="+"}t++}}function A(a,t){if(t==='""')return a;if(a==='""')return t;if(typeof a=="string")return t instanceof E||a[a.length-1]!=='"'?void 0:typeof t!="string"?`${a.slice(0,-1)}${t}"`:t[0]==='"'?a.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(a instanceof E))return`"${a}${t.slice(1)}`}function h(a,t){return t.emptyStr()?a:a.emptyStr()?t:m`${a}${t}`}e.strConcat=h;function v(a){return typeof a=="number"||typeof a=="boolean"||a===null?a:I(Array.isArray(a)?a.join(","):a)}function P(a){return new c(I(a))}e.stringify=P;function I(a){return JSON.stringify(a).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=I;function R(a){return typeof a=="string"&&e.IDENTIFIER.test(a)?new c(`.${a}`):y`[${a}]`}e.getProperty=R;function _(a){if(typeof a=="string"&&e.IDENTIFIER.test(a))return new c(`${a}`);throw new Error(`CodeGen: invalid export name: ${a}, use explicit $id name mapping`)}e.getEsmExportName=_;function s(a){return new c(a.toString())}e.regexpCode=s}(Kt)),Kt}var Yt={},Qr;function Zr(){return Qr||(Qr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const r=Nt();class E extends Error{constructor(A){super(`CodeGen: "code" for ${A} not defined`),this.value=A.value}}var c;(function(p){p[p.Started=0]="Started",p[p.Completed=1]="Completed"})(c||(e.UsedValueState=c={})),e.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class y{constructor({prefixes:A,parent:h}={}){this._names={},this._prefixes=A,this._parent=h}toName(A){return A instanceof r.Name?A:this.name(A)}name(A){return new r.Name(this._newName(A))}_newName(A){const h=this._names[A]||this._nameGroup(A);return`${A}${h.index++}`}_nameGroup(A){var h,v;if(!((v=(h=this._parent)===null||h===void 0?void 0:h._prefixes)===null||v===void 0)&&v.has(A)||this._prefixes&&!this._prefixes.has(A))throw new Error(`CodeGen: prefix "${A}" is not allowed in this scope`);return this._names[A]={prefix:A,index:0}}}e.Scope=y;class o extends r.Name{constructor(A,h){super(h),this.prefix=A}setValue(A,{property:h,itemIndex:v}){this.value=A,this.scopePath=(0,r._)`.${new r.Name(h)}[${v}]`}}e.ValueScopeName=o;const m=(0,r._)`\n`;class u extends y{constructor(A){super(A),this._values={},this._scope=A.scope,this.opts={...A,_n:A.lines?m:r.nil}}get(){return this._scope}name(A){return new o(A,this._newName(A))}value(A,h){var v;if(h.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const P=this.toName(A),{prefix:I}=P,R=(v=h.key)!==null&&v!==void 0?v:h.ref;let _=this._values[I];if(_){const t=_.get(R);if(t)return t}else _=this._values[I]=new Map;_.set(R,P);const s=this._scope[I]||(this._scope[I]=[]),a=s.length;return s[a]=h.ref,P.setValue(h,{property:I,itemIndex:a}),P}getValue(A,h){const v=this._values[A];if(v)return v.get(h)}scopeRefs(A,h=this._values){return this._reduceValues(h,v=>{if(v.scopePath===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return(0,r._)`${A}${v.scopePath}`})}scopeCode(A=this._values,h,v){return this._reduceValues(A,P=>{if(P.value===void 0)throw new Error(`CodeGen: name "${P}" has no value`);return P.value.code},h,v)}_reduceValues(A,h,v={},P){let I=r.nil;for(const R in A){const _=A[R];if(!_)continue;const s=v[R]=v[R]||new Map;_.forEach(a=>{if(s.has(a))return;s.set(a,c.Started);let t=h(a);if(t){const n=this.opts.es5?e.varKinds.var:e.varKinds.const;I=(0,r._)`${I}${n} ${a} = ${t};${this.opts._n}`}else if(t=P==null?void 0:P(a))I=(0,r._)`${I}${t}${this.opts._n}`;else throw new E(a);s.set(a,c.Completed)})}return I}}e.ValueScope=u}(Yt)),Yt}var en;function Y(){return en||(en=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const r=Nt(),E=Zr();var c=Nt();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return c.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return c.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return c.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return c.Name}});var y=Zr();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return y.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return y.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return y.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return y.varKinds}}),e.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class o{optimizeNodes(){return this}optimizeNames(i,g){return this}}class m extends o{constructor(i,g,M){super(),this.varKind=i,this.name=g,this.rhs=M}render({es5:i,_n:g}){const M=i?E.varKinds.var:this.varKind,U=this.rhs===void 0?"":` = ${this.rhs}`;return`${M} ${this.name}${U};`+g}optimizeNames(i,g){if(i[this.name.str])return this.rhs&&(this.rhs=z(this.rhs,i,g)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class u extends o{constructor(i,g,M){super(),this.lhs=i,this.rhs=g,this.sideEffects=M}render({_n:i}){return`${this.lhs} = ${this.rhs};`+i}optimizeNames(i,g){if(!(this.lhs instanceof r.Name&&!i[this.lhs.str]&&!this.sideEffects))return this.rhs=z(this.rhs,i,g),this}get names(){const i=this.lhs instanceof r.Name?{}:{...this.lhs.names};return H(i,this.rhs)}}class p extends u{constructor(i,g,M,U){super(i,M,U),this.op=g}render({_n:i}){return`${this.lhs} ${this.op}= ${this.rhs};`+i}}class A extends o{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`${this.label}:`+i}}class h extends o{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`break${this.label?` ${this.label}`:""};`+i}}class v extends o{constructor(i){super(),this.error=i}render({_n:i}){return`throw ${this.error};`+i}get names(){return this.error.names}}class P extends o{constructor(i){super(),this.code=i}render({_n:i}){return`${this.code};`+i}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(i,g){return this.code=z(this.code,i,g),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class I extends o{constructor(i=[]){super(),this.nodes=i}render(i){return this.nodes.reduce((g,M)=>g+M.render(i),"")}optimizeNodes(){const{nodes:i}=this;let g=i.length;for(;g--;){const M=i[g].optimizeNodes();Array.isArray(M)?i.splice(g,1,...M):M?i[g]=M:i.splice(g,1)}return i.length>0?this:void 0}optimizeNames(i,g){const{nodes:M}=this;let U=M.length;for(;U--;){const G=M[U];G.optimizeNames(i,g)||(te(i,G.names),M.splice(U,1))}return M.length>0?this:void 0}get names(){return this.nodes.reduce((i,g)=>V(i,g.names),{})}}class R extends I{render(i){return"{"+i._n+super.render(i)+"}"+i._n}}class _ extends I{}class s extends R{}s.kind="else";class a extends R{constructor(i,g){super(g),this.condition=i}render(i){let g=`if(${this.condition})`+super.render(i);return this.else&&(g+="else "+this.else.render(i)),g}optimizeNodes(){super.optimizeNodes();const i=this.condition;if(i===!0)return this.nodes;let g=this.else;if(g){const M=g.optimizeNodes();g=this.else=Array.isArray(M)?new s(M):M}if(g)return i===!1?g instanceof a?g:g.nodes:this.nodes.length?this:new a(he(i),g instanceof a?[g]:g.nodes);if(!(i===!1||!this.nodes.length))return this}optimizeNames(i,g){var M;if(this.else=(M=this.else)===null||M===void 0?void 0:M.optimizeNames(i,g),!!(super.optimizeNames(i,g)||this.else))return this.condition=z(this.condition,i,g),this}get names(){const i=super.names;return H(i,this.condition),this.else&&V(i,this.else.names),i}}a.kind="if";class t extends R{}t.kind="for";class n extends t{constructor(i){super(),this.iteration=i}render(i){return`for(${this.iteration})`+super.render(i)}optimizeNames(i,g){if(super.optimizeNames(i,g))return this.iteration=z(this.iteration,i,g),this}get names(){return V(super.names,this.iteration.names)}}class d extends t{constructor(i,g,M,U){super(),this.varKind=i,this.name=g,this.from=M,this.to=U}render(i){const g=i.es5?E.varKinds.var:this.varKind,{name:M,from:U,to:G}=this;return`for(${g} ${M}=${U}; ${M}<${G}; ${M}++)`+super.render(i)}get names(){const i=H(super.names,this.from);return H(i,this.to)}}class f extends t{constructor(i,g,M,U){super(),this.loop=i,this.varKind=g,this.name=M,this.iterable=U}render(i){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(i)}optimizeNames(i,g){if(super.optimizeNames(i,g))return this.iterable=z(this.iterable,i,g),this}get names(){return V(super.names,this.iterable.names)}}class l extends R{constructor(i,g,M){super(),this.name=i,this.args=g,this.async=M}render(i){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(i)}}l.kind="func";class T extends I{render(i){return"return "+super.render(i)}}T.kind="return";class C extends R{render(i){let g="try"+super.render(i);return this.catch&&(g+=this.catch.render(i)),this.finally&&(g+=this.finally.render(i)),g}optimizeNodes(){var i,g;return super.optimizeNodes(),(i=this.catch)===null||i===void 0||i.optimizeNodes(),(g=this.finally)===null||g===void 0||g.optimizeNodes(),this}optimizeNames(i,g){var M,U;return super.optimizeNames(i,g),(M=this.catch)===null||M===void 0||M.optimizeNames(i,g),(U=this.finally)===null||U===void 0||U.optimizeNames(i,g),this}get names(){const i=super.names;return this.catch&&V(i,this.catch.names),this.finally&&V(i,this.finally.names),i}}class b extends R{constructor(i){super(),this.error=i}render(i){return`catch(${this.error})`+super.render(i)}}b.kind="catch";class F extends R{render(i){return"finally"+super.render(i)}}F.kind="finally";class j{constructor(i,g={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...g,_n:g.lines?`
`:""},this._extScope=i,this._scope=new E.Scope({parent:i}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(i){return this._scope.name(i)}scopeName(i){return this._extScope.name(i)}scopeValue(i,g){const M=this._extScope.value(i,g);return(this._values[M.prefix]||(this._values[M.prefix]=new Set)).add(M),M}getScopeValue(i,g){return this._extScope.getValue(i,g)}scopeRefs(i){return this._extScope.scopeRefs(i,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(i,g,M,U){const G=this._scope.toName(g);return M!==void 0&&U&&(this._constants[G.str]=M),this._leafNode(new m(i,G,M)),G}const(i,g,M){return this._def(E.varKinds.const,i,g,M)}let(i,g,M){return this._def(E.varKinds.let,i,g,M)}var(i,g,M){return this._def(E.varKinds.var,i,g,M)}assign(i,g,M){return this._leafNode(new u(i,g,M))}add(i,g){return this._leafNode(new p(i,e.operators.ADD,g))}code(i){return typeof i=="function"?i():i!==r.nil&&this._leafNode(new P(i)),this}object(...i){const g=["{"];for(const[M,U]of i)g.length>1&&g.push(","),g.push(M),(M!==U||this.opts.es5)&&(g.push(":"),(0,r.addCodeArg)(g,U));return g.push("}"),new r._Code(g)}if(i,g,M){if(this._blockNode(new a(i)),g&&M)this.code(g).else().code(M).endIf();else if(g)this.code(g).endIf();else if(M)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(i){return this._elseNode(new a(i))}else(){return this._elseNode(new s)}endIf(){return this._endBlockNode(a,s)}_for(i,g){return this._blockNode(i),g&&this.code(g).endFor(),this}for(i,g){return this._for(new n(i),g)}forRange(i,g,M,U,G=this.opts.es5?E.varKinds.var:E.varKinds.let){const J=this._scope.toName(i);return this._for(new d(G,J,g,M),()=>U(J))}forOf(i,g,M,U=E.varKinds.const){const G=this._scope.toName(i);if(this.opts.es5){const J=g instanceof r.Name?g:this.var("_arr",g);return this.forRange("_i",0,(0,r._)`${J}.length`,W=>{this.var(G,(0,r._)`${J}[${W}]`),M(G)})}return this._for(new f("of",U,G,g),()=>M(G))}forIn(i,g,M,U=this.opts.es5?E.varKinds.var:E.varKinds.const){if(this.opts.ownProperties)return this.forOf(i,(0,r._)`Object.keys(${g})`,M);const G=this._scope.toName(i);return this._for(new f("in",U,G,g),()=>M(G))}endFor(){return this._endBlockNode(t)}label(i){return this._leafNode(new A(i))}break(i){return this._leafNode(new h(i))}return(i){const g=new T;if(this._blockNode(g),this.code(i),g.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(T)}try(i,g,M){if(!g&&!M)throw new Error('CodeGen: "try" without "catch" and "finally"');const U=new C;if(this._blockNode(U),this.code(i),g){const G=this.name("e");this._currNode=U.catch=new b(G),g(G)}return M&&(this._currNode=U.finally=new F,this.code(M)),this._endBlockNode(b,F)}throw(i){return this._leafNode(new v(i))}block(i,g){return this._blockStarts.push(this._nodes.length),i&&this.code(i).endBlock(g),this}endBlock(i){const g=this._blockStarts.pop();if(g===void 0)throw new Error("CodeGen: not in self-balancing block");const M=this._nodes.length-g;if(M<0||i!==void 0&&M!==i)throw new Error(`CodeGen: wrong number of nodes: ${M} vs ${i} expected`);return this._nodes.length=g,this}func(i,g=r.nil,M,U){return this._blockNode(new l(i,g,M)),U&&this.code(U).endFunc(),this}endFunc(){return this._endBlockNode(l)}optimize(i=1){for(;i-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(i){return this._currNode.nodes.push(i),this}_blockNode(i){this._currNode.nodes.push(i),this._nodes.push(i)}_endBlockNode(i,g){const M=this._currNode;if(M instanceof i||g&&M instanceof g)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${g?`${i.kind}/${g.kind}`:i.kind}"`)}_elseNode(i){const g=this._currNode;if(!(g instanceof a))throw new Error('CodeGen: "else" without "if"');return this._currNode=g.else=i,this}get _root(){return this._nodes[0]}get _currNode(){const i=this._nodes;return i[i.length-1]}set _currNode(i){const g=this._nodes;g[g.length-1]=i}}e.CodeGen=j;function V($,i){for(const g in i)$[g]=($[g]||0)+(i[g]||0);return $}function H($,i){return i instanceof r._CodeOrName?V($,i.names):$}function z($,i,g){if($ instanceof r.Name)return M($);if(!U($))return $;return new r._Code($._items.reduce((G,J)=>(J instanceof r.Name&&(J=M(J)),J instanceof r._Code?G.push(...J._items):G.push(J),G),[]));function M(G){const J=g[G.str];return J===void 0||i[G.str]!==1?G:(delete i[G.str],J)}function U(G){return G instanceof r._Code&&G._items.some(J=>J instanceof r.Name&&i[J.str]===1&&g[J.str]!==void 0)}}function te($,i){for(const g in i)$[g]=($[g]||0)-(i[g]||0)}function he($){return typeof $=="boolean"||typeof $=="number"||$===null?!$:(0,r._)`!${w($)}`}e.not=he;const Ee=O(e.operators.AND);function Z(...$){return $.reduce(Ee)}e.and=Z;const Re=O(e.operators.OR);function D(...$){return $.reduce(Re)}e.or=D;function O($){return(i,g)=>i===r.nil?g:g===r.nil?i:(0,r._)`${w(i)} ${$} ${w(g)}`}function w($){return $ instanceof r.Name?$:(0,r._)`(${$})`}}(Bt)),Bt}var B={},tn;function X(){if(tn)return B;tn=1,Object.defineProperty(B,"__esModule",{value:!0}),B.checkStrictMode=B.getErrorPath=B.Type=B.useFunc=B.setEvaluated=B.evaluatedPropsToName=B.mergeEvaluated=B.eachItem=B.unescapeJsonPointer=B.escapeJsonPointer=B.escapeFragment=B.unescapeFragment=B.schemaRefOrVal=B.schemaHasRulesButRef=B.schemaHasRules=B.checkUnknownRules=B.alwaysValidSchema=B.toHash=void 0;const e=Y(),r=Nt();function E(f){const l={};for(const T of f)l[T]=!0;return l}B.toHash=E;function c(f,l){return typeof l=="boolean"?l:Object.keys(l).length===0?!0:(y(f,l),!o(l,f.self.RULES.all))}B.alwaysValidSchema=c;function y(f,l=f.schema){const{opts:T,self:C}=f;if(!T.strictSchema||typeof l=="boolean")return;const b=C.RULES.keywords;for(const F in l)b[F]||d(f,`unknown keyword: "${F}"`)}B.checkUnknownRules=y;function o(f,l){if(typeof f=="boolean")return!f;for(const T in f)if(l[T])return!0;return!1}B.schemaHasRules=o;function m(f,l){if(typeof f=="boolean")return!f;for(const T in f)if(T!=="$ref"&&l.all[T])return!0;return!1}B.schemaHasRulesButRef=m;function u({topSchemaRef:f,schemaPath:l},T,C,b){if(!b){if(typeof T=="number"||typeof T=="boolean")return T;if(typeof T=="string")return(0,e._)`${T}`}return(0,e._)`${f}${l}${(0,e.getProperty)(C)}`}B.schemaRefOrVal=u;function p(f){return v(decodeURIComponent(f))}B.unescapeFragment=p;function A(f){return encodeURIComponent(h(f))}B.escapeFragment=A;function h(f){return typeof f=="number"?`${f}`:f.replace(/~/g,"~0").replace(/\//g,"~1")}B.escapeJsonPointer=h;function v(f){return f.replace(/~1/g,"/").replace(/~0/g,"~")}B.unescapeJsonPointer=v;function P(f,l){if(Array.isArray(f))for(const T of f)l(T);else l(f)}B.eachItem=P;function I({mergeNames:f,mergeToName:l,mergeValues:T,resultToName:C}){return(b,F,j,V)=>{const H=j===void 0?F:j instanceof e.Name?(F instanceof e.Name?f(b,F,j):l(b,F,j),j):F instanceof e.Name?(l(b,j,F),F):T(F,j);return V===e.Name&&!(H instanceof e.Name)?C(b,H):H}}B.mergeEvaluated={props:I({mergeNames:(f,l,T)=>f.if((0,e._)`${T} !== true && ${l} !== undefined`,()=>{f.if((0,e._)`${l} === true`,()=>f.assign(T,!0),()=>f.assign(T,(0,e._)`${T} || {}`).code((0,e._)`Object.assign(${T}, ${l})`))}),mergeToName:(f,l,T)=>f.if((0,e._)`${T} !== true`,()=>{l===!0?f.assign(T,!0):(f.assign(T,(0,e._)`${T} || {}`),_(f,T,l))}),mergeValues:(f,l)=>f===!0?!0:{...f,...l},resultToName:R}),items:I({mergeNames:(f,l,T)=>f.if((0,e._)`${T} !== true && ${l} !== undefined`,()=>f.assign(T,(0,e._)`${l} === true ? true : ${T} > ${l} ? ${T} : ${l}`)),mergeToName:(f,l,T)=>f.if((0,e._)`${T} !== true`,()=>f.assign(T,l===!0?!0:(0,e._)`${T} > ${l} ? ${T} : ${l}`)),mergeValues:(f,l)=>f===!0?!0:Math.max(f,l),resultToName:(f,l)=>f.var("items",l)})};function R(f,l){if(l===!0)return f.var("props",!0);const T=f.var("props",(0,e._)`{}`);return l!==void 0&&_(f,T,l),T}B.evaluatedPropsToName=R;function _(f,l,T){Object.keys(T).forEach(C=>f.assign((0,e._)`${l}${(0,e.getProperty)(C)}`,!0))}B.setEvaluated=_;const s={};function a(f,l){return f.scopeValue("func",{ref:l,code:s[l.code]||(s[l.code]=new r._Code(l.code))})}B.useFunc=a;var t;(function(f){f[f.Num=0]="Num",f[f.Str=1]="Str"})(t||(B.Type=t={}));function n(f,l,T){if(f instanceof e.Name){const C=l===t.Num;return T?C?(0,e._)`"[" + ${f} + "]"`:(0,e._)`"['" + ${f} + "']"`:C?(0,e._)`"/" + ${f}`:(0,e._)`"/" + ${f}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return T?(0,e.getProperty)(f).toString():"/"+h(f)}B.getErrorPath=n;function d(f,l,T=f.opts.strictSchema){if(T){if(l=`strict mode: ${l}`,T===!0)throw new Error(l);f.self.logger.warn(l)}}return B.checkStrictMode=d,B}var Be={},rn;function Ie(){if(rn)return Be;rn=1,Object.defineProperty(Be,"__esModule",{value:!0});const e=Y(),r={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Be.default=r,Be}var nn;function bt(){return nn||(nn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const r=Y(),E=X(),c=Ie();e.keywordError={message:({keyword:s})=>(0,r.str)`must pass "${s}" keyword validation`},e.keyword$DataError={message:({keyword:s,schemaType:a})=>a?(0,r.str)`"${s}" keyword must be ${a} ($data)`:(0,r.str)`"${s}" keyword is invalid ($data)`};function y(s,a=e.keywordError,t,n){const{it:d}=s,{gen:f,compositeRule:l,allErrors:T}=d,C=v(s,a,t);n??(l||T)?p(f,C):A(d,(0,r._)`[${C}]`)}e.reportError=y;function o(s,a=e.keywordError,t){const{it:n}=s,{gen:d,compositeRule:f,allErrors:l}=n,T=v(s,a,t);p(d,T),f||l||A(n,c.default.vErrors)}e.reportExtraError=o;function m(s,a){s.assign(c.default.errors,a),s.if((0,r._)`${c.default.vErrors} !== null`,()=>s.if(a,()=>s.assign((0,r._)`${c.default.vErrors}.length`,a),()=>s.assign(c.default.vErrors,null)))}e.resetErrorsCount=m;function u({gen:s,keyword:a,schemaValue:t,data:n,errsCount:d,it:f}){if(d===void 0)throw new Error("ajv implementation error");const l=s.name("err");s.forRange("i",d,c.default.errors,T=>{s.const(l,(0,r._)`${c.default.vErrors}[${T}]`),s.if((0,r._)`${l}.instancePath === undefined`,()=>s.assign((0,r._)`${l}.instancePath`,(0,r.strConcat)(c.default.instancePath,f.errorPath))),s.assign((0,r._)`${l}.schemaPath`,(0,r.str)`${f.errSchemaPath}/${a}`),f.opts.verbose&&(s.assign((0,r._)`${l}.schema`,t),s.assign((0,r._)`${l}.data`,n))})}e.extendErrors=u;function p(s,a){const t=s.const("err",a);s.if((0,r._)`${c.default.vErrors} === null`,()=>s.assign(c.default.vErrors,(0,r._)`[${t}]`),(0,r._)`${c.default.vErrors}.push(${t})`),s.code((0,r._)`${c.default.errors}++`)}function A(s,a){const{gen:t,validateName:n,schemaEnv:d}=s;d.$async?t.throw((0,r._)`new ${s.ValidationError}(${a})`):(t.assign((0,r._)`${n}.errors`,a),t.return(!1))}const h={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function v(s,a,t){const{createErrors:n}=s.it;return n===!1?(0,r._)`{}`:P(s,a,t)}function P(s,a,t={}){const{gen:n,it:d}=s,f=[I(d,t),R(s,t)];return _(s,a,f),n.object(...f)}function I({errorPath:s},{instancePath:a}){const t=a?(0,r.str)`${s}${(0,E.getErrorPath)(a,E.Type.Str)}`:s;return[c.default.instancePath,(0,r.strConcat)(c.default.instancePath,t)]}function R({keyword:s,it:{errSchemaPath:a}},{schemaPath:t,parentSchema:n}){let d=n?a:(0,r.str)`${a}/${s}`;return t&&(d=(0,r.str)`${d}${(0,E.getErrorPath)(t,E.Type.Str)}`),[h.schemaPath,d]}function _(s,{params:a,message:t},n){const{keyword:d,data:f,schemaValue:l,it:T}=s,{opts:C,propertyName:b,topSchemaRef:F,schemaPath:j}=T;n.push([h.keyword,d],[h.params,typeof a=="function"?a(s):a||(0,r._)`{}`]),C.messages&&n.push([h.message,typeof t=="function"?t(s):t]),C.verbose&&n.push([h.schema,l],[h.parentSchema,(0,r._)`${F}${j}`],[c.default.data,f]),b&&n.push([h.propertyName,b])}}(Vt)),Vt}var an;function hc(){if(an)return Oe;an=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.boolOrEmptySchema=Oe.topBoolOrEmptySchema=void 0;const e=bt(),r=Y(),E=Ie(),c={message:"boolean schema is false"};function y(u){const{gen:p,schema:A,validateName:h}=u;A===!1?m(u,!1):typeof A=="object"&&A.$async===!0?p.return(E.default.data):(p.assign((0,r._)`${h}.errors`,null),p.return(!0))}Oe.topBoolOrEmptySchema=y;function o(u,p){const{gen:A,schema:h}=u;h===!1?(A.var(p,!1),m(u)):A.var(p,!0)}Oe.boolOrEmptySchema=o;function m(u,p){const{gen:A,data:h}=u,v={gen:A,keyword:"false schema",data:h,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:u};(0,e.reportError)(v,c,void 0,p)}return Oe}var ae={},Ne={},sn;function Ys(){if(sn)return Ne;sn=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.getRules=Ne.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],r=new Set(e);function E(y){return typeof y=="string"&&r.has(y)}Ne.isJSONType=E;function c(){const y={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...y,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},y.number,y.string,y.array,y.object],post:{rules:[]},all:{},keywords:{}}}return Ne.getRules=c,Ne}var Ae={},on;function Ws(){if(on)return Ae;on=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.shouldUseRule=Ae.shouldUseGroup=Ae.schemaHasRulesForType=void 0;function e({schema:c,self:y},o){const m=y.RULES.types[o];return m&&m!==!0&&r(c,m)}Ae.schemaHasRulesForType=e;function r(c,y){return y.rules.some(o=>E(c,o))}Ae.shouldUseGroup=r;function E(c,y){var o;return c[y.keyword]!==void 0||((o=y.definition.implements)===null||o===void 0?void 0:o.some(m=>c[m]!==void 0))}return Ae.shouldUseRule=E,Ae}var cn;function $t(){if(cn)return ae;cn=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.reportTypeError=ae.checkDataTypes=ae.checkDataType=ae.coerceAndCheckDataType=ae.getJSONTypes=ae.getSchemaTypes=ae.DataType=void 0;const e=Ys(),r=Ws(),E=bt(),c=Y(),y=X();var o;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(o||(ae.DataType=o={}));function m(t){const n=u(t.type);if(n.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!n.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&n.push("null")}return n}ae.getSchemaTypes=m;function u(t){const n=Array.isArray(t)?t:t?[t]:[];if(n.every(e.isJSONType))return n;throw new Error("type must be JSONType or JSONType[]: "+n.join(","))}ae.getJSONTypes=u;function p(t,n){const{gen:d,data:f,opts:l}=t,T=h(n,l.coerceTypes),C=n.length>0&&!(T.length===0&&n.length===1&&(0,r.schemaHasRulesForType)(t,n[0]));if(C){const b=R(n,f,l.strictNumbers,o.Wrong);d.if(b,()=>{T.length?v(t,n,T):s(t)})}return C}ae.coerceAndCheckDataType=p;const A=new Set(["string","number","integer","boolean","null"]);function h(t,n){return n?t.filter(d=>A.has(d)||n==="array"&&d==="array"):[]}function v(t,n,d){const{gen:f,data:l,opts:T}=t,C=f.let("dataType",(0,c._)`typeof ${l}`),b=f.let("coerced",(0,c._)`undefined`);T.coerceTypes==="array"&&f.if((0,c._)`${C} == 'object' && Array.isArray(${l}) && ${l}.length == 1`,()=>f.assign(l,(0,c._)`${l}[0]`).assign(C,(0,c._)`typeof ${l}`).if(R(n,l,T.strictNumbers),()=>f.assign(b,l))),f.if((0,c._)`${b} !== undefined`);for(const j of d)(A.has(j)||j==="array"&&T.coerceTypes==="array")&&F(j);f.else(),s(t),f.endIf(),f.if((0,c._)`${b} !== undefined`,()=>{f.assign(l,b),P(t,b)});function F(j){switch(j){case"string":f.elseIf((0,c._)`${C} == "number" || ${C} == "boolean"`).assign(b,(0,c._)`"" + ${l}`).elseIf((0,c._)`${l} === null`).assign(b,(0,c._)`""`);return;case"number":f.elseIf((0,c._)`${C} == "boolean" || ${l} === null
              || (${C} == "string" && ${l} && ${l} == +${l})`).assign(b,(0,c._)`+${l}`);return;case"integer":f.elseIf((0,c._)`${C} === "boolean" || ${l} === null
              || (${C} === "string" && ${l} && ${l} == +${l} && !(${l} % 1))`).assign(b,(0,c._)`+${l}`);return;case"boolean":f.elseIf((0,c._)`${l} === "false" || ${l} === 0 || ${l} === null`).assign(b,!1).elseIf((0,c._)`${l} === "true" || ${l} === 1`).assign(b,!0);return;case"null":f.elseIf((0,c._)`${l} === "" || ${l} === 0 || ${l} === false`),f.assign(b,null);return;case"array":f.elseIf((0,c._)`${C} === "string" || ${C} === "number"
              || ${C} === "boolean" || ${l} === null`).assign(b,(0,c._)`[${l}]`)}}}function P({gen:t,parentData:n,parentDataProperty:d},f){t.if((0,c._)`${n} !== undefined`,()=>t.assign((0,c._)`${n}[${d}]`,f))}function I(t,n,d,f=o.Correct){const l=f===o.Correct?c.operators.EQ:c.operators.NEQ;let T;switch(t){case"null":return(0,c._)`${n} ${l} null`;case"array":T=(0,c._)`Array.isArray(${n})`;break;case"object":T=(0,c._)`${n} && typeof ${n} == "object" && !Array.isArray(${n})`;break;case"integer":T=C((0,c._)`!(${n} % 1) && !isNaN(${n})`);break;case"number":T=C();break;default:return(0,c._)`typeof ${n} ${l} ${t}`}return f===o.Correct?T:(0,c.not)(T);function C(b=c.nil){return(0,c.and)((0,c._)`typeof ${n} == "number"`,b,d?(0,c._)`isFinite(${n})`:c.nil)}}ae.checkDataType=I;function R(t,n,d,f){if(t.length===1)return I(t[0],n,d,f);let l;const T=(0,y.toHash)(t);if(T.array&&T.object){const C=(0,c._)`typeof ${n} != "object"`;l=T.null?C:(0,c._)`!${n} || ${C}`,delete T.null,delete T.array,delete T.object}else l=c.nil;T.number&&delete T.integer;for(const C in T)l=(0,c.and)(l,I(C,n,d,f));return l}ae.checkDataTypes=R;const _={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:n})=>typeof t=="string"?(0,c._)`{type: ${t}}`:(0,c._)`{type: ${n}}`};function s(t){const n=a(t);(0,E.reportError)(n,_)}ae.reportTypeError=s;function a(t){const{gen:n,data:d,schema:f}=t,l=(0,y.schemaRefOrVal)(t,f,"type");return{gen:n,keyword:"type",data:d,schema:f.type,schemaCode:l,schemaValue:l,parentSchema:f,params:{},it:t}}return ae}var je={},un;function Ec(){if(un)return je;un=1,Object.defineProperty(je,"__esModule",{value:!0}),je.assignDefaults=void 0;const e=Y(),r=X();function E(y,o){const{properties:m,items:u}=y.schema;if(o==="object"&&m)for(const p in m)c(y,p,m[p].default);else o==="array"&&Array.isArray(u)&&u.forEach((p,A)=>c(y,A,p.default))}je.assignDefaults=E;function c(y,o,m){const{gen:u,compositeRule:p,data:A,opts:h}=y;if(m===void 0)return;const v=(0,e._)`${A}${(0,e.getProperty)(o)}`;if(p){(0,r.checkStrictMode)(y,`default is ignored for: ${v}`);return}let P=(0,e._)`${v} === undefined`;h.useDefaults==="empty"&&(P=(0,e._)`${P} || ${v} === null || ${v} === ""`),u.if(P,(0,e._)`${v} = ${(0,e.stringify)(m)}`)}return je}var pe={},x={},dn;function _e(){if(dn)return x;dn=1,Object.defineProperty(x,"__esModule",{value:!0}),x.validateUnion=x.validateArray=x.usePattern=x.callValidateCode=x.schemaProperties=x.allSchemaProperties=x.noPropertyInData=x.propertyInData=x.isOwnProperty=x.hasPropFunc=x.reportMissingProp=x.checkMissingProp=x.checkReportMissingProp=void 0;const e=Y(),r=X(),E=Ie(),c=X();function y(t,n){const{gen:d,data:f,it:l}=t;d.if(h(d,f,n,l.opts.ownProperties),()=>{t.setParams({missingProperty:(0,e._)`${n}`},!0),t.error()})}x.checkReportMissingProp=y;function o({gen:t,data:n,it:{opts:d}},f,l){return(0,e.or)(...f.map(T=>(0,e.and)(h(t,n,T,d.ownProperties),(0,e._)`${l} = ${T}`)))}x.checkMissingProp=o;function m(t,n){t.setParams({missingProperty:n},!0),t.error()}x.reportMissingProp=m;function u(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}x.hasPropFunc=u;function p(t,n,d){return(0,e._)`${u(t)}.call(${n}, ${d})`}x.isOwnProperty=p;function A(t,n,d,f){const l=(0,e._)`${n}${(0,e.getProperty)(d)} !== undefined`;return f?(0,e._)`${l} && ${p(t,n,d)}`:l}x.propertyInData=A;function h(t,n,d,f){const l=(0,e._)`${n}${(0,e.getProperty)(d)} === undefined`;return f?(0,e.or)(l,(0,e.not)(p(t,n,d))):l}x.noPropertyInData=h;function v(t){return t?Object.keys(t).filter(n=>n!=="__proto__"):[]}x.allSchemaProperties=v;function P(t,n){return v(n).filter(d=>!(0,r.alwaysValidSchema)(t,n[d]))}x.schemaProperties=P;function I({schemaCode:t,data:n,it:{gen:d,topSchemaRef:f,schemaPath:l,errorPath:T},it:C},b,F,j){const V=j?(0,e._)`${t}, ${n}, ${f}${l}`:n,H=[[E.default.instancePath,(0,e.strConcat)(E.default.instancePath,T)],[E.default.parentData,C.parentData],[E.default.parentDataProperty,C.parentDataProperty],[E.default.rootData,E.default.rootData]];C.opts.dynamicRef&&H.push([E.default.dynamicAnchors,E.default.dynamicAnchors]);const z=(0,e._)`${V}, ${d.object(...H)}`;return F!==e.nil?(0,e._)`${b}.call(${F}, ${z})`:(0,e._)`${b}(${z})`}x.callValidateCode=I;const R=(0,e._)`new RegExp`;function _({gen:t,it:{opts:n}},d){const f=n.unicodeRegExp?"u":"",{regExp:l}=n.code,T=l(d,f);return t.scopeValue("pattern",{key:T.toString(),ref:T,code:(0,e._)`${l.code==="new RegExp"?R:(0,c.useFunc)(t,l)}(${d}, ${f})`})}x.usePattern=_;function s(t){const{gen:n,data:d,keyword:f,it:l}=t,T=n.name("valid");if(l.allErrors){const b=n.let("valid",!0);return C(()=>n.assign(b,!1)),b}return n.var(T,!0),C(()=>n.break()),T;function C(b){const F=n.const("len",(0,e._)`${d}.length`);n.forRange("i",0,F,j=>{t.subschema({keyword:f,dataProp:j,dataPropType:r.Type.Num},T),n.if((0,e.not)(T),b)})}}x.validateArray=s;function a(t){const{gen:n,schema:d,keyword:f,it:l}=t;if(!Array.isArray(d))throw new Error("ajv implementation error");if(d.some(F=>(0,r.alwaysValidSchema)(l,F))&&!l.opts.unevaluated)return;const C=n.let("valid",!1),b=n.name("_valid");n.block(()=>d.forEach((F,j)=>{const V=t.subschema({keyword:f,schemaProp:j,compositeRule:!0},b);n.assign(C,(0,e._)`${C} || ${b}`),t.mergeValidEvaluated(V,b)||n.if((0,e.not)(C))})),t.result(C,()=>t.reset(),()=>t.error(!0))}return x.validateUnion=a,x}var ln;function yc(){if(ln)return pe;ln=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.validateKeywordUsage=pe.validSchemaType=pe.funcKeywordCode=pe.macroKeywordCode=void 0;const e=Y(),r=Ie(),E=_e(),c=bt();function y(P,I){const{gen:R,keyword:_,schema:s,parentSchema:a,it:t}=P,n=I.macro.call(t.self,s,a,t),d=A(R,_,n);t.opts.validateSchema!==!1&&t.self.validateSchema(n,!0);const f=R.name("valid");P.subschema({schema:n,schemaPath:e.nil,errSchemaPath:`${t.errSchemaPath}/${_}`,topSchemaRef:d,compositeRule:!0},f),P.pass(f,()=>P.error(!0))}pe.macroKeywordCode=y;function o(P,I){var R;const{gen:_,keyword:s,schema:a,parentSchema:t,$data:n,it:d}=P;p(d,I);const f=!n&&I.compile?I.compile.call(d.self,a,t,d):I.validate,l=A(_,s,f),T=_.let("valid");P.block$data(T,C),P.ok((R=I.valid)!==null&&R!==void 0?R:T);function C(){if(I.errors===!1)j(),I.modifying&&m(P),V(()=>P.error());else{const H=I.async?b():F();I.modifying&&m(P),V(()=>u(P,H))}}function b(){const H=_.let("ruleErrs",null);return _.try(()=>j((0,e._)`await `),z=>_.assign(T,!1).if((0,e._)`${z} instanceof ${d.ValidationError}`,()=>_.assign(H,(0,e._)`${z}.errors`),()=>_.throw(z))),H}function F(){const H=(0,e._)`${l}.errors`;return _.assign(H,null),j(e.nil),H}function j(H=I.async?(0,e._)`await `:e.nil){const z=d.opts.passContext?r.default.this:r.default.self,te=!("compile"in I&&!n||I.schema===!1);_.assign(T,(0,e._)`${H}${(0,E.callValidateCode)(P,l,z,te)}`,I.modifying)}function V(H){var z;_.if((0,e.not)((z=I.valid)!==null&&z!==void 0?z:T),H)}}pe.funcKeywordCode=o;function m(P){const{gen:I,data:R,it:_}=P;I.if(_.parentData,()=>I.assign(R,(0,e._)`${_.parentData}[${_.parentDataProperty}]`))}function u(P,I){const{gen:R}=P;R.if((0,e._)`Array.isArray(${I})`,()=>{R.assign(r.default.vErrors,(0,e._)`${r.default.vErrors} === null ? ${I} : ${r.default.vErrors}.concat(${I})`).assign(r.default.errors,(0,e._)`${r.default.vErrors}.length`),(0,c.extendErrors)(P)},()=>P.error())}function p({schemaEnv:P},I){if(I.async&&!P.$async)throw new Error("async keyword in sync schema")}function A(P,I,R){if(R===void 0)throw new Error(`keyword "${I}" failed to compile`);return P.scopeValue("keyword",typeof R=="function"?{ref:R}:{ref:R,code:(0,e.stringify)(R)})}function h(P,I,R=!1){return!I.length||I.some(_=>_==="array"?Array.isArray(P):_==="object"?P&&typeof P=="object"&&!Array.isArray(P):typeof P==_||R&&typeof P>"u")}pe.validSchemaType=h;function v({schema:P,opts:I,self:R,errSchemaPath:_},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const t=s.dependencies;if(t!=null&&t.some(n=>!Object.prototype.hasOwnProperty.call(P,n)))throw new Error(`parent schema must have dependencies of ${a}: ${t.join(",")}`);if(s.validateSchema&&!s.validateSchema(P[a])){const d=`keyword "${a}" value is invalid at path "${_}": `+R.errorsText(s.validateSchema.errors);if(I.validateSchema==="log")R.logger.error(d);else throw new Error(d)}}return pe.validateKeywordUsage=v,pe}var Te={},fn;function Ac(){if(fn)return Te;fn=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.extendSubschemaMode=Te.extendSubschemaData=Te.getSubschema=void 0;const e=Y(),r=X();function E(o,{keyword:m,schemaProp:u,schema:p,schemaPath:A,errSchemaPath:h,topSchemaRef:v}){if(m!==void 0&&p!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(m!==void 0){const P=o.schema[m];return u===void 0?{schema:P,schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(m)}`,errSchemaPath:`${o.errSchemaPath}/${m}`}:{schema:P[u],schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(m)}${(0,e.getProperty)(u)}`,errSchemaPath:`${o.errSchemaPath}/${m}/${(0,r.escapeFragment)(u)}`}}if(p!==void 0){if(A===void 0||h===void 0||v===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:p,schemaPath:A,topSchemaRef:v,errSchemaPath:h}}throw new Error('either "keyword" or "schema" must be passed')}Te.getSubschema=E;function c(o,m,{dataProp:u,dataPropType:p,data:A,dataTypes:h,propertyName:v}){if(A!==void 0&&u!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:P}=m;if(u!==void 0){const{errorPath:R,dataPathArr:_,opts:s}=m,a=P.let("data",(0,e._)`${m.data}${(0,e.getProperty)(u)}`,!0);I(a),o.errorPath=(0,e.str)`${R}${(0,r.getErrorPath)(u,p,s.jsPropertySyntax)}`,o.parentDataProperty=(0,e._)`${u}`,o.dataPathArr=[..._,o.parentDataProperty]}if(A!==void 0){const R=A instanceof e.Name?A:P.let("data",A,!0);I(R),v!==void 0&&(o.propertyName=v)}h&&(o.dataTypes=h);function I(R){o.data=R,o.dataLevel=m.dataLevel+1,o.dataTypes=[],m.definedProperties=new Set,o.parentData=m.data,o.dataNames=[...m.dataNames,R]}}Te.extendSubschemaData=c;function y(o,{jtdDiscriminator:m,jtdMetadata:u,compositeRule:p,createErrors:A,allErrors:h}){p!==void 0&&(o.compositeRule=p),A!==void 0&&(o.createErrors=A),h!==void 0&&(o.allErrors=h),o.jtdDiscriminator=m,o.jtdMetadata=u}return Te.extendSubschemaMode=y,Te}var oe={},Wt,mn;function zs(){return mn||(mn=1,Wt=function e(r,E){if(r===E)return!0;if(r&&E&&typeof r=="object"&&typeof E=="object"){if(r.constructor!==E.constructor)return!1;var c,y,o;if(Array.isArray(r)){if(c=r.length,c!=E.length)return!1;for(y=c;y--!==0;)if(!e(r[y],E[y]))return!1;return!0}if(r.constructor===RegExp)return r.source===E.source&&r.flags===E.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===E.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===E.toString();if(o=Object.keys(r),c=o.length,c!==Object.keys(E).length)return!1;for(y=c;y--!==0;)if(!Object.prototype.hasOwnProperty.call(E,o[y]))return!1;for(y=c;y--!==0;){var m=o[y];if(!e(r[m],E[m]))return!1}return!0}return r!==r&&E!==E}),Wt}var zt={exports:{}},pn;function Tc(){if(pn)return zt.exports;pn=1;var e=zt.exports=function(c,y,o){typeof y=="function"&&(o=y,y={}),o=y.cb||o;var m=typeof o=="function"?o:o.pre||function(){},u=o.post||function(){};r(y,m,u,c,"",c)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function r(c,y,o,m,u,p,A,h,v,P){if(m&&typeof m=="object"&&!Array.isArray(m)){y(m,u,p,A,h,v,P);for(var I in m){var R=m[I];if(Array.isArray(R)){if(I in e.arrayKeywords)for(var _=0;_<R.length;_++)r(c,y,o,R[_],u+"/"+I+"/"+_,p,u,I,m,_)}else if(I in e.propsKeywords){if(R&&typeof R=="object")for(var s in R)r(c,y,o,R[s],u+"/"+I+"/"+E(s),p,u,I,m,s)}else(I in e.keywords||c.allKeys&&!(I in e.skipKeywords))&&r(c,y,o,R,u+"/"+I,p,u,I,m)}o(m,u,p,A,h,v,P)}}function E(c){return c.replace(/~/g,"~0").replace(/\//g,"~1")}return zt.exports}var _n;function Dt(){if(_n)return oe;_n=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.getSchemaRefs=oe.resolveUrl=oe.normalizeId=oe._getFullPath=oe.getFullPath=oe.inlineRef=void 0;const e=X(),r=zs(),E=Tc(),c=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function y(_,s=!0){return typeof _=="boolean"?!0:s===!0?!m(_):s?u(_)<=s:!1}oe.inlineRef=y;const o=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function m(_){for(const s in _){if(o.has(s))return!0;const a=_[s];if(Array.isArray(a)&&a.some(m)||typeof a=="object"&&m(a))return!0}return!1}function u(_){let s=0;for(const a in _){if(a==="$ref")return 1/0;if(s++,!c.has(a)&&(typeof _[a]=="object"&&(0,e.eachItem)(_[a],t=>s+=u(t)),s===1/0))return 1/0}return s}function p(_,s="",a){a!==!1&&(s=v(s));const t=_.parse(s);return A(_,t)}oe.getFullPath=p;function A(_,s){return _.serialize(s).split("#")[0]+"#"}oe._getFullPath=A;const h=/#\/?$/;function v(_){return _?_.replace(h,""):""}oe.normalizeId=v;function P(_,s,a){return a=v(a),_.resolve(s,a)}oe.resolveUrl=P;const I=/^[a-z_][-a-z0-9._]*$/i;function R(_,s){if(typeof _=="boolean")return{};const{schemaId:a,uriResolver:t}=this.opts,n=v(_[a]||s),d={"":n},f=p(t,n,!1),l={},T=new Set;return E(_,{allKeys:!0},(F,j,V,H)=>{if(H===void 0)return;const z=f+j;let te=d[H];typeof F[a]=="string"&&(te=he.call(this,F[a])),Ee.call(this,F.$anchor),Ee.call(this,F.$dynamicAnchor),d[j]=te;function he(Z){const Re=this.opts.uriResolver.resolve;if(Z=v(te?Re(te,Z):Z),T.has(Z))throw b(Z);T.add(Z);let D=this.refs[Z];return typeof D=="string"&&(D=this.refs[D]),typeof D=="object"?C(F,D.schema,Z):Z!==v(z)&&(Z[0]==="#"?(C(F,l[Z],Z),l[Z]=F):this.refs[Z]=z),Z}function Ee(Z){if(typeof Z=="string"){if(!I.test(Z))throw new Error(`invalid anchor "${Z}"`);he.call(this,`#${Z}`)}}}),l;function C(F,j,V){if(j!==void 0&&!r(F,j))throw b(V)}function b(F){return new Error(`reference "${F}" resolves to more than one schema`)}}return oe.getSchemaRefs=R,oe}var hn;function kt(){if(hn)return ye;hn=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.getData=ye.KeywordCxt=ye.validateFunctionCode=void 0;const e=hc(),r=$t(),E=Ws(),c=$t(),y=Ec(),o=yc(),m=Ac(),u=Y(),p=Ie(),A=Dt(),h=X(),v=bt();function P(S){if(f(S)&&(T(S),d(S))){s(S);return}I(S,()=>(0,e.topBoolOrEmptySchema)(S))}ye.validateFunctionCode=P;function I({gen:S,validateName:N,schema:L,schemaEnv:k,opts:q},K){q.code.es5?S.func(N,(0,u._)`${p.default.data}, ${p.default.valCxt}`,k.$async,()=>{S.code((0,u._)`"use strict"; ${t(L,q)}`),_(S,q),S.code(K)}):S.func(N,(0,u._)`${p.default.data}, ${R(q)}`,k.$async,()=>S.code(t(L,q)).code(K))}function R(S){return(0,u._)`{${p.default.instancePath}="", ${p.default.parentData}, ${p.default.parentDataProperty}, ${p.default.rootData}=${p.default.data}${S.dynamicRef?(0,u._)`, ${p.default.dynamicAnchors}={}`:u.nil}}={}`}function _(S,N){S.if(p.default.valCxt,()=>{S.var(p.default.instancePath,(0,u._)`${p.default.valCxt}.${p.default.instancePath}`),S.var(p.default.parentData,(0,u._)`${p.default.valCxt}.${p.default.parentData}`),S.var(p.default.parentDataProperty,(0,u._)`${p.default.valCxt}.${p.default.parentDataProperty}`),S.var(p.default.rootData,(0,u._)`${p.default.valCxt}.${p.default.rootData}`),N.dynamicRef&&S.var(p.default.dynamicAnchors,(0,u._)`${p.default.valCxt}.${p.default.dynamicAnchors}`)},()=>{S.var(p.default.instancePath,(0,u._)`""`),S.var(p.default.parentData,(0,u._)`undefined`),S.var(p.default.parentDataProperty,(0,u._)`undefined`),S.var(p.default.rootData,p.default.data),N.dynamicRef&&S.var(p.default.dynamicAnchors,(0,u._)`{}`)})}function s(S){const{schema:N,opts:L,gen:k}=S;I(S,()=>{L.$comment&&N.$comment&&H(S),F(S),k.let(p.default.vErrors,null),k.let(p.default.errors,0),L.unevaluated&&a(S),C(S),z(S)})}function a(S){const{gen:N,validateName:L}=S;S.evaluated=N.const("evaluated",(0,u._)`${L}.evaluated`),N.if((0,u._)`${S.evaluated}.dynamicProps`,()=>N.assign((0,u._)`${S.evaluated}.props`,(0,u._)`undefined`)),N.if((0,u._)`${S.evaluated}.dynamicItems`,()=>N.assign((0,u._)`${S.evaluated}.items`,(0,u._)`undefined`))}function t(S,N){const L=typeof S=="object"&&S[N.schemaId];return L&&(N.code.source||N.code.process)?(0,u._)`/*# sourceURL=${L} */`:u.nil}function n(S,N){if(f(S)&&(T(S),d(S))){l(S,N);return}(0,e.boolOrEmptySchema)(S,N)}function d({schema:S,self:N}){if(typeof S=="boolean")return!S;for(const L in S)if(N.RULES.all[L])return!0;return!1}function f(S){return typeof S.schema!="boolean"}function l(S,N){const{schema:L,gen:k,opts:q}=S;q.$comment&&L.$comment&&H(S),j(S),V(S);const K=k.const("_errs",p.default.errors);C(S,K),k.var(N,(0,u._)`${K} === ${p.default.errors}`)}function T(S){(0,h.checkUnknownRules)(S),b(S)}function C(S,N){if(S.opts.jtd)return he(S,[],!1,N);const L=(0,r.getSchemaTypes)(S.schema),k=(0,r.coerceAndCheckDataType)(S,L);he(S,L,!k,N)}function b(S){const{schema:N,errSchemaPath:L,opts:k,self:q}=S;N.$ref&&k.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(N,q.RULES)&&q.logger.warn(`$ref: keywords ignored in schema at path "${L}"`)}function F(S){const{schema:N,opts:L}=S;N.default!==void 0&&L.useDefaults&&L.strictSchema&&(0,h.checkStrictMode)(S,"default is ignored in the schema root")}function j(S){const N=S.schema[S.opts.schemaId];N&&(S.baseId=(0,A.resolveUrl)(S.opts.uriResolver,S.baseId,N))}function V(S){if(S.schema.$async&&!S.schemaEnv.$async)throw new Error("async schema in sync schema")}function H({gen:S,schemaEnv:N,schema:L,errSchemaPath:k,opts:q}){const K=L.$comment;if(q.$comment===!0)S.code((0,u._)`${p.default.self}.logger.log(${K})`);else if(typeof q.$comment=="function"){const re=(0,u.str)`${k}/$comment`,me=S.scopeValue("root",{ref:N.root});S.code((0,u._)`${p.default.self}.opts.$comment(${K}, ${re}, ${me}.schema)`)}}function z(S){const{gen:N,schemaEnv:L,validateName:k,ValidationError:q,opts:K}=S;L.$async?N.if((0,u._)`${p.default.errors} === 0`,()=>N.return(p.default.data),()=>N.throw((0,u._)`new ${q}(${p.default.vErrors})`)):(N.assign((0,u._)`${k}.errors`,p.default.vErrors),K.unevaluated&&te(S),N.return((0,u._)`${p.default.errors} === 0`))}function te({gen:S,evaluated:N,props:L,items:k}){L instanceof u.Name&&S.assign((0,u._)`${N}.props`,L),k instanceof u.Name&&S.assign((0,u._)`${N}.items`,k)}function he(S,N,L,k){const{gen:q,schema:K,data:re,allErrors:me,opts:ie,self:ce}=S,{RULES:ne}=ce;if(K.$ref&&(ie.ignoreKeywordsWithRef||!(0,h.schemaHasRulesButRef)(K,ne))){q.block(()=>U(S,"$ref",ne.all.$ref.definition));return}ie.jtd||Z(S,N),q.block(()=>{for(const le of ne.rules)Le(le);Le(ne.post)});function Le(le){(0,E.shouldUseGroup)(K,le)&&(le.type?(q.if((0,c.checkDataType)(le.type,re,ie.strictNumbers)),Ee(S,le),N.length===1&&N[0]===le.type&&L&&(q.else(),(0,c.reportTypeError)(S)),q.endIf()):Ee(S,le),me||q.if((0,u._)`${p.default.errors} === ${k||0}`))}}function Ee(S,N){const{gen:L,schema:k,opts:{useDefaults:q}}=S;q&&(0,y.assignDefaults)(S,N.type),L.block(()=>{for(const K of N.rules)(0,E.shouldUseRule)(k,K)&&U(S,K.keyword,K.definition,N.type)})}function Z(S,N){S.schemaEnv.meta||!S.opts.strictTypes||(Re(S,N),S.opts.allowUnionTypes||D(S,N),O(S,S.dataTypes))}function Re(S,N){if(N.length){if(!S.dataTypes.length){S.dataTypes=N;return}N.forEach(L=>{$(S.dataTypes,L)||g(S,`type "${L}" not allowed by context "${S.dataTypes.join(",")}"`)}),i(S,N)}}function D(S,N){N.length>1&&!(N.length===2&&N.includes("null"))&&g(S,"use allowUnionTypes to allow union type keyword")}function O(S,N){const L=S.self.RULES.all;for(const k in L){const q=L[k];if(typeof q=="object"&&(0,E.shouldUseRule)(S.schema,q)){const{type:K}=q.definition;K.length&&!K.some(re=>w(N,re))&&g(S,`missing type "${K.join(",")}" for keyword "${k}"`)}}}function w(S,N){return S.includes(N)||N==="number"&&S.includes("integer")}function $(S,N){return S.includes(N)||N==="integer"&&S.includes("number")}function i(S,N){const L=[];for(const k of S.dataTypes)$(N,k)?L.push(k):N.includes("integer")&&k==="number"&&L.push("integer");S.dataTypes=L}function g(S,N){const L=S.schemaEnv.baseId+S.errSchemaPath;N+=` at "${L}" (strictTypes)`,(0,h.checkStrictMode)(S,N,S.opts.strictTypes)}class M{constructor(N,L,k){if((0,o.validateKeywordUsage)(N,L,k),this.gen=N.gen,this.allErrors=N.allErrors,this.keyword=k,this.data=N.data,this.schema=N.schema[k],this.$data=L.$data&&N.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(N,this.schema,k,this.$data),this.schemaType=L.schemaType,this.parentSchema=N.schema,this.params={},this.it=N,this.def=L,this.$data)this.schemaCode=N.gen.const("vSchema",W(this.$data,N));else if(this.schemaCode=this.schemaValue,!(0,o.validSchemaType)(this.schema,L.schemaType,L.allowUndefined))throw new Error(`${k} value must be ${JSON.stringify(L.schemaType)}`);("code"in L?L.trackErrors:L.errors!==!1)&&(this.errsCount=N.gen.const("_errs",p.default.errors))}result(N,L,k){this.failResult((0,u.not)(N),L,k)}failResult(N,L,k){this.gen.if(N),k?k():this.error(),L?(this.gen.else(),L(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(N,L){this.failResult((0,u.not)(N),void 0,L)}fail(N){if(N===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(N),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(N){if(!this.$data)return this.fail(N);const{schemaCode:L}=this;this.fail((0,u._)`${L} !== undefined && (${(0,u.or)(this.invalid$data(),N)})`)}error(N,L,k){if(L){this.setParams(L),this._error(N,k),this.setParams({});return}this._error(N,k)}_error(N,L){(N?v.reportExtraError:v.reportError)(this,this.def.error,L)}$dataError(){(0,v.reportError)(this,this.def.$dataError||v.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,v.resetErrorsCount)(this.gen,this.errsCount)}ok(N){this.allErrors||this.gen.if(N)}setParams(N,L){L?Object.assign(this.params,N):this.params=N}block$data(N,L,k=u.nil){this.gen.block(()=>{this.check$data(N,k),L()})}check$data(N=u.nil,L=u.nil){if(!this.$data)return;const{gen:k,schemaCode:q,schemaType:K,def:re}=this;k.if((0,u.or)((0,u._)`${q} === undefined`,L)),N!==u.nil&&k.assign(N,!0),(K.length||re.validateSchema)&&(k.elseIf(this.invalid$data()),this.$dataError(),N!==u.nil&&k.assign(N,!1)),k.else()}invalid$data(){const{gen:N,schemaCode:L,schemaType:k,def:q,it:K}=this;return(0,u.or)(re(),me());function re(){if(k.length){if(!(L instanceof u.Name))throw new Error("ajv implementation error");const ie=Array.isArray(k)?k:[k];return(0,u._)`${(0,c.checkDataTypes)(ie,L,K.opts.strictNumbers,c.DataType.Wrong)}`}return u.nil}function me(){if(q.validateSchema){const ie=N.scopeValue("validate$data",{ref:q.validateSchema});return(0,u._)`!${ie}(${L})`}return u.nil}}subschema(N,L){const k=(0,m.getSubschema)(this.it,N);(0,m.extendSubschemaData)(k,this.it,N),(0,m.extendSubschemaMode)(k,N);const q={...this.it,...k,items:void 0,props:void 0};return n(q,L),q}mergeEvaluated(N,L){const{it:k,gen:q}=this;k.opts.unevaluated&&(k.props!==!0&&N.props!==void 0&&(k.props=h.mergeEvaluated.props(q,N.props,k.props,L)),k.items!==!0&&N.items!==void 0&&(k.items=h.mergeEvaluated.items(q,N.items,k.items,L)))}mergeValidEvaluated(N,L){const{it:k,gen:q}=this;if(k.opts.unevaluated&&(k.props!==!0||k.items!==!0))return q.if(L,()=>this.mergeEvaluated(N,u.Name)),!0}}ye.KeywordCxt=M;function U(S,N,L,k){const q=new M(S,L,N);"code"in L?L.code(q,k):q.$data&&L.validate?(0,o.funcKeywordCode)(q,L):"macro"in L?(0,o.macroKeywordCode)(q,L):(L.compile||L.validate)&&(0,o.funcKeywordCode)(q,L)}const G=/^\/(?:[^~]|~0|~1)*$/,J=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function W(S,{dataLevel:N,dataNames:L,dataPathArr:k}){let q,K;if(S==="")return p.default.rootData;if(S[0]==="/"){if(!G.test(S))throw new Error(`Invalid JSON-pointer: ${S}`);q=S,K=p.default.rootData}else{const ce=J.exec(S);if(!ce)throw new Error(`Invalid JSON-pointer: ${S}`);const ne=+ce[1];if(q=ce[2],q==="#"){if(ne>=N)throw new Error(ie("property/index",ne));return k[N-ne]}if(ne>N)throw new Error(ie("data",ne));if(K=L[N-ne],!q)return K}let re=K;const me=q.split("/");for(const ce of me)ce&&(K=(0,u._)`${K}${(0,u.getProperty)((0,h.unescapeJsonPointer)(ce))}`,re=(0,u._)`${re} && ${K}`);return re;function ie(ce,ne){return`Cannot access ${ce} ${ne} levels up, current level is ${N}`}}return ye.getData=W,ye}var Ke={},En;function kr(){if(En)return Ke;En=1,Object.defineProperty(Ke,"__esModule",{value:!0});class e extends Error{constructor(E){super("validation failed"),this.errors=E,this.ajv=this.validation=!0}}return Ke.default=e,Ke}var Ye={},yn;function Ft(){if(yn)return Ye;yn=1,Object.defineProperty(Ye,"__esModule",{value:!0});const e=Dt();class r extends Error{constructor(c,y,o,m){super(m||`can't resolve reference ${o} from id ${y}`),this.missingRef=(0,e.resolveUrl)(c,y,o),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(c,this.missingRef))}}return Ye.default=r,Ye}var de={},An;function Fr(){if(An)return de;An=1,Object.defineProperty(de,"__esModule",{value:!0}),de.resolveSchema=de.getCompilingSchema=de.resolveRef=de.compileSchema=de.SchemaEnv=void 0;const e=Y(),r=kr(),E=Ie(),c=Dt(),y=X(),o=kt();class m{constructor(a){var t;this.refs={},this.dynamicAnchors={};let n;typeof a.schema=="object"&&(n=a.schema),this.schema=a.schema,this.schemaId=a.schemaId,this.root=a.root||this,this.baseId=(t=a.baseId)!==null&&t!==void 0?t:(0,c.normalizeId)(n==null?void 0:n[a.schemaId||"$id"]),this.schemaPath=a.schemaPath,this.localRefs=a.localRefs,this.meta=a.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}de.SchemaEnv=m;function u(s){const a=h.call(this,s);if(a)return a;const t=(0,c.getFullPath)(this.opts.uriResolver,s.root.baseId),{es5:n,lines:d}=this.opts.code,{ownProperties:f}=this.opts,l=new e.CodeGen(this.scope,{es5:n,lines:d,ownProperties:f});let T;s.$async&&(T=l.scopeValue("Error",{ref:r.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const C=l.scopeName("validate");s.validateName=C;const b={gen:l,allErrors:this.opts.allErrors,data:E.default.data,parentData:E.default.parentData,parentDataProperty:E.default.parentDataProperty,dataNames:[E.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:l.scopeValue("schema",this.opts.code.source===!0?{ref:s.schema,code:(0,e.stringify)(s.schema)}:{ref:s.schema}),validateName:C,ValidationError:T,schema:s.schema,schemaEnv:s,rootId:t,baseId:s.baseId||t,schemaPath:e.nil,errSchemaPath:s.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let F;try{this._compilations.add(s),(0,o.validateFunctionCode)(b),l.optimize(this.opts.code.optimize);const j=l.toString();F=`${l.scopeRefs(E.default.scope)}return ${j}`,this.opts.code.process&&(F=this.opts.code.process(F,s));const H=new Function(`${E.default.self}`,`${E.default.scope}`,F)(this,this.scope.get());if(this.scope.value(C,{ref:H}),H.errors=null,H.schema=s.schema,H.schemaEnv=s,s.$async&&(H.$async=!0),this.opts.code.source===!0&&(H.source={validateName:C,validateCode:j,scopeValues:l._values}),this.opts.unevaluated){const{props:z,items:te}=b;H.evaluated={props:z instanceof e.Name?void 0:z,items:te instanceof e.Name?void 0:te,dynamicProps:z instanceof e.Name,dynamicItems:te instanceof e.Name},H.source&&(H.source.evaluated=(0,e.stringify)(H.evaluated))}return s.validate=H,s}catch(j){throw delete s.validate,delete s.validateName,F&&this.logger.error("Error compiling schema, function code:",F),j}finally{this._compilations.delete(s)}}de.compileSchema=u;function p(s,a,t){var n;t=(0,c.resolveUrl)(this.opts.uriResolver,a,t);const d=s.refs[t];if(d)return d;let f=P.call(this,s,t);if(f===void 0){const l=(n=s.localRefs)===null||n===void 0?void 0:n[t],{schemaId:T}=this.opts;l&&(f=new m({schema:l,schemaId:T,root:s,baseId:a}))}if(f!==void 0)return s.refs[t]=A.call(this,f)}de.resolveRef=p;function A(s){return(0,c.inlineRef)(s.schema,this.opts.inlineRefs)?s.schema:s.validate?s:u.call(this,s)}function h(s){for(const a of this._compilations)if(v(a,s))return a}de.getCompilingSchema=h;function v(s,a){return s.schema===a.schema&&s.root===a.root&&s.baseId===a.baseId}function P(s,a){let t;for(;typeof(t=this.refs[a])=="string";)a=t;return t||this.schemas[a]||I.call(this,s,a)}function I(s,a){const t=this.opts.uriResolver.parse(a),n=(0,c._getFullPath)(this.opts.uriResolver,t);let d=(0,c.getFullPath)(this.opts.uriResolver,s.baseId,void 0);if(Object.keys(s.schema).length>0&&n===d)return _.call(this,t,s);const f=(0,c.normalizeId)(n),l=this.refs[f]||this.schemas[f];if(typeof l=="string"){const T=I.call(this,s,l);return typeof(T==null?void 0:T.schema)!="object"?void 0:_.call(this,t,T)}if(typeof(l==null?void 0:l.schema)=="object"){if(l.validate||u.call(this,l),f===(0,c.normalizeId)(a)){const{schema:T}=l,{schemaId:C}=this.opts,b=T[C];return b&&(d=(0,c.resolveUrl)(this.opts.uriResolver,d,b)),new m({schema:T,schemaId:C,root:s,baseId:d})}return _.call(this,t,l)}}de.resolveSchema=I;const R=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function _(s,{baseId:a,schema:t,root:n}){var d;if(((d=s.fragment)===null||d===void 0?void 0:d[0])!=="/")return;for(const T of s.fragment.slice(1).split("/")){if(typeof t=="boolean")return;const C=t[(0,y.unescapeFragment)(T)];if(C===void 0)return;t=C;const b=typeof t=="object"&&t[this.opts.schemaId];!R.has(T)&&b&&(a=(0,c.resolveUrl)(this.opts.uriResolver,a,b))}let f;if(typeof t!="boolean"&&t.$ref&&!(0,y.schemaHasRulesButRef)(t,this.RULES)){const T=(0,c.resolveUrl)(this.opts.uriResolver,a,t.$ref);f=I.call(this,n,T)}const{schemaId:l}=this.opts;if(f=f||new m({schema:t,schemaId:l,root:n,baseId:a}),f.schema!==f.root.schema)return f}return de}const gc="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Rc="Meta-schema for $data reference (JSON AnySchema extension proposal)",vc="object",Sc=["$data"],Ic={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Pc=!1,Oc={$id:gc,description:Rc,type:vc,required:Sc,properties:Ic,additionalProperties:Pc};var We={},qe={exports:{}},Xt,Tn;function Nc(){return Tn||(Tn=1,Xt={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),Xt}var Jt,gn;function $c(){if(gn)return Jt;gn=1;const{HEX:e}=Nc(),r=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function E(_){if(u(_,".")<3)return{host:_,isIPV4:!1};const s=_.match(r)||[],[a]=s;return a?{host:m(a,"."),isIPV4:!0}:{host:_,isIPV4:!1}}function c(_,s=!1){let a="",t=!0;for(const n of _){if(e[n]===void 0)return;n!=="0"&&t===!0&&(t=!1),t||(a+=n)}return s&&a.length===0&&(a="0"),a}function y(_){let s=0;const a={error:!1,address:"",zone:""},t=[],n=[];let d=!1,f=!1,l=!1;function T(){if(n.length){if(d===!1){const C=c(n);if(C!==void 0)t.push(C);else return a.error=!0,!1}n.length=0}return!0}for(let C=0;C<_.length;C++){const b=_[C];if(!(b==="["||b==="]"))if(b===":"){if(f===!0&&(l=!0),!T())break;if(s++,t.push(":"),s>7){a.error=!0;break}C-1>=0&&_[C-1]===":"&&(f=!0);continue}else if(b==="%"){if(!T())break;d=!0}else{n.push(b);continue}}return n.length&&(d?a.zone=n.join(""):l?t.push(n.join("")):t.push(c(n))),a.address=t.join(""),a}function o(_){if(u(_,":")<2)return{host:_,isIPV6:!1};const s=y(_);if(s.error)return{host:_,isIPV6:!1};{let a=s.address,t=s.address;return s.zone&&(a+="%"+s.zone,t+="%25"+s.zone),{host:a,escapedHost:t,isIPV6:!0}}}function m(_,s){let a="",t=!0;const n=_.length;for(let d=0;d<n;d++){const f=_[d];f==="0"&&t?(d+1<=n&&_[d+1]===s||d+1===n)&&(a+=f,t=!1):(f===s?t=!0:t=!1,a+=f)}return a}function u(_,s){let a=0;for(let t=0;t<_.length;t++)_[t]===s&&a++;return a}const p=/^\.\.?\//u,A=/^\/\.(?:\/|$)/u,h=/^\/\.\.(?:\/|$)/u,v=/^\/?(?:.|\n)*?(?=\/|$)/u;function P(_){const s=[];for(;_.length;)if(_.match(p))_=_.replace(p,"");else if(_.match(A))_=_.replace(A,"/");else if(_.match(h))_=_.replace(h,"/"),s.pop();else if(_==="."||_==="..")_="";else{const a=_.match(v);if(a){const t=a[0];_=_.slice(t.length),s.push(t)}else throw new Error("Unexpected dot segment condition")}return s.join("")}function I(_,s){const a=s!==!0?escape:unescape;return _.scheme!==void 0&&(_.scheme=a(_.scheme)),_.userinfo!==void 0&&(_.userinfo=a(_.userinfo)),_.host!==void 0&&(_.host=a(_.host)),_.path!==void 0&&(_.path=a(_.path)),_.query!==void 0&&(_.query=a(_.query)),_.fragment!==void 0&&(_.fragment=a(_.fragment)),_}function R(_){const s=[];if(_.userinfo!==void 0&&(s.push(_.userinfo),s.push("@")),_.host!==void 0){let a=unescape(_.host);const t=E(a);if(t.isIPV4)a=t.host;else{const n=o(t.host);n.isIPV6===!0?a=`[${n.escapedHost}]`:a=_.host}s.push(a)}return(typeof _.port=="number"||typeof _.port=="string")&&(s.push(":"),s.push(String(_.port))),s.length?s.join(""):void 0}return Jt={recomposeAuthority:R,normalizeComponentEncoding:I,removeDotSegments:P,normalizeIPv4:E,normalizeIPv6:o,stringArrayToHexStripped:c},Jt}var xt,Rn;function Cc(){if(Rn)return xt;Rn=1;const e=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,r=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function E(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function c(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function y(t){const n=String(t.scheme).toLowerCase()==="https";return(t.port===(n?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function o(t){return t.secure=E(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function m(t){if((t.port===(E(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){const[n,d]=t.resourceName.split("?");t.path=n&&n!=="/"?n:void 0,t.query=d,t.resourceName=void 0}return t.fragment=void 0,t}function u(t,n){if(!t.path)return t.error="URN can not be parsed",t;const d=t.path.match(r);if(d){const f=n.scheme||t.scheme||"urn";t.nid=d[1].toLowerCase(),t.nss=d[2];const l=`${f}:${n.nid||t.nid}`,T=a[l];t.path=void 0,T&&(t=T.parse(t,n))}else t.error=t.error||"URN can not be parsed.";return t}function p(t,n){const d=n.scheme||t.scheme||"urn",f=t.nid.toLowerCase(),l=`${d}:${n.nid||f}`,T=a[l];T&&(t=T.serialize(t,n));const C=t,b=t.nss;return C.path=`${f||n.nid}:${b}`,n.skipEscape=!0,C}function A(t,n){const d=t;return d.uuid=d.nss,d.nss=void 0,!n.tolerant&&(!d.uuid||!e.test(d.uuid))&&(d.error=d.error||"UUID is not valid."),d}function h(t){const n=t;return n.nss=(t.uuid||"").toLowerCase(),n}const v={scheme:"http",domainHost:!0,parse:c,serialize:y},P={scheme:"https",domainHost:v.domainHost,parse:c,serialize:y},I={scheme:"ws",domainHost:!0,parse:o,serialize:m},R={scheme:"wss",domainHost:I.domainHost,parse:I.parse,serialize:I.serialize},a={http:v,https:P,ws:I,wss:R,urn:{scheme:"urn",parse:u,serialize:p,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:A,serialize:h,skipNormalize:!0}};return xt=a,xt}var vn;function Mc(){if(vn)return qe.exports;vn=1;const{normalizeIPv6:e,normalizeIPv4:r,removeDotSegments:E,recomposeAuthority:c,normalizeComponentEncoding:y}=$c(),o=Cc();function m(s,a){return typeof s=="string"?s=h(R(s,a),a):typeof s=="object"&&(s=R(h(s,a),a)),s}function u(s,a,t){const n=Object.assign({scheme:"null"},t),d=p(R(s,n),R(a,n),n,!0);return h(d,{...n,skipEscape:!0})}function p(s,a,t,n){const d={};return n||(s=R(h(s,t),t),a=R(h(a,t),t)),t=t||{},!t.tolerant&&a.scheme?(d.scheme=a.scheme,d.userinfo=a.userinfo,d.host=a.host,d.port=a.port,d.path=E(a.path||""),d.query=a.query):(a.userinfo!==void 0||a.host!==void 0||a.port!==void 0?(d.userinfo=a.userinfo,d.host=a.host,d.port=a.port,d.path=E(a.path||""),d.query=a.query):(a.path?(a.path.charAt(0)==="/"?d.path=E(a.path):((s.userinfo!==void 0||s.host!==void 0||s.port!==void 0)&&!s.path?d.path="/"+a.path:s.path?d.path=s.path.slice(0,s.path.lastIndexOf("/")+1)+a.path:d.path=a.path,d.path=E(d.path)),d.query=a.query):(d.path=s.path,a.query!==void 0?d.query=a.query:d.query=s.query),d.userinfo=s.userinfo,d.host=s.host,d.port=s.port),d.scheme=s.scheme),d.fragment=a.fragment,d}function A(s,a,t){return typeof s=="string"?(s=unescape(s),s=h(y(R(s,t),!0),{...t,skipEscape:!0})):typeof s=="object"&&(s=h(y(s,!0),{...t,skipEscape:!0})),typeof a=="string"?(a=unescape(a),a=h(y(R(a,t),!0),{...t,skipEscape:!0})):typeof a=="object"&&(a=h(y(a,!0),{...t,skipEscape:!0})),s.toLowerCase()===a.toLowerCase()}function h(s,a){const t={host:s.host,scheme:s.scheme,userinfo:s.userinfo,port:s.port,path:s.path,query:s.query,nid:s.nid,nss:s.nss,uuid:s.uuid,fragment:s.fragment,reference:s.reference,resourceName:s.resourceName,secure:s.secure,error:""},n=Object.assign({},a),d=[],f=o[(n.scheme||t.scheme||"").toLowerCase()];f&&f.serialize&&f.serialize(t,n),t.path!==void 0&&(n.skipEscape?t.path=unescape(t.path):(t.path=escape(t.path),t.scheme!==void 0&&(t.path=t.path.split("%3A").join(":")))),n.reference!=="suffix"&&t.scheme&&d.push(t.scheme,":");const l=c(t);if(l!==void 0&&(n.reference!=="suffix"&&d.push("//"),d.push(l),t.path&&t.path.charAt(0)!=="/"&&d.push("/")),t.path!==void 0){let T=t.path;!n.absolutePath&&(!f||!f.absolutePath)&&(T=E(T)),l===void 0&&(T=T.replace(/^\/\//u,"/%2F")),d.push(T)}return t.query!==void 0&&d.push("?",t.query),t.fragment!==void 0&&d.push("#",t.fragment),d.join("")}const v=Array.from({length:127},(s,a)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(a)));function P(s){let a=0;for(let t=0,n=s.length;t<n;++t)if(a=s.charCodeAt(t),a>126||v[a])return!0;return!1}const I=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function R(s,a){const t=Object.assign({},a),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},d=s.indexOf("%")!==-1;let f=!1;t.reference==="suffix"&&(s=(t.scheme?t.scheme+":":"")+"//"+s);const l=s.match(I);if(l){if(n.scheme=l[1],n.userinfo=l[3],n.host=l[4],n.port=parseInt(l[5],10),n.path=l[6]||"",n.query=l[7],n.fragment=l[8],isNaN(n.port)&&(n.port=l[5]),n.host){const C=r(n.host);if(C.isIPV4===!1){const b=e(C.host);n.host=b.host.toLowerCase(),f=b.isIPV6}else n.host=C.host,f=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",t.reference&&t.reference!=="suffix"&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");const T=o[(t.scheme||n.scheme||"").toLowerCase()];if(!t.unicodeSupport&&(!T||!T.unicodeSupport)&&n.host&&(t.domainHost||T&&T.domainHost)&&f===!1&&P(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(C){n.error=n.error||"Host's domain name can not be converted to ASCII: "+C}(!T||T&&!T.skipNormalize)&&(d&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),d&&n.host!==void 0&&(n.host=unescape(n.host)),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),T&&T.parse&&T.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}const _={SCHEMES:o,normalize:m,resolve:u,resolveComponents:p,equal:A,serialize:h,parse:R};return qe.exports=_,qe.exports.default=_,qe.exports.fastUri=_,qe.exports}var Sn;function Lc(){if(Sn)return We;Sn=1,Object.defineProperty(We,"__esModule",{value:!0});const e=Mc();return e.code='require("ajv/dist/runtime/uri").default',We.default=e,We}var In;function wc(){return In||(In=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=kt();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var E=Y();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return E._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return E.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return E.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return E.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return E.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return E.CodeGen}});const c=kr(),y=Ft(),o=Ys(),m=Fr(),u=Y(),p=Dt(),A=$t(),h=X(),v=Oc,P=Lc(),I=(D,O)=>new RegExp(D,O);I.code="new RegExp";const R=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),s={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},a={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},t=200;function n(D){var O,w,$,i,g,M,U,G,J,W,S,N,L,k,q,K,re,me,ie,ce,ne,Le,le,Ut,jt;const Fe=D.strict,qt=(O=D.code)===null||O===void 0?void 0:O.optimize,jr=qt===!0||qt===void 0?1:qt||0,qr=($=(w=D.code)===null||w===void 0?void 0:w.regExp)!==null&&$!==void 0?$:I,Zs=(i=D.uriResolver)!==null&&i!==void 0?i:P.default;return{strictSchema:(M=(g=D.strictSchema)!==null&&g!==void 0?g:Fe)!==null&&M!==void 0?M:!0,strictNumbers:(G=(U=D.strictNumbers)!==null&&U!==void 0?U:Fe)!==null&&G!==void 0?G:!0,strictTypes:(W=(J=D.strictTypes)!==null&&J!==void 0?J:Fe)!==null&&W!==void 0?W:"log",strictTuples:(N=(S=D.strictTuples)!==null&&S!==void 0?S:Fe)!==null&&N!==void 0?N:"log",strictRequired:(k=(L=D.strictRequired)!==null&&L!==void 0?L:Fe)!==null&&k!==void 0?k:!1,code:D.code?{...D.code,optimize:jr,regExp:qr}:{optimize:jr,regExp:qr},loopRequired:(q=D.loopRequired)!==null&&q!==void 0?q:t,loopEnum:(K=D.loopEnum)!==null&&K!==void 0?K:t,meta:(re=D.meta)!==null&&re!==void 0?re:!0,messages:(me=D.messages)!==null&&me!==void 0?me:!0,inlineRefs:(ie=D.inlineRefs)!==null&&ie!==void 0?ie:!0,schemaId:(ce=D.schemaId)!==null&&ce!==void 0?ce:"$id",addUsedSchema:(ne=D.addUsedSchema)!==null&&ne!==void 0?ne:!0,validateSchema:(Le=D.validateSchema)!==null&&Le!==void 0?Le:!0,validateFormats:(le=D.validateFormats)!==null&&le!==void 0?le:!0,unicodeRegExp:(Ut=D.unicodeRegExp)!==null&&Ut!==void 0?Ut:!0,int32range:(jt=D.int32range)!==null&&jt!==void 0?jt:!0,uriResolver:Zs}}class d{constructor(O={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,O=this.opts={...O,...n(O)};const{es5:w,lines:$}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:_,es5:w,lines:$}),this.logger=V(O.logger);const i=O.validateFormats;O.validateFormats=!1,this.RULES=(0,o.getRules)(),f.call(this,s,O,"NOT SUPPORTED"),f.call(this,a,O,"DEPRECATED","warn"),this._metaOpts=F.call(this),O.formats&&C.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),O.keywords&&b.call(this,O.keywords),typeof O.meta=="object"&&this.addMetaSchema(O.meta),T.call(this),O.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:O,meta:w,schemaId:$}=this.opts;let i=v;$==="id"&&(i={...v},i.id=i.$id,delete i.$id),w&&O&&this.addMetaSchema(i,i[$],!1)}defaultMeta(){const{meta:O,schemaId:w}=this.opts;return this.opts.defaultMeta=typeof O=="object"?O[w]||O:void 0}validate(O,w){let $;if(typeof O=="string"){if($=this.getSchema(O),!$)throw new Error(`no schema with key or ref "${O}"`)}else $=this.compile(O);const i=$(w);return"$async"in $||(this.errors=$.errors),i}compile(O,w){const $=this._addSchema(O,w);return $.validate||this._compileSchemaEnv($)}compileAsync(O,w){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:$}=this.opts;return i.call(this,O,w);async function i(W,S){await g.call(this,W.$schema);const N=this._addSchema(W,S);return N.validate||M.call(this,N)}async function g(W){W&&!this.getSchema(W)&&await i.call(this,{$ref:W},!0)}async function M(W){try{return this._compileSchemaEnv(W)}catch(S){if(!(S instanceof y.default))throw S;return U.call(this,S),await G.call(this,S.missingSchema),M.call(this,W)}}function U({missingSchema:W,missingRef:S}){if(this.refs[W])throw new Error(`AnySchema ${W} is loaded but ${S} cannot be resolved`)}async function G(W){const S=await J.call(this,W);this.refs[W]||await g.call(this,S.$schema),this.refs[W]||this.addSchema(S,W,w)}async function J(W){const S=this._loading[W];if(S)return S;try{return await(this._loading[W]=$(W))}finally{delete this._loading[W]}}}addSchema(O,w,$,i=this.opts.validateSchema){if(Array.isArray(O)){for(const M of O)this.addSchema(M,void 0,$,i);return this}let g;if(typeof O=="object"){const{schemaId:M}=this.opts;if(g=O[M],g!==void 0&&typeof g!="string")throw new Error(`schema ${M} must be string`)}return w=(0,p.normalizeId)(w||g),this._checkUnique(w),this.schemas[w]=this._addSchema(O,$,w,i,!0),this}addMetaSchema(O,w,$=this.opts.validateSchema){return this.addSchema(O,w,!0,$),this}validateSchema(O,w){if(typeof O=="boolean")return!0;let $;if($=O.$schema,$!==void 0&&typeof $!="string")throw new Error("$schema must be a string");if($=$||this.opts.defaultMeta||this.defaultMeta(),!$)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const i=this.validate($,O);if(!i&&w){const g="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(g);else throw new Error(g)}return i}getSchema(O){let w;for(;typeof(w=l.call(this,O))=="string";)O=w;if(w===void 0){const{schemaId:$}=this.opts,i=new m.SchemaEnv({schema:{},schemaId:$});if(w=m.resolveSchema.call(this,i,O),!w)return;this.refs[O]=w}return w.validate||this._compileSchemaEnv(w)}removeSchema(O){if(O instanceof RegExp)return this._removeAllSchemas(this.schemas,O),this._removeAllSchemas(this.refs,O),this;switch(typeof O){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const w=l.call(this,O);return typeof w=="object"&&this._cache.delete(w.schema),delete this.schemas[O],delete this.refs[O],this}case"object":{const w=O;this._cache.delete(w);let $=O[this.opts.schemaId];return $&&($=(0,p.normalizeId)($),delete this.schemas[$],delete this.refs[$]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(O){for(const w of O)this.addKeyword(w);return this}addKeyword(O,w){let $;if(typeof O=="string")$=O,typeof w=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),w.keyword=$);else if(typeof O=="object"&&w===void 0){if(w=O,$=w.keyword,Array.isArray($)&&!$.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(z.call(this,$,w),!w)return(0,h.eachItem)($,g=>te.call(this,g)),this;Ee.call(this,w);const i={...w,type:(0,A.getJSONTypes)(w.type),schemaType:(0,A.getJSONTypes)(w.schemaType)};return(0,h.eachItem)($,i.type.length===0?g=>te.call(this,g,i):g=>i.type.forEach(M=>te.call(this,g,i,M))),this}getKeyword(O){const w=this.RULES.all[O];return typeof w=="object"?w.definition:!!w}removeKeyword(O){const{RULES:w}=this;delete w.keywords[O],delete w.all[O];for(const $ of w.rules){const i=$.rules.findIndex(g=>g.keyword===O);i>=0&&$.rules.splice(i,1)}return this}addFormat(O,w){return typeof w=="string"&&(w=new RegExp(w)),this.formats[O]=w,this}errorsText(O=this.errors,{separator:w=", ",dataVar:$="data"}={}){return!O||O.length===0?"No errors":O.map(i=>`${$}${i.instancePath} ${i.message}`).reduce((i,g)=>i+w+g)}$dataMetaSchema(O,w){const $=this.RULES.all;O=JSON.parse(JSON.stringify(O));for(const i of w){const g=i.split("/").slice(1);let M=O;for(const U of g)M=M[U];for(const U in $){const G=$[U];if(typeof G!="object")continue;const{$data:J}=G.definition,W=M[U];J&&W&&(M[U]=Re(W))}}return O}_removeAllSchemas(O,w){for(const $ in O){const i=O[$];(!w||w.test($))&&(typeof i=="string"?delete O[$]:i&&!i.meta&&(this._cache.delete(i.schema),delete O[$]))}}_addSchema(O,w,$,i=this.opts.validateSchema,g=this.opts.addUsedSchema){let M;const{schemaId:U}=this.opts;if(typeof O=="object")M=O[U];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof O!="boolean")throw new Error("schema must be object or boolean")}let G=this._cache.get(O);if(G!==void 0)return G;$=(0,p.normalizeId)(M||$);const J=p.getSchemaRefs.call(this,O,$);return G=new m.SchemaEnv({schema:O,schemaId:U,meta:w,baseId:$,localRefs:J}),this._cache.set(G.schema,G),g&&!$.startsWith("#")&&($&&this._checkUnique($),this.refs[$]=G),i&&this.validateSchema(O,!0),G}_checkUnique(O){if(this.schemas[O]||this.refs[O])throw new Error(`schema with key or id "${O}" already exists`)}_compileSchemaEnv(O){if(O.meta?this._compileMetaSchema(O):m.compileSchema.call(this,O),!O.validate)throw new Error("ajv implementation error");return O.validate}_compileMetaSchema(O){const w=this.opts;this.opts=this._metaOpts;try{m.compileSchema.call(this,O)}finally{this.opts=w}}}d.ValidationError=c.default,d.MissingRefError=y.default,e.default=d;function f(D,O,w,$="error"){for(const i in D){const g=i;g in O&&this.logger[$](`${w}: option ${i}. ${D[g]}`)}}function l(D){return D=(0,p.normalizeId)(D),this.schemas[D]||this.refs[D]}function T(){const D=this.opts.schemas;if(D)if(Array.isArray(D))this.addSchema(D);else for(const O in D)this.addSchema(D[O],O)}function C(){for(const D in this.opts.formats){const O=this.opts.formats[D];O&&this.addFormat(D,O)}}function b(D){if(Array.isArray(D)){this.addVocabulary(D);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const O in D){const w=D[O];w.keyword||(w.keyword=O),this.addKeyword(w)}}function F(){const D={...this.opts};for(const O of R)delete D[O];return D}const j={log(){},warn(){},error(){}};function V(D){if(D===!1)return j;if(D===void 0)return console;if(D.log&&D.warn&&D.error)return D;throw new Error("logger must implement log, warn and error methods")}const H=/^[a-z_$][a-z0-9_$:-]*$/i;function z(D,O){const{RULES:w}=this;if((0,h.eachItem)(D,$=>{if(w.keywords[$])throw new Error(`Keyword ${$} is already defined`);if(!H.test($))throw new Error(`Keyword ${$} has invalid name`)}),!!O&&O.$data&&!("code"in O||"validate"in O))throw new Error('$data keyword must have "code" or "validate" function')}function te(D,O,w){var $;const i=O==null?void 0:O.post;if(w&&i)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:g}=this;let M=i?g.post:g.rules.find(({type:G})=>G===w);if(M||(M={type:w,rules:[]},g.rules.push(M)),g.keywords[D]=!0,!O)return;const U={keyword:D,definition:{...O,type:(0,A.getJSONTypes)(O.type),schemaType:(0,A.getJSONTypes)(O.schemaType)}};O.before?he.call(this,M,U,O.before):M.rules.push(U),g.all[D]=U,($=O.implements)===null||$===void 0||$.forEach(G=>this.addKeyword(G))}function he(D,O,w){const $=D.rules.findIndex(i=>i.keyword===w);$>=0?D.rules.splice($,0,O):(D.rules.push(O),this.logger.warn(`rule ${w} is not defined`))}function Ee(D){let{metaSchema:O}=D;O!==void 0&&(D.$data&&this.opts.$data&&(O=Re(O)),D.validateSchema=this.compile(O,!0))}const Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Re(D){return{anyOf:[D,Z]}}}(Ht)),Ht}var ze={},Xe={},Je={},Pn;function bc(){if(Pn)return Je;Pn=1,Object.defineProperty(Je,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Je.default=e,Je}var ve={},On;function Dc(){if(On)return ve;On=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.callRef=ve.getValidate=void 0;const e=Ft(),r=_e(),E=Y(),c=Ie(),y=Fr(),o=X(),m={keyword:"$ref",schemaType:"string",code(A){const{gen:h,schema:v,it:P}=A,{baseId:I,schemaEnv:R,validateName:_,opts:s,self:a}=P,{root:t}=R;if((v==="#"||v==="#/")&&I===t.baseId)return d();const n=y.resolveRef.call(a,t,I,v);if(n===void 0)throw new e.default(P.opts.uriResolver,I,v);if(n instanceof y.SchemaEnv)return f(n);return l(n);function d(){if(R===t)return p(A,_,R,R.$async);const T=h.scopeValue("root",{ref:t});return p(A,(0,E._)`${T}.validate`,t,t.$async)}function f(T){const C=u(A,T);p(A,C,T,T.$async)}function l(T){const C=h.scopeValue("schema",s.code.source===!0?{ref:T,code:(0,E.stringify)(T)}:{ref:T}),b=h.name("valid"),F=A.subschema({schema:T,dataTypes:[],schemaPath:E.nil,topSchemaRef:C,errSchemaPath:v},b);A.mergeEvaluated(F),A.ok(b)}}};function u(A,h){const{gen:v}=A;return h.validate?v.scopeValue("validate",{ref:h.validate}):(0,E._)`${v.scopeValue("wrapper",{ref:h})}.validate`}ve.getValidate=u;function p(A,h,v,P){const{gen:I,it:R}=A,{allErrors:_,schemaEnv:s,opts:a}=R,t=a.passContext?c.default.this:E.nil;P?n():d();function n(){if(!s.$async)throw new Error("async schema referenced by sync schema");const T=I.let("valid");I.try(()=>{I.code((0,E._)`await ${(0,r.callValidateCode)(A,h,t)}`),l(h),_||I.assign(T,!0)},C=>{I.if((0,E._)`!(${C} instanceof ${R.ValidationError})`,()=>I.throw(C)),f(C),_||I.assign(T,!1)}),A.ok(T)}function d(){A.result((0,r.callValidateCode)(A,h,t),()=>l(h),()=>f(h))}function f(T){const C=(0,E._)`${T}.errors`;I.assign(c.default.vErrors,(0,E._)`${c.default.vErrors} === null ? ${C} : ${c.default.vErrors}.concat(${C})`),I.assign(c.default.errors,(0,E._)`${c.default.vErrors}.length`)}function l(T){var C;if(!R.opts.unevaluated)return;const b=(C=v==null?void 0:v.validate)===null||C===void 0?void 0:C.evaluated;if(R.props!==!0)if(b&&!b.dynamicProps)b.props!==void 0&&(R.props=o.mergeEvaluated.props(I,b.props,R.props));else{const F=I.var("props",(0,E._)`${T}.evaluated.props`);R.props=o.mergeEvaluated.props(I,F,R.props,E.Name)}if(R.items!==!0)if(b&&!b.dynamicItems)b.items!==void 0&&(R.items=o.mergeEvaluated.items(I,b.items,R.items));else{const F=I.var("items",(0,E._)`${T}.evaluated.items`);R.items=o.mergeEvaluated.items(I,F,R.items,E.Name)}}}return ve.callRef=p,ve.default=m,ve}var Nn;function kc(){if(Nn)return Xe;Nn=1,Object.defineProperty(Xe,"__esModule",{value:!0});const e=bc(),r=Dc(),E=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,r.default];return Xe.default=E,Xe}var xe={},Qe={},$n;function Fc(){if($n)return Qe;$n=1,Object.defineProperty(Qe,"__esModule",{value:!0});const e=Y(),r=e.operators,E={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},c={message:({keyword:o,schemaCode:m})=>(0,e.str)`must be ${E[o].okStr} ${m}`,params:({keyword:o,schemaCode:m})=>(0,e._)`{comparison: ${E[o].okStr}, limit: ${m}}`},y={keyword:Object.keys(E),type:"number",schemaType:"number",$data:!0,error:c,code(o){const{keyword:m,data:u,schemaCode:p}=o;o.fail$data((0,e._)`${u} ${E[m].fail} ${p} || isNaN(${u})`)}};return Qe.default=y,Qe}var Ze={},Cn;function Uc(){if(Cn)return Ze;Cn=1,Object.defineProperty(Ze,"__esModule",{value:!0});const e=Y(),E={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:c})=>(0,e.str)`must be multiple of ${c}`,params:({schemaCode:c})=>(0,e._)`{multipleOf: ${c}}`},code(c){const{gen:y,data:o,schemaCode:m,it:u}=c,p=u.opts.multipleOfPrecision,A=y.let("res"),h=p?(0,e._)`Math.abs(Math.round(${A}) - ${A}) > 1e-${p}`:(0,e._)`${A} !== parseInt(${A})`;c.fail$data((0,e._)`(${m} === 0 || (${A} = ${o}/${m}, ${h}))`)}};return Ze.default=E,Ze}var et={},tt={},Mn;function jc(){if(Mn)return tt;Mn=1,Object.defineProperty(tt,"__esModule",{value:!0});function e(r){const E=r.length;let c=0,y=0,o;for(;y<E;)c++,o=r.charCodeAt(y++),o>=55296&&o<=56319&&y<E&&(o=r.charCodeAt(y),(o&64512)===56320&&y++);return c}return tt.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',tt}var Ln;function qc(){if(Ln)return et;Ln=1,Object.defineProperty(et,"__esModule",{value:!0});const e=Y(),r=X(),E=jc(),y={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:o,schemaCode:m}){const u=o==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${u} than ${m} characters`},params:({schemaCode:o})=>(0,e._)`{limit: ${o}}`},code(o){const{keyword:m,data:u,schemaCode:p,it:A}=o,h=m==="maxLength"?e.operators.GT:e.operators.LT,v=A.opts.unicode===!1?(0,e._)`${u}.length`:(0,e._)`${(0,r.useFunc)(o.gen,E.default)}(${u})`;o.fail$data((0,e._)`${v} ${h} ${p}`)}};return et.default=y,et}var rt={},wn;function Gc(){if(wn)return rt;wn=1,Object.defineProperty(rt,"__esModule",{value:!0});const e=_e(),r=Y(),c={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:y})=>(0,r.str)`must match pattern "${y}"`,params:({schemaCode:y})=>(0,r._)`{pattern: ${y}}`},code(y){const{data:o,$data:m,schema:u,schemaCode:p,it:A}=y,h=A.opts.unicodeRegExp?"u":"",v=m?(0,r._)`(new RegExp(${p}, ${h}))`:(0,e.usePattern)(y,u);y.fail$data((0,r._)`!${v}.test(${o})`)}};return rt.default=c,rt}var nt={},bn;function Hc(){if(bn)return nt;bn=1,Object.defineProperty(nt,"__esModule",{value:!0});const e=Y(),E={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:c,schemaCode:y}){const o=c==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${y} properties`},params:({schemaCode:c})=>(0,e._)`{limit: ${c}}`},code(c){const{keyword:y,data:o,schemaCode:m}=c,u=y==="maxProperties"?e.operators.GT:e.operators.LT;c.fail$data((0,e._)`Object.keys(${o}).length ${u} ${m}`)}};return nt.default=E,nt}var at={},Dn;function Vc(){if(Dn)return at;Dn=1,Object.defineProperty(at,"__esModule",{value:!0});const e=_e(),r=Y(),E=X(),y={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:o}})=>(0,r.str)`must have required property '${o}'`,params:({params:{missingProperty:o}})=>(0,r._)`{missingProperty: ${o}}`},code(o){const{gen:m,schema:u,schemaCode:p,data:A,$data:h,it:v}=o,{opts:P}=v;if(!h&&u.length===0)return;const I=u.length>=P.loopRequired;if(v.allErrors?R():_(),P.strictRequired){const t=o.parentSchema.properties,{definedProperties:n}=o.it;for(const d of u)if((t==null?void 0:t[d])===void 0&&!n.has(d)){const f=v.schemaEnv.baseId+v.errSchemaPath,l=`required property "${d}" is not defined at "${f}" (strictRequired)`;(0,E.checkStrictMode)(v,l,v.opts.strictRequired)}}function R(){if(I||h)o.block$data(r.nil,s);else for(const t of u)(0,e.checkReportMissingProp)(o,t)}function _(){const t=m.let("missing");if(I||h){const n=m.let("valid",!0);o.block$data(n,()=>a(t,n)),o.ok(n)}else m.if((0,e.checkMissingProp)(o,u,t)),(0,e.reportMissingProp)(o,t),m.else()}function s(){m.forOf("prop",p,t=>{o.setParams({missingProperty:t}),m.if((0,e.noPropertyInData)(m,A,t,P.ownProperties),()=>o.error())})}function a(t,n){o.setParams({missingProperty:t}),m.forOf(t,p,()=>{m.assign(n,(0,e.propertyInData)(m,A,t,P.ownProperties)),m.if((0,r.not)(n),()=>{o.error(),m.break()})},r.nil)}}};return at.default=y,at}var st={},kn;function Bc(){if(kn)return st;kn=1,Object.defineProperty(st,"__esModule",{value:!0});const e=Y(),E={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:c,schemaCode:y}){const o=c==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${y} items`},params:({schemaCode:c})=>(0,e._)`{limit: ${c}}`},code(c){const{keyword:y,data:o,schemaCode:m}=c,u=y==="maxItems"?e.operators.GT:e.operators.LT;c.fail$data((0,e._)`${o}.length ${u} ${m}`)}};return st.default=E,st}var ot={},it={},Fn;function Ur(){if(Fn)return it;Fn=1,Object.defineProperty(it,"__esModule",{value:!0});const e=zs();return e.code='require("ajv/dist/runtime/equal").default',it.default=e,it}var Un;function Kc(){if(Un)return ot;Un=1,Object.defineProperty(ot,"__esModule",{value:!0});const e=$t(),r=Y(),E=X(),c=Ur(),o={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:m,j:u}})=>(0,r.str)`must NOT have duplicate items (items ## ${u} and ${m} are identical)`,params:({params:{i:m,j:u}})=>(0,r._)`{i: ${m}, j: ${u}}`},code(m){const{gen:u,data:p,$data:A,schema:h,parentSchema:v,schemaCode:P,it:I}=m;if(!A&&!h)return;const R=u.let("valid"),_=v.items?(0,e.getSchemaTypes)(v.items):[];m.block$data(R,s,(0,r._)`${P} === false`),m.ok(R);function s(){const d=u.let("i",(0,r._)`${p}.length`),f=u.let("j");m.setParams({i:d,j:f}),u.assign(R,!0),u.if((0,r._)`${d} > 1`,()=>(a()?t:n)(d,f))}function a(){return _.length>0&&!_.some(d=>d==="object"||d==="array")}function t(d,f){const l=u.name("item"),T=(0,e.checkDataTypes)(_,l,I.opts.strictNumbers,e.DataType.Wrong),C=u.const("indices",(0,r._)`{}`);u.for((0,r._)`;${d}--;`,()=>{u.let(l,(0,r._)`${p}[${d}]`),u.if(T,(0,r._)`continue`),_.length>1&&u.if((0,r._)`typeof ${l} == "string"`,(0,r._)`${l} += "_"`),u.if((0,r._)`typeof ${C}[${l}] == "number"`,()=>{u.assign(f,(0,r._)`${C}[${l}]`),m.error(),u.assign(R,!1).break()}).code((0,r._)`${C}[${l}] = ${d}`)})}function n(d,f){const l=(0,E.useFunc)(u,c.default),T=u.name("outer");u.label(T).for((0,r._)`;${d}--;`,()=>u.for((0,r._)`${f} = ${d}; ${f}--;`,()=>u.if((0,r._)`${l}(${p}[${d}], ${p}[${f}])`,()=>{m.error(),u.assign(R,!1).break(T)})))}}};return ot.default=o,ot}var ct={},jn;function Yc(){if(jn)return ct;jn=1,Object.defineProperty(ct,"__esModule",{value:!0});const e=Y(),r=X(),E=Ur(),y={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:o})=>(0,e._)`{allowedValue: ${o}}`},code(o){const{gen:m,data:u,$data:p,schemaCode:A,schema:h}=o;p||h&&typeof h=="object"?o.fail$data((0,e._)`!${(0,r.useFunc)(m,E.default)}(${u}, ${A})`):o.fail((0,e._)`${h} !== ${u}`)}};return ct.default=y,ct}var ut={},qn;function Wc(){if(qn)return ut;qn=1,Object.defineProperty(ut,"__esModule",{value:!0});const e=Y(),r=X(),E=Ur(),y={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:o})=>(0,e._)`{allowedValues: ${o}}`},code(o){const{gen:m,data:u,$data:p,schema:A,schemaCode:h,it:v}=o;if(!p&&A.length===0)throw new Error("enum must have non-empty array");const P=A.length>=v.opts.loopEnum;let I;const R=()=>I??(I=(0,r.useFunc)(m,E.default));let _;if(P||p)_=m.let("valid"),o.block$data(_,s);else{if(!Array.isArray(A))throw new Error("ajv implementation error");const t=m.const("vSchema",h);_=(0,e.or)(...A.map((n,d)=>a(t,d)))}o.pass(_);function s(){m.assign(_,!1),m.forOf("v",h,t=>m.if((0,e._)`${R()}(${u}, ${t})`,()=>m.assign(_,!0).break()))}function a(t,n){const d=A[n];return typeof d=="object"&&d!==null?(0,e._)`${R()}(${u}, ${t}[${n}])`:(0,e._)`${u} === ${d}`}}};return ut.default=y,ut}var Gn;function zc(){if(Gn)return xe;Gn=1,Object.defineProperty(xe,"__esModule",{value:!0});const e=Fc(),r=Uc(),E=qc(),c=Gc(),y=Hc(),o=Vc(),m=Bc(),u=Kc(),p=Yc(),A=Wc(),h=[e.default,r.default,E.default,c.default,y.default,o.default,m.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},p.default,A.default];return xe.default=h,xe}var dt={},be={},Hn;function Xs(){if(Hn)return be;Hn=1,Object.defineProperty(be,"__esModule",{value:!0}),be.validateAdditionalItems=void 0;const e=Y(),r=X(),c={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{parentSchema:m,it:u}=o,{items:p}=m;if(!Array.isArray(p)){(0,r.checkStrictMode)(u,'"additionalItems" is ignored when "items" is not an array of schemas');return}y(o,p)}};function y(o,m){const{gen:u,schema:p,data:A,keyword:h,it:v}=o;v.items=!0;const P=u.const("len",(0,e._)`${A}.length`);if(p===!1)o.setParams({len:m.length}),o.pass((0,e._)`${P} <= ${m.length}`);else if(typeof p=="object"&&!(0,r.alwaysValidSchema)(v,p)){const R=u.var("valid",(0,e._)`${P} <= ${m.length}`);u.if((0,e.not)(R),()=>I(R)),o.ok(R)}function I(R){u.forRange("i",m.length,P,_=>{o.subschema({keyword:h,dataProp:_,dataPropType:r.Type.Num},R),v.allErrors||u.if((0,e.not)(R),()=>u.break())})}}return be.validateAdditionalItems=y,be.default=c,be}var lt={},De={},Vn;function Js(){if(Vn)return De;Vn=1,Object.defineProperty(De,"__esModule",{value:!0}),De.validateTuple=void 0;const e=Y(),r=X(),E=_e(),c={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(o){const{schema:m,it:u}=o;if(Array.isArray(m))return y(o,"additionalItems",m);u.items=!0,!(0,r.alwaysValidSchema)(u,m)&&o.ok((0,E.validateArray)(o))}};function y(o,m,u=o.schema){const{gen:p,parentSchema:A,data:h,keyword:v,it:P}=o;_(A),P.opts.unevaluated&&u.length&&P.items!==!0&&(P.items=r.mergeEvaluated.items(p,u.length,P.items));const I=p.name("valid"),R=p.const("len",(0,e._)`${h}.length`);u.forEach((s,a)=>{(0,r.alwaysValidSchema)(P,s)||(p.if((0,e._)`${R} > ${a}`,()=>o.subschema({keyword:v,schemaProp:a,dataProp:a},I)),o.ok(I))});function _(s){const{opts:a,errSchemaPath:t}=P,n=u.length,d=n===s.minItems&&(n===s.maxItems||s[m]===!1);if(a.strictTuples&&!d){const f=`"${v}" is ${n}-tuple, but minItems or maxItems/${m} are not specified or different at path "${t}"`;(0,r.checkStrictMode)(P,f,a.strictTuples)}}}return De.validateTuple=y,De.default=c,De}var Bn;function Xc(){if(Bn)return lt;Bn=1,Object.defineProperty(lt,"__esModule",{value:!0});const e=Js(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:E=>(0,e.validateTuple)(E,"items")};return lt.default=r,lt}var ft={},Kn;function Jc(){if(Kn)return ft;Kn=1,Object.defineProperty(ft,"__esModule",{value:!0});const e=Y(),r=X(),E=_e(),c=Xs(),o={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:m}})=>(0,e.str)`must NOT have more than ${m} items`,params:({params:{len:m}})=>(0,e._)`{limit: ${m}}`},code(m){const{schema:u,parentSchema:p,it:A}=m,{prefixItems:h}=p;A.items=!0,!(0,r.alwaysValidSchema)(A,u)&&(h?(0,c.validateAdditionalItems)(m,h):m.ok((0,E.validateArray)(m)))}};return ft.default=o,ft}var mt={},Yn;function xc(){if(Yn)return mt;Yn=1,Object.defineProperty(mt,"__esModule",{value:!0});const e=Y(),r=X(),c={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:y,max:o}})=>o===void 0?(0,e.str)`must contain at least ${y} valid item(s)`:(0,e.str)`must contain at least ${y} and no more than ${o} valid item(s)`,params:({params:{min:y,max:o}})=>o===void 0?(0,e._)`{minContains: ${y}}`:(0,e._)`{minContains: ${y}, maxContains: ${o}}`},code(y){const{gen:o,schema:m,parentSchema:u,data:p,it:A}=y;let h,v;const{minContains:P,maxContains:I}=u;A.opts.next?(h=P===void 0?1:P,v=I):h=1;const R=o.const("len",(0,e._)`${p}.length`);if(y.setParams({min:h,max:v}),v===void 0&&h===0){(0,r.checkStrictMode)(A,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(v!==void 0&&h>v){(0,r.checkStrictMode)(A,'"minContains" > "maxContains" is always invalid'),y.fail();return}if((0,r.alwaysValidSchema)(A,m)){let n=(0,e._)`${R} >= ${h}`;v!==void 0&&(n=(0,e._)`${n} && ${R} <= ${v}`),y.pass(n);return}A.items=!0;const _=o.name("valid");v===void 0&&h===1?a(_,()=>o.if(_,()=>o.break())):h===0?(o.let(_,!0),v!==void 0&&o.if((0,e._)`${p}.length > 0`,s)):(o.let(_,!1),s()),y.result(_,()=>y.reset());function s(){const n=o.name("_valid"),d=o.let("count",0);a(n,()=>o.if(n,()=>t(d)))}function a(n,d){o.forRange("i",0,R,f=>{y.subschema({keyword:"contains",dataProp:f,dataPropType:r.Type.Num,compositeRule:!0},n),d()})}function t(n){o.code((0,e._)`${n}++`),v===void 0?o.if((0,e._)`${n} >= ${h}`,()=>o.assign(_,!0).break()):(o.if((0,e._)`${n} > ${v}`,()=>o.assign(_,!1).break()),h===1?o.assign(_,!0):o.if((0,e._)`${n} >= ${h}`,()=>o.assign(_,!0)))}}};return mt.default=c,mt}var Qt={},Wn;function Qc(){return Wn||(Wn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const r=Y(),E=X(),c=_e();e.error={message:({params:{property:p,depsCount:A,deps:h}})=>{const v=A===1?"property":"properties";return(0,r.str)`must have ${v} ${h} when property ${p} is present`},params:({params:{property:p,depsCount:A,deps:h,missingProperty:v}})=>(0,r._)`{property: ${p},
    missingProperty: ${v},
    depsCount: ${A},
    deps: ${h}}`};const y={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(p){const[A,h]=o(p);m(p,A),u(p,h)}};function o({schema:p}){const A={},h={};for(const v in p){if(v==="__proto__")continue;const P=Array.isArray(p[v])?A:h;P[v]=p[v]}return[A,h]}function m(p,A=p.schema){const{gen:h,data:v,it:P}=p;if(Object.keys(A).length===0)return;const I=h.let("missing");for(const R in A){const _=A[R];if(_.length===0)continue;const s=(0,c.propertyInData)(h,v,R,P.opts.ownProperties);p.setParams({property:R,depsCount:_.length,deps:_.join(", ")}),P.allErrors?h.if(s,()=>{for(const a of _)(0,c.checkReportMissingProp)(p,a)}):(h.if((0,r._)`${s} && (${(0,c.checkMissingProp)(p,_,I)})`),(0,c.reportMissingProp)(p,I),h.else())}}e.validatePropertyDeps=m;function u(p,A=p.schema){const{gen:h,data:v,keyword:P,it:I}=p,R=h.name("valid");for(const _ in A)(0,E.alwaysValidSchema)(I,A[_])||(h.if((0,c.propertyInData)(h,v,_,I.opts.ownProperties),()=>{const s=p.subschema({keyword:P,schemaProp:_},R);p.mergeValidEvaluated(s,R)},()=>h.var(R,!0)),p.ok(R))}e.validateSchemaDeps=u,e.default=y}(Qt)),Qt}var pt={},zn;function Zc(){if(zn)return pt;zn=1,Object.defineProperty(pt,"__esModule",{value:!0});const e=Y(),r=X(),c={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:y})=>(0,e._)`{propertyName: ${y.propertyName}}`},code(y){const{gen:o,schema:m,data:u,it:p}=y;if((0,r.alwaysValidSchema)(p,m))return;const A=o.name("valid");o.forIn("key",u,h=>{y.setParams({propertyName:h}),y.subschema({keyword:"propertyNames",data:h,dataTypes:["string"],propertyName:h,compositeRule:!0},A),o.if((0,e.not)(A),()=>{y.error(!0),p.allErrors||o.break()})}),y.ok(A)}};return pt.default=c,pt}var _t={},Xn;function xs(){if(Xn)return _t;Xn=1,Object.defineProperty(_t,"__esModule",{value:!0});const e=_e(),r=Y(),E=Ie(),c=X(),o={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:m})=>(0,r._)`{additionalProperty: ${m.additionalProperty}}`},code(m){const{gen:u,schema:p,parentSchema:A,data:h,errsCount:v,it:P}=m;if(!v)throw new Error("ajv implementation error");const{allErrors:I,opts:R}=P;if(P.props=!0,R.removeAdditional!=="all"&&(0,c.alwaysValidSchema)(P,p))return;const _=(0,e.allSchemaProperties)(A.properties),s=(0,e.allSchemaProperties)(A.patternProperties);a(),m.ok((0,r._)`${v} === ${E.default.errors}`);function a(){u.forIn("key",h,l=>{!_.length&&!s.length?d(l):u.if(t(l),()=>d(l))})}function t(l){let T;if(_.length>8){const C=(0,c.schemaRefOrVal)(P,A.properties,"properties");T=(0,e.isOwnProperty)(u,C,l)}else _.length?T=(0,r.or)(..._.map(C=>(0,r._)`${l} === ${C}`)):T=r.nil;return s.length&&(T=(0,r.or)(T,...s.map(C=>(0,r._)`${(0,e.usePattern)(m,C)}.test(${l})`))),(0,r.not)(T)}function n(l){u.code((0,r._)`delete ${h}[${l}]`)}function d(l){if(R.removeAdditional==="all"||R.removeAdditional&&p===!1){n(l);return}if(p===!1){m.setParams({additionalProperty:l}),m.error(),I||u.break();return}if(typeof p=="object"&&!(0,c.alwaysValidSchema)(P,p)){const T=u.name("valid");R.removeAdditional==="failing"?(f(l,T,!1),u.if((0,r.not)(T),()=>{m.reset(),n(l)})):(f(l,T),I||u.if((0,r.not)(T),()=>u.break()))}}function f(l,T,C){const b={keyword:"additionalProperties",dataProp:l,dataPropType:c.Type.Str};C===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),m.subschema(b,T)}}};return _t.default=o,_t}var ht={},Jn;function eu(){if(Jn)return ht;Jn=1,Object.defineProperty(ht,"__esModule",{value:!0});const e=kt(),r=_e(),E=X(),c=xs(),y={keyword:"properties",type:"object",schemaType:"object",code(o){const{gen:m,schema:u,parentSchema:p,data:A,it:h}=o;h.opts.removeAdditional==="all"&&p.additionalProperties===void 0&&c.default.code(new e.KeywordCxt(h,c.default,"additionalProperties"));const v=(0,r.allSchemaProperties)(u);for(const s of v)h.definedProperties.add(s);h.opts.unevaluated&&v.length&&h.props!==!0&&(h.props=E.mergeEvaluated.props(m,(0,E.toHash)(v),h.props));const P=v.filter(s=>!(0,E.alwaysValidSchema)(h,u[s]));if(P.length===0)return;const I=m.name("valid");for(const s of P)R(s)?_(s):(m.if((0,r.propertyInData)(m,A,s,h.opts.ownProperties)),_(s),h.allErrors||m.else().var(I,!0),m.endIf()),o.it.definedProperties.add(s),o.ok(I);function R(s){return h.opts.useDefaults&&!h.compositeRule&&u[s].default!==void 0}function _(s){o.subschema({keyword:"properties",schemaProp:s,dataProp:s},I)}}};return ht.default=y,ht}var Et={},xn;function tu(){if(xn)return Et;xn=1,Object.defineProperty(Et,"__esModule",{value:!0});const e=_e(),r=Y(),E=X(),c=X(),y={keyword:"patternProperties",type:"object",schemaType:"object",code(o){const{gen:m,schema:u,data:p,parentSchema:A,it:h}=o,{opts:v}=h,P=(0,e.allSchemaProperties)(u),I=P.filter(d=>(0,E.alwaysValidSchema)(h,u[d]));if(P.length===0||I.length===P.length&&(!h.opts.unevaluated||h.props===!0))return;const R=v.strictSchema&&!v.allowMatchingProperties&&A.properties,_=m.name("valid");h.props!==!0&&!(h.props instanceof r.Name)&&(h.props=(0,c.evaluatedPropsToName)(m,h.props));const{props:s}=h;a();function a(){for(const d of P)R&&t(d),h.allErrors?n(d):(m.var(_,!0),n(d),m.if(_))}function t(d){for(const f in R)new RegExp(d).test(f)&&(0,E.checkStrictMode)(h,`property ${f} matches pattern ${d} (use allowMatchingProperties)`)}function n(d){m.forIn("key",p,f=>{m.if((0,r._)`${(0,e.usePattern)(o,d)}.test(${f})`,()=>{const l=I.includes(d);l||o.subschema({keyword:"patternProperties",schemaProp:d,dataProp:f,dataPropType:c.Type.Str},_),h.opts.unevaluated&&s!==!0?m.assign((0,r._)`${s}[${f}]`,!0):!l&&!h.allErrors&&m.if((0,r.not)(_),()=>m.break())})})}}};return Et.default=y,Et}var yt={},Qn;function ru(){if(Qn)return yt;Qn=1,Object.defineProperty(yt,"__esModule",{value:!0});const e=X(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(E){const{gen:c,schema:y,it:o}=E;if((0,e.alwaysValidSchema)(o,y)){E.fail();return}const m=c.name("valid");E.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},m),E.failResult(m,()=>E.reset(),()=>E.error())},error:{message:"must NOT be valid"}};return yt.default=r,yt}var At={},Zn;function nu(){if(Zn)return At;Zn=1,Object.defineProperty(At,"__esModule",{value:!0});const r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:_e().validateUnion,error:{message:"must match a schema in anyOf"}};return At.default=r,At}var Tt={},ea;function au(){if(ea)return Tt;ea=1,Object.defineProperty(Tt,"__esModule",{value:!0});const e=Y(),r=X(),c={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:y})=>(0,e._)`{passingSchemas: ${y.passing}}`},code(y){const{gen:o,schema:m,parentSchema:u,it:p}=y;if(!Array.isArray(m))throw new Error("ajv implementation error");if(p.opts.discriminator&&u.discriminator)return;const A=m,h=o.let("valid",!1),v=o.let("passing",null),P=o.name("_valid");y.setParams({passing:v}),o.block(I),y.result(h,()=>y.reset(),()=>y.error(!0));function I(){A.forEach((R,_)=>{let s;(0,r.alwaysValidSchema)(p,R)?o.var(P,!0):s=y.subschema({keyword:"oneOf",schemaProp:_,compositeRule:!0},P),_>0&&o.if((0,e._)`${P} && ${h}`).assign(h,!1).assign(v,(0,e._)`[${v}, ${_}]`).else(),o.if(P,()=>{o.assign(h,!0),o.assign(v,_),s&&y.mergeEvaluated(s,e.Name)})})}}};return Tt.default=c,Tt}var gt={},ta;function su(){if(ta)return gt;ta=1,Object.defineProperty(gt,"__esModule",{value:!0});const e=X(),r={keyword:"allOf",schemaType:"array",code(E){const{gen:c,schema:y,it:o}=E;if(!Array.isArray(y))throw new Error("ajv implementation error");const m=c.name("valid");y.forEach((u,p)=>{if((0,e.alwaysValidSchema)(o,u))return;const A=E.subschema({keyword:"allOf",schemaProp:p},m);E.ok(m),E.mergeEvaluated(A)})}};return gt.default=r,gt}var Rt={},ra;function ou(){if(ra)return Rt;ra=1,Object.defineProperty(Rt,"__esModule",{value:!0});const e=Y(),r=X(),c={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:o})=>(0,e.str)`must match "${o.ifClause}" schema`,params:({params:o})=>(0,e._)`{failingKeyword: ${o.ifClause}}`},code(o){const{gen:m,parentSchema:u,it:p}=o;u.then===void 0&&u.else===void 0&&(0,r.checkStrictMode)(p,'"if" without "then" and "else" is ignored');const A=y(p,"then"),h=y(p,"else");if(!A&&!h)return;const v=m.let("valid",!0),P=m.name("_valid");if(I(),o.reset(),A&&h){const _=m.let("ifClause");o.setParams({ifClause:_}),m.if(P,R("then",_),R("else",_))}else A?m.if(P,R("then")):m.if((0,e.not)(P),R("else"));o.pass(v,()=>o.error(!0));function I(){const _=o.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},P);o.mergeEvaluated(_)}function R(_,s){return()=>{const a=o.subschema({keyword:_},P);m.assign(v,P),o.mergeValidEvaluated(a,v),s?m.assign(s,(0,e._)`${_}`):o.setParams({ifClause:_})}}}};function y(o,m){const u=o.schema[m];return u!==void 0&&!(0,r.alwaysValidSchema)(o,u)}return Rt.default=c,Rt}var vt={},na;function iu(){if(na)return vt;na=1,Object.defineProperty(vt,"__esModule",{value:!0});const e=X(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:E,parentSchema:c,it:y}){c.if===void 0&&(0,e.checkStrictMode)(y,`"${E}" without "if" is ignored`)}};return vt.default=r,vt}var aa;function cu(){if(aa)return dt;aa=1,Object.defineProperty(dt,"__esModule",{value:!0});const e=Xs(),r=Xc(),E=Js(),c=Jc(),y=xc(),o=Qc(),m=Zc(),u=xs(),p=eu(),A=tu(),h=ru(),v=nu(),P=au(),I=su(),R=ou(),_=iu();function s(a=!1){const t=[h.default,v.default,P.default,I.default,R.default,_.default,m.default,u.default,o.default,p.default,A.default];return a?t.push(r.default,c.default):t.push(e.default,E.default),t.push(y.default),t}return dt.default=s,dt}var St={},It={},sa;function uu(){if(sa)return It;sa=1,Object.defineProperty(It,"__esModule",{value:!0});const e=Y(),E={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:c})=>(0,e.str)`must match format "${c}"`,params:({schemaCode:c})=>(0,e._)`{format: ${c}}`},code(c,y){const{gen:o,data:m,$data:u,schema:p,schemaCode:A,it:h}=c,{opts:v,errSchemaPath:P,schemaEnv:I,self:R}=h;if(!v.validateFormats)return;u?_():s();function _(){const a=o.scopeValue("formats",{ref:R.formats,code:v.code.formats}),t=o.const("fDef",(0,e._)`${a}[${A}]`),n=o.let("fType"),d=o.let("format");o.if((0,e._)`typeof ${t} == "object" && !(${t} instanceof RegExp)`,()=>o.assign(n,(0,e._)`${t}.type || "string"`).assign(d,(0,e._)`${t}.validate`),()=>o.assign(n,(0,e._)`"string"`).assign(d,t)),c.fail$data((0,e.or)(f(),l()));function f(){return v.strictSchema===!1?e.nil:(0,e._)`${A} && !${d}`}function l(){const T=I.$async?(0,e._)`(${t}.async ? await ${d}(${m}) : ${d}(${m}))`:(0,e._)`${d}(${m})`,C=(0,e._)`(typeof ${d} == "function" ? ${T} : ${d}.test(${m}))`;return(0,e._)`${d} && ${d} !== true && ${n} === ${y} && !${C}`}}function s(){const a=R.formats[p];if(!a){f();return}if(a===!0)return;const[t,n,d]=l(a);t===y&&c.pass(T());function f(){if(v.strictSchema===!1){R.logger.warn(C());return}throw new Error(C());function C(){return`unknown format "${p}" ignored in schema at path "${P}"`}}function l(C){const b=C instanceof RegExp?(0,e.regexpCode)(C):v.code.formats?(0,e._)`${v.code.formats}${(0,e.getProperty)(p)}`:void 0,F=o.scopeValue("formats",{key:p,ref:C,code:b});return typeof C=="object"&&!(C instanceof RegExp)?[C.type||"string",C.validate,(0,e._)`${F}.validate`]:["string",C,F]}function T(){if(typeof a=="object"&&!(a instanceof RegExp)&&a.async){if(!I.$async)throw new Error("async format in sync schema");return(0,e._)`await ${d}(${m})`}return typeof n=="function"?(0,e._)`${d}(${m})`:(0,e._)`${d}.test(${m})`}}}};return It.default=E,It}var oa;function du(){if(oa)return St;oa=1,Object.defineProperty(St,"__esModule",{value:!0});const r=[uu().default];return St.default=r,St}var $e={},ia;function lu(){return ia||(ia=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.contentVocabulary=$e.metadataVocabulary=void 0,$e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],$e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),$e}var ca;function fu(){if(ca)return ze;ca=1,Object.defineProperty(ze,"__esModule",{value:!0});const e=kc(),r=zc(),E=cu(),c=du(),y=lu(),o=[e.default,r.default,(0,E.default)(),c.default,y.metadataVocabulary,y.contentVocabulary];return ze.default=o,ze}var Pt={},Ge={},ua;function mu(){if(ua)return Ge;ua=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.DiscrError=void 0;var e;return function(r){r.Tag="tag",r.Mapping="mapping"}(e||(Ge.DiscrError=e={})),Ge}var da;function pu(){if(da)return Pt;da=1,Object.defineProperty(Pt,"__esModule",{value:!0});const e=Y(),r=mu(),E=Fr(),c=Ft(),y=X(),m={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:u,tagName:p}})=>u===r.DiscrError.Tag?`tag "${p}" must be string`:`value of tag "${p}" must be in oneOf`,params:({params:{discrError:u,tag:p,tagName:A}})=>(0,e._)`{error: ${u}, tag: ${A}, tagValue: ${p}}`},code(u){const{gen:p,data:A,schema:h,parentSchema:v,it:P}=u,{oneOf:I}=v;if(!P.opts.discriminator)throw new Error("discriminator: requires discriminator option");const R=h.propertyName;if(typeof R!="string")throw new Error("discriminator: requires propertyName");if(h.mapping)throw new Error("discriminator: mapping is not supported");if(!I)throw new Error("discriminator: requires oneOf keyword");const _=p.let("valid",!1),s=p.const("tag",(0,e._)`${A}${(0,e.getProperty)(R)}`);p.if((0,e._)`typeof ${s} == "string"`,()=>a(),()=>u.error(!1,{discrError:r.DiscrError.Tag,tag:s,tagName:R})),u.ok(_);function a(){const d=n();p.if(!1);for(const f in d)p.elseIf((0,e._)`${s} === ${f}`),p.assign(_,t(d[f]));p.else(),u.error(!1,{discrError:r.DiscrError.Mapping,tag:s,tagName:R}),p.endIf()}function t(d){const f=p.name("valid"),l=u.subschema({keyword:"oneOf",schemaProp:d},f);return u.mergeEvaluated(l,e.Name),f}function n(){var d;const f={},l=C(v);let T=!0;for(let j=0;j<I.length;j++){let V=I[j];if(V!=null&&V.$ref&&!(0,y.schemaHasRulesButRef)(V,P.self.RULES)){const z=V.$ref;if(V=E.resolveRef.call(P.self,P.schemaEnv.root,P.baseId,z),V instanceof E.SchemaEnv&&(V=V.schema),V===void 0)throw new c.default(P.opts.uriResolver,P.baseId,z)}const H=(d=V==null?void 0:V.properties)===null||d===void 0?void 0:d[R];if(typeof H!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${R}"`);T=T&&(l||C(V)),b(H,j)}if(!T)throw new Error(`discriminator: "${R}" must be required`);return f;function C({required:j}){return Array.isArray(j)&&j.includes(R)}function b(j,V){if(j.const)F(j.const,V);else if(j.enum)for(const H of j.enum)F(H,V);else throw new Error(`discriminator: "properties/${R}" must have "const" or "enum"`)}function F(j,V){if(typeof j!="string"||j in f)throw new Error(`discriminator: "${R}" values must be unique strings`);f[j]=V}}}};return Pt.default=m,Pt}const _u="http://json-schema.org/draft-07/schema#",hu="http://json-schema.org/draft-07/schema#",Eu="Core schema meta-schema",yu={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Au=["object","boolean"],Tu={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},gu={$schema:_u,$id:hu,title:Eu,definitions:yu,type:Au,properties:Tu,default:!0};var la;function Ru(){return la||(la=1,function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MissingRefError=r.ValidationError=r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=r.Ajv=void 0;const E=wc(),c=fu(),y=pu(),o=gu,m=["/properties"],u="http://json-schema.org/draft-07/schema";class p extends E.default{_addVocabularies(){super._addVocabularies(),c.default.forEach(R=>this.addVocabulary(R)),this.opts.discriminator&&this.addKeyword(y.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const R=this.opts.$data?this.$dataMetaSchema(o,m):o;this.addMetaSchema(R,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}r.Ajv=p,e.exports=r=p,e.exports.Ajv=p,Object.defineProperty(r,"__esModule",{value:!0}),r.default=p;var A=kt();Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return A.KeywordCxt}});var h=Y();Object.defineProperty(r,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var v=kr();Object.defineProperty(r,"ValidationError",{enumerable:!0,get:function(){return v.default}});var P=Ft();Object.defineProperty(r,"MissingRefError",{enumerable:!0,get:function(){return P.default}})}(Ve,Ve.exports)),Ve.exports}var vu=Ru();const Su=_c(vu),Pe=new Su,Iu=Pe.compile(_s),Pu=Pe.compile(ps),Ou=Pe.compile(is),Nu=Pe.compile(cs),$u=Pe.compile(ls),Cu=Pe.compile(ms),Mu=Pe.compile(ds),Lu=Pe.compile(us),wu=e=>Iu(e),bu=e=>Pu(e),Du=e=>Ou(e),ku=e=>Nu(e),Fu=e=>$u(e),Uu=e=>Cu(e),ju=e=>Mu(e),qu=e=>Lu(e),Gu=0,Hu=101,Vu=401,Bu=102,Ku=402,Yu=103,Wu=104,zu=105,Xu=405,Ju=108,xu=408,Qu=109,Zu=111,ed=411,td=112,rd=113,nd=115,ad=117,sd=118,od=119,id=121,cd=122,ud=123,dd=124,ld=125,fd=126,md=127,pd=128,_d=129,hd=132,Ed=133,yd=134,Ad=135,Td=136,gd=137,Rd=138,vd=139,Sd=140,Id=201,Pd=202,Od=203,Nd=204,$d=205,Cd=206,Md=211,Ld=212,wd=213,bd=214,Dd=216,kd=217,Fd=221,Ud=222,jd=223,qd=224,Gd=225,Hd=230,Vd=231,Bd=232,Kd=233,Yd=234,Wd=235,zd=236,Xd=241,Jd=242,xd=243,Qd=244,Zd=245,el=246,tl=249,rl=250,nl=251,al=261,sl=282,ol=283,il=284,cl=285,ul=301,dl=302,ll=605,fl=303,ml=311,pl=312,_l=313,hl=314,El=315,yl=320,Al=321,Tl=322,gl=323,Rl=324,vl=325,Sl=331,Il=332,Pl=333,Ol=334,Nl=335,$l=336,Cl=337,Ml=339,Ll=340,wl=351,bl=342,Dl=352,kl=353,Fl=354,Ul=355,jl=655,ql=356,Gl=357,Hl=0,Vl=1,Bl=2,Kl=3,Yl=4,Wl=5,zl=6,Xl=7,Jl=8,xl=9,Ql=10,Zl=11,ef=12,tf=13,rf=14,nf=15,af=16,sf=17,of=18,cf=19,uf=20,df=21,lf=22,ff=23,mf=24,pf=25,_f=26,hf=27,Ef=28,yf=29,Af=30,Tf=31,gf=32,Rf=33,vf=34,Sf=35,If=36,Pf=37,Of=38,Nf=39,$f=40,Cf=41,Mf=42,Lf=43,wf=44,bf=45,Df={type:"object",required:["name","id","expanded","order","parentId","scrollX","scrollY"],properties:{name:{type:"string"},id:{type:"integer",minimum:0},expanded:{type:"boolean"},order:{type:"integer"},parentId:{type:"integer"},scrollX:{type:"integer"},scrollY:{type:"integer"}}},kf=(e={})=>({autoplayBgm:e.autoplayBgm??!1,autoplayBgs:e.autoplayBgs??!1,battleback1Name:e.battleback1Name??"",battleback2Name:e.battleback2Name??"",bgm:e.bgm??{name:"",pan:0,pitch:100,volume:100},bgs:e.bgs??{name:"",pan:0,pitch:100,volume:100},disableDashing:e.disableDashing??!1,displayName:e.displayName??"",encounterList:e.encounterList??[],events:e.events??[],height:e.height??0,note:e.note??"",parallaxLoopX:e.parallaxLoopX??!1,parallaxLoopY:e.parallaxLoopY??!1,parallaxName:e.parallaxName??"",parallaxShow:e.parallaxShow??!1,parallaxSx:e.parallaxSx??0,parallaxSy:e.parallaxSy??0,width:e.width??0,x:e.x??0,y:e.y??0,data:e.data??[]}),Ff=(e={})=>({id:e.id??0,name:e.name??"",trigger:e.trigger??0,list:e.list??[],switchId:e.switchId??0}),Uf=(e={})=>({id:e.id??0,name:e.name??"",members:e.members??[],pages:e.pages??[]}),jf=(e={})=>({enemyId:e.enemyId??0,x:e.x??0,y:e.y??0,hidden:e.hidden??!1}),qf=(e={})=>({actorHp:e.actorHp??0,actorId:e.actorId??0,enemyValid:e.enemyValid??0,switchValid:e.switchValid??0}),Gf={domainName:"オプション",options:{optDrawTitle:"ゲームタイトルの描画",optDisplayTp:"ウィンドウにTPを表示",optFloorDeath:"床ダメージで戦闘不能",optSlipDeath:"スリップダメージで戦闘不能",optAutosave:"オートセーブを有効化",optExtraExp:"控えメンバーも経験値を獲得",optFollowers:"隊列歩行",optSideView:"戦闘をサイドビューにする",optKeyItemsNumber:"大事なものの個数を表示",optTransparent:"透明状態で開始",optMessageSkip:"メッセージスキップを有効化",optSplashScreen:"スプラッシュ画面を表示"}},Hf={domainName:"タイプ",options:{armorTypes:"防具タイプ",elements:"属性",equipTypes:"装備タイプ",skillTypes:"スキルタイプ",weaponTypes:"武器タイプ",switches:"スイッチ",variables:"変数"}},Qs={id:"識別子",name:"名前",note:"メモ",description:"説明",iconIndex:"アイコンインデックス",occasion:"使用タイミング",params:"パラメータ",repeats:"繰り返し回数",scope:"範囲",speed:"速度補正",successRate:"成功率",animationId:"アニメーションID",displayType:"表示タイプ",characterIndex:"キャラクターインデックス",characterName:"キャラクター名",effectName:"効果名",faceIndex:"顔グラフィックインデックス",faceName:"顔グラフィック名",flashTimings:"フラッシュタイミング",list:"リスト",messageType:"メッセージタイプ",offsetX:"オフセットX",offsetY:"オフセットY",overlay:"オーバーレイ",priority:"優先度",restriction:"制約",rotation:"回転",scale:"スケール",soundTimings:"サウンドタイミング",stepsToRemove:"解除までの歩数",type:"タイプ",variance:"分散度",unknownCode:"不明なコード",content:"内容",apply:"適用",turn:"ターン",commonEvent:"コモンイベント",normal:"通常",dualWield:"二刀流",bossCollaps:"ボス崩壊",instantCollaps:"即時崩壊",noneCollaps:"崩壊なし",escape:"逃走"},Vf={rpg:{damage:Ks,data:Bs,traits:Q,itemEffect:ue},global:Qs},Bf=e=>({name:e.name??"",volume:e.volume??100,pitch:e.pitch??100,pan:e.pan??0});exports.ABORT_BATTLE=Ll;exports.AUTHOR_RMMZ=Se;exports.BATTLE_PROCESSING=ul;exports.CHANGE_ACTOR_IMAGES=Tl;exports.CHANGE_ARMORS=pd;exports.CHANGE_BATTLE_BACKGROUND=ol;exports.CHANGE_BATTLE_BGM=hd;exports.CHANGE_CLASS=Al;exports.CHANGE_DEFEAT_ME=vd;exports.CHANGE_ENCOUNTER=Td;exports.CHANGE_ENEMY_HP=Sl;exports.CHANGE_ENEMY_MP=Il;exports.CHANGE_ENEMY_STATE=Pl;exports.CHANGE_ENEMY_TP=bl;exports.CHANGE_EXP=El;exports.CHANGE_FORMATION_ACCESS=gd;exports.CHANGE_GOLD=ld;exports.CHANGE_HP=ml;exports.CHANGE_ITEMS=fd;exports.CHANGE_MENU_ACCESS=Ad;exports.CHANGE_MP=pl;exports.CHANGE_NAME=yl;exports.CHANGE_NICKNAME=Rl;exports.CHANGE_PARALLAX=il;exports.CHANGE_PARTY_MEMBER=_d;exports.CHANGE_PLAYER_FOLLOWERS=Dd;exports.CHANGE_PROFILE=vl;exports.CHANGE_SAVE_ACCESS=yd;exports.CHANGE_TILESET=sl;exports.CHANGE_TP=_l;exports.CHANGE_TRANSPARENCY=Md;exports.CHANGE_VEHICLE_BGM=Sd;exports.CHANGE_VEHICLE_IMAGE=gl;exports.CHANGE_VICTORY_ME=Ed;exports.CHANGE_WEAPONS=md;exports.CHANGE_WINDOW_COLOR=Rd;exports.COLLAPS_BOSS=Ua;exports.COLLAPS_INSTANT=ja;exports.COLLAPS_NONE=qa;exports.COLLAPS_NORMAL=Fa;exports.COMMENT=Ju;exports.COMMENT_BODY=xu;exports.COMMON_EVENT=ad;exports.CONDITIONAL_BRANCH=Zu;exports.CONDITIONAL_BRANCH_ELSE=ed;exports.CONTROL_SELF_SWITCH=ud;exports.CONTROL_SWITCHES=id;exports.CONTROL_TIMER=dd;exports.CONTROL_VARIABLES=cd;exports.DEFAULT_DAMAGE_LABELS=Ks;exports.DEFAULT_GLOBAL_LABELS=Qs;exports.DEFAULT_ITEM_LABELS=lc;exports.DEFAULT_SKILL_LABELS=fc;exports.DEFAULT_SYSTEM_LABELS_BOOLEAN=Gf;exports.DEFAULT_USABLE_ITEM_LABELS=mc;exports.EFFECT_ADD_BUFF=gs;exports.EFFECT_ADD_DEBUFF=Rs;exports.EFFECT_ADD_STATE=As;exports.EFFECT_COMMON_EVENT=Os;exports.EFFECT_GAIN_TP=ys;exports.EFFECT_GROW=Is;exports.EFFECT_LEARN_SKILL=Ps;exports.EFFECT_RECOVER_HP=hs;exports.EFFECT_RECOVER_MP=Es;exports.EFFECT_REMOVE_BUFF=vs;exports.EFFECT_REMOVE_DEBUFF=Ss;exports.EFFECT_REMOVE_STATE=Ts;exports.EFFECT_SPECIAL=Vi;exports.ENEMY_APPEAR=Nl;exports.ENEMY_RECOVER_ALL=Ol;exports.ENEMY_TRANSFORM=$l;exports.ERASE_EVENT=bd;exports.ERASE_PICTURE=Wd;exports.EXIT_EVENT_PROCESSING=nd;exports.EXTRA_PARAM_CEV=sr;exports.EXTRA_PARAM_CNT=cr;exports.EXTRA_PARAM_CRI=ar;exports.EXTRA_PARAM_EVA=nr;exports.EXTRA_PARAM_HIT=rr;exports.EXTRA_PARAM_HRG=ur;exports.EXTRA_PARAM_MEV=or;exports.EXTRA_PARAM_MRF=ir;exports.EXTRA_PARAM_MRG=dr;exports.EXTRA_PARAM_TRG=lr;exports.FADEIN_SCREEN=Ud;exports.FADEOUT_BGM=Jd;exports.FADEOUT_BGS=el;exports.FADEOUT_SCREEN=Fd;exports.FILANAME_CLASSES=To;exports.FILENAME_ACTORS=Ao;exports.FILENAME_ANIMATIONS=No;exports.FILENAME_ARMORS=So;exports.FILENAME_COMMON_EVENTS=Co;exports.FILENAME_ENEMIES=Io;exports.FILENAME_ITEMS=Ro;exports.FILENAME_MAP_INFOS=Mo;exports.FILENAME_SKILLS=go;exports.FILENAME_STATES=Oo;exports.FILENAME_SYSTEM=yo;exports.FILENAME_TILESET=$o;exports.FILENAME_TROOPS=Po;exports.FILENAME_WEAPONS=vo;exports.FLAG_ID_AUTO_BATTLE=Wa;exports.FLAG_ID_GUARD=za;exports.FLAG_ID_PRESERVE_TP=Ja;exports.FLAG_ID_SUBSTITUTE=Xa;exports.FLASH_SCREEN=qd;exports.FOLDER_AUDIO=bo;exports.FOLDER_AUDIO_BGM=eo;exports.FOLDER_AUDIO_BGS=no;exports.FOLDER_AUDIO_ME=ro;exports.FOLDER_AUDIO_SE=to;exports.FOLDER_DATA=Lo;exports.FOLDER_IMG=wo;exports.FOLDER_IMG_BATTLEBACK1=ao;exports.FOLDER_IMG_BATTLEBACK2=so;exports.FOLDER_IMG_CHACTERS=oo;exports.FOLDER_IMG_ENEMIES=io;exports.FOLDER_IMG_FACES=co;exports.FOLDER_IMG_PARALLACES=uo;exports.FOLDER_IMG_PICTURES=lo;exports.FOLDER_IMG_SV_ACTORS=fo;exports.FOLDER_IMG_SV_ENEMIES=mo;exports.FOLDER_IMG_SYSTEM=po;exports.FOLDER_IMG_TILESETS=_o;exports.FOLDER_IMG_TITLES1=ho;exports.FOLDER_IMG_TITLES2=Eo;exports.FOLDER_JS=Do;exports.FORCE_ACTION=Ml;exports.GAME_OVER=kl;exports.GATHER_FOLLOWERS=kd;exports.GET_LOCATION_INFO=cl;exports.GET_ONOFF_VEHICLE=Cd;exports.HITTYPE_CERTAIN=ji;exports.HITTYPE_MAGICAL=Gi;exports.HITTYPE_PHYSICAL=qi;exports.INPUT_NUMBER=Yu;exports.LABEL=sd;exports.LABELS_DATA_WEAPON=wi;exports.LABEL_JUMP=od;exports.LABEL_REGISTRY_JP=Vf;exports.LABEL_SET_DATA=Bs;exports.LABEL_SET_ITEM_EFFECT=ue;exports.LABEL_SET_TRAIT=Q;exports.LOOP=td;exports.LOOP_BREAK=rd;exports.MODULE_DATA=er;exports.MODULE_SYSTEM=tr;exports.MODULE_TRAIT=Ct;exports.MOVE_PICTURE=Bd;exports.MockSystemLabelDataTypes=Hf;exports.NAME_INPUT_PROCESSING=fl;exports.NO_OPERATION=Gu;exports.OPEN_MENU_SCREEN=wl;exports.OPEN_SAVE_SCREEN=Dl;exports.PARTY_ABILITY_CANCEL_SURPRISE=Va;exports.PARTY_ABILITY_DROP_ITEM_DOUBLE=Ya;exports.PARTY_ABILITY_ENCOUNTER_HALF=Ga;exports.PARTY_ABILITY_ENCOUNTER_NONE=Ha;exports.PARTY_ABILITY_GOLD_DOUBLE=Ka;exports.PARTY_ABILITY_RAISE_PREEMPTIVE=Ba;exports.PLAY_BGM=Xd;exports.PLAY_BGS=Zd;exports.PLAY_ME=tl;exports.PLAY_MOVIE=al;exports.PLAY_SE=rl;exports.PLUGIN_COMMAND_MV=ql;exports.PLUGIN_COMMAND_MZ=Gl;exports.RECOVER_ALL=hl;exports.REGULAR_PARAM_AGI=yr;exports.REGULAR_PARAM_ATK=pr;exports.REGULAR_PARAM_DEF=_r;exports.REGULAR_PARAM_LUK=Ar;exports.REGULAR_PARAM_MATK=hr;exports.REGULAR_PARAM_MAX_HP=fr;exports.REGULAR_PARAM_MAX_MP=mr;exports.REGULAR_PARAM_MDEF=Er;exports.RESUME_BGM=Qd;exports.RETURN_TO_TITLE_SCREEN=Fl;exports.ROTATE_PICTURE=Kd;exports.ROUTE_CHANGE_BLEND_MODE=Lf;exports.ROUTE_CHANGE_FREQ=Af;exports.ROUTE_CHANGE_IMAGE=Cf;exports.ROUTE_CHANGE_OPACITY=Mf;exports.ROUTE_CHANGE_SPEED=yf;exports.ROUTE_DIR_FIX_OFF=If;exports.ROUTE_DIR_FIX_ON=Sf;exports.ROUTE_END=Hl;exports.ROUTE_JUMP=rf;exports.ROUTE_MOVE_AWAY=Zl;exports.ROUTE_MOVE_BACKWARD=tf;exports.ROUTE_MOVE_DOWN=Vl;exports.ROUTE_MOVE_FORWARD=ef;exports.ROUTE_MOVE_LEFT=Bl;exports.ROUTE_MOVE_LOWER_L=Wl;exports.ROUTE_MOVE_LOWER_R=zl;exports.ROUTE_MOVE_RANDOM=xl;exports.ROUTE_MOVE_RIGHT=Kl;exports.ROUTE_MOVE_TOWARD=Ql;exports.ROUTE_MOVE_UP=Yl;exports.ROUTE_MOVE_UPPER_L=Xl;exports.ROUTE_MOVE_UPPER_R=Jl;exports.ROUTE_PLAY_SE=wf;exports.ROUTE_SCRIPT=bf;exports.ROUTE_STEP_ANIME_OFF=vf;exports.ROUTE_STEP_ANIME_ON=Rf;exports.ROUTE_SWITCH_OFF=Ef;exports.ROUTE_SWITCH_ON=hf;exports.ROUTE_THROUGH_OFF=Of;exports.ROUTE_THROUGH_ON=Pf;exports.ROUTE_TRANSPARENT_OFF=$f;exports.ROUTE_TRANSPARENT_ON=Nf;exports.ROUTE_TURN_180D=lf;exports.ROUTE_TURN_90D_L=df;exports.ROUTE_TURN_90D_R=uf;exports.ROUTE_TURN_90D_R_L=ff;exports.ROUTE_TURN_AWAY=_f;exports.ROUTE_TURN_DOWN=af;exports.ROUTE_TURN_LEFT=sf;exports.ROUTE_TURN_RANDOM=mf;exports.ROUTE_TURN_RIGHT=of;exports.ROUTE_TURN_TOWARD=pf;exports.ROUTE_TURN_UP=cf;exports.ROUTE_WAIT=nf;exports.ROUTE_WALK_ANIME_OFF=gf;exports.ROUTE_WALK_ANIME_ON=Tf;exports.SAVE_BGM=xd;exports.SCHEMA_DAMAGE=pc;exports.SCHEMA_DATA_ACTOR=is;exports.SCHEMA_DATA_ARMMOR=cs;exports.SCHEMA_DATA_CLASS=us;exports.SCHEMA_DATA_ENEMY=ms;exports.SCHEMA_DATA_ITEM=_s;exports.SCHEMA_DATA_MAP_INFO=Df;exports.SCHEMA_DATA_SKILL=ps;exports.SCHEMA_DATA_STATE=ds;exports.SCHEMA_DATA_WEAPON=ls;exports.SCHEMA_TRAIT=Oi;exports.SCRIPT_EVAL=Ul;exports.SCRIPT_EVAL_BODY=jl;exports.SCROLL_MAP=Nd;exports.SELECT_ITEM=Wu;exports.SET_EVENT_LOCATION=Od;exports.SET_MOVEMENT_ROUTE=$d;exports.SET_VEHICLE_LOCATION=Pd;exports.SET_WEATHER_EFFECT=zd;exports.SHAKE_SCREEN=Gd;exports.SHOP_PROCESSING=dl;exports.SHOP_PROCESSING_BODY=ll;exports.SHOW_ANIMATION=Ld;exports.SHOW_BALLOON_ICON=wd;exports.SHOW_BATTLE_ANIMATION=Cl;exports.SHOW_CHOICES=Bu;exports.SHOW_CHOICES_ITEM=Ku;exports.SHOW_MESSAGE=Hu;exports.SHOW_MESSAGE_BODY=Vu;exports.SHOW_PICTURE=Vd;exports.SHOW_SCROLLING_TEXT=zu;exports.SHOW_SCROLLING_TEXT_BODY=Xu;exports.SKIP=Qu;exports.SPECIAL_EFFECT_ESCAPE=Bi;exports.SPECIAL_PARAM_EXR=$r;exports.SPECIAL_PARAM_FDR=Nr;exports.SPECIAL_PARAM_GRD=gr;exports.SPECIAL_PARAM_MCR=Sr;exports.SPECIAL_PARAM_MDR=Or;exports.SPECIAL_PARAM_PDR=Pr;exports.SPECIAL_PARAM_PHA=vr;exports.SPECIAL_PARAM_REC=Rr;exports.SPECIAL_PARAM_TCR=Ir;exports.SPECIAL_PARAM_TGR=Tr;exports.SRC_ARMOR_TYPES=Ms;exports.SRC_COLOR=nc;exports.SRC_COMMON_EVNET=$s;exports.SRC_DATA_ACTOR=zi;exports.SRC_DATA_ARMOR=ec;exports.SRC_DATA_CLASS=tc;exports.SRC_DATA_ENEMY=xi;exports.SRC_DATA_ITEMS=Qi;exports.SRC_DATA_MAP=Ji;exports.SRC_DATA_SKILL=Dr;exports.SRC_DATA_STATE=He;exports.SRC_DATA_VARIABLE=Xi;exports.SRC_DATA_WEAPON=Zi;exports.SRC_ELEMENTS=Ls;exports.SRC_EQUIP_TYPES=ac;exports.SRC_PARAMS_EXTRA=Cr;exports.SRC_PARAMS_REGULAR=ke;exports.SRC_PARAMS_SPECIAL=Mr;exports.SRC_SKILL_TYPES=oc;exports.SRC_SWITCHES=sc;exports.SRC_TRAIT_COLLAPS=Lr;exports.SRC_TRAIT_PARTY_ABILITY=wr;exports.SRC_TRAIT_SPECIAL_FLAG=br;exports.SRC_TROOP=rc;exports.SRC_WEAPON_TYPES=Cs;exports.STOP_SE=nl;exports.TINT_PICTURE=Yd;exports.TINT_SCREEN=jd;exports.TRAIT_ACTION_PLUS=wa;exports.TRAIT_ATTACK_ELEMENT=Aa;exports.TRAIT_ATTACK_SKILL=va;exports.TRAIT_ATTACK_SPEED=ga;exports.TRAIT_ATTACK_STATE=Ta;exports.TRAIT_ATTACK_TIMES=Ra;exports.TRAIT_COLLAPSE_TYPE=Da;exports.TRAIT_DEBUFF_RATE=ma;exports.TRAIT_ELEMENT_RATE=fa;exports.TRAIT_EQUIP_ARMOR_TYPE=$a;exports.TRAIT_EQUIP_LOCK=Ca;exports.TRAIT_EQUIP_SEAL=Ma;exports.TRAIT_EQUIP_WEAPON_TYPE=Na;exports.TRAIT_PARAM=ha;exports.TRAIT_PARTY_ABILITY=ka;exports.TRAIT_SKILL_ADD=Pa;exports.TRAIT_SKILL_SEAL=Oa;exports.TRAIT_SKILL_TYPE_ADD=Sa;exports.TRAIT_SKILL_TYPE_SEAL=Ia;exports.TRAIT_SLOT_TYPE=La;exports.TRAIT_SPARAM=ya;exports.TRAIT_SPECIAL_FLAG=ba;exports.TRAIT_STATE_RATE=pa;exports.TRAIT_STATE_RESIST=_a;exports.TRAIT_XPARAM=Ea;exports.TRANSFER_PLAYER=Id;exports.TYPENAME_TRAIT=Pi;exports.TraitDescriptor=ns;exports.WAIT=Hd;exports.buildCollapsSource=zo;exports.buildExtraParamSource=xo;exports.buildPartyAbilitySource=Xo;exports.buildRegularParamSource=Jo;exports.buildSpecialFlagSource=Zo;exports.buildSpecialParamSource=Qo;exports.defineEffectAddBuff=Us;exports.defineEffectAddDebuff=Gs;exports.defineEffectAddState=ks;exports.defineEffectCommonEvent=Vs;exports.defineEffectGainTp=Ds;exports.defineEffectGrow=dc;exports.defineEffectLearnSkill=qs;exports.defineEffectRecoverHp=ws;exports.defineEffectRecoverMp=bs;exports.defineEffectRemoveBuff=js;exports.defineEffectRemoveDebuff=Hs;exports.defineEffectRemoveState=Fs;exports.extraParamName=Yo;exports.foldCollapsOptions=xa;exports.foldExtraParam=es;exports.foldPartyAbilityOptions=Qa;exports.foldRegularParam=Za;exports.foldSpecialFlag=rs;exports.foldSpecialParams=ts;exports.formatItemEffectText=cc;exports.getArmorTypes=Vo;exports.getElementTypes=jo;exports.getEquipTypes=qo;exports.getParamNames=Bo;exports.getSkillTypes=Go;exports.getVariableNames=Uo;exports.getWeaponTypes=Ho;exports.isDataActor=Du;exports.isDataArmor=ku;exports.isDataClass=qu;exports.isDataEnemy=Uu;exports.isDataItem=wu;exports.isDataSkill=bu;exports.isDataState=ju;exports.isDataWeapon=Fu;exports.isValid=Wi;exports.joinSourceKey=Yi;exports.makeActor=Ni;exports.makeArmor=Ci;exports.makeAudioFileParams=Bf;exports.makeClass=Mi;exports.makeCommonEventData=Ff;exports.makeDamage=wt;exports.makeDropItem=fs;exports.makeEnemy=ki;exports.makeEnemyAction=Di;exports.makeItem=Fi;exports.makeMapData=kf;exports.makeSkill=Ui;exports.makeState=Li;exports.makeTroopData=Uf;exports.makeTroopEventConditions=qf;exports.makeTroopMember=jf;exports.makeWeapon=bi;exports.mergeDomainLabel=ko;exports.mergeNestedPrimitiveRecords=Fo;exports.mergeWithDefaults=Zt;exports.normalizeDataActor=$i;exports.regularParamName=Ko;exports.resolveItemEffectLabels=uc;exports.resolveTraitLabels=ei;exports.sanitizeKey=Ki;exports.specialParamName=Wo;exports.testUnknonwKey=Ot;exports.traitDomain=Me;
//# sourceMappingURL=rpgTypes.cjs.js.map
