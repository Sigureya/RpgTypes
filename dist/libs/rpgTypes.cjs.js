"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const U=require("ajv"),wn="bgm",Kn="se",Xn="me",jn="bgs",zn="battlebacks1",$n="battlebacks2",Qn="characters",Jn="enemies",Zn="faces",eo="parallaxes",to="pictures",no="sv_actors",oo="sv_enemies",ao="system",ro="tilesets",io="titles1",so="titles2",co="System.json",mo="Actors.json",Eo="Classes.json",_o="Skills.json",Ao="Items.json",To="Weapons.json",po="Armors.json",Ro="Enemies.json",So="Troops.json",Io="States.json",Co="Animations.json",lo="Tilesets.json",yo="CommonEvents.json",Oo="MapInfos.json",uo="data",No="img",Lo="audio",Mo="js",H=(e,t)=>{const n={...e};for(const o in e){const s=t[o];typeof s=="string"&&(n[o]=s)}return n},go=(e,t)=>({domainName:t.domainName??e.domainName,options:H(e.options,t.options??{})}),Po=(e,t)=>{const n={};for(const o in e){const s=e[o],E=t[o]??{};n[o]=H(s,E)}return n},d=(e,t)=>({name:e,id:t}),fo=e=>e.variables.map(d),Do=e=>e.elements.map(d),Fo=e=>e.equipTypes.map(d),Uo=e=>e.skillTypes.map(d),Ho=e=>e.weaponTypes.map(d),Go=e=>e.armorTypes.map(d),ho=e=>e.terms.params.map(d),p="rmmz",M="trait",G="data",h="system",he=11,ve=12,ke=13,Be=14,xe=21,Ve=22,Ye=23,be=31,We=32,qe=33,we=34,Ke=35,Xe=41,je=42,ze=43,$e=44,Qe=51,Je=52,Ze=53,et=54,tt=55,nt=61,ot=62,at=63,rt=64,it=0,st=1,ct=2,mt=3,Et=0,_t=1,At=2,Tt=3,pt=4,Rt=5,dt=0,St=1,It=2,Ct=3,v=0,k=1,B=2,x=3,V=4,Y=5,b=6,W=7,q=8,w=9,K=0,X=1,j=2,z=3,$=4,Q=5,J=6,Z=7,ee=0,te=1,ne=2,oe=3,ae=4,re=5,ie=6,se=7,ce=8,me=9,vo=(e,t)=>{switch(e){case K:return t.maxHp;case X:return t.maxMp;case j:return t.atk;case z:return t.def;case $:return t.matk;case Q:return t.mdef;case J:return t.agi;case Z:return t.luk;default:return`?rparams[${e}]`}},ko=(e,t)=>{switch(e){case x:return t.criticalEvasionRate;case k:return t.evasionRate;case b:return t.counterAttackRate;case B:return t.criticalRate;case v:return t.hitRate;case W:return t.hpRegenerationRate;case V:return t.magicEvasionRate;case Y:return t.magicReflectionRate;case q:return t.mpRegenerationRate;case w:return t.tpRegenerationRate}return`?xparams[${e}]`},Bo=(e,t)=>{switch(e){case me:return t.experienceRate;case ee:return t.targetRate;case ce:return t.floorDamageRate;case te:return t.guradEffectRate;case ae:return t.mpCostRate;case re:return t.tpChargeRate;case ie:return t.physicalDamageRate;case se:return t.magicDamageRate;case oe:return t.pharmacology;case ne:return t.recoveryEffectRate}return`?sparams[${e}]`},lt=(e,t)=>[{id:it,name:t.normal},{id:st,name:e.bossCollaps},{id:ct,name:e.instantCollaps},{id:mt,name:e.noneCollaps}],yt=e=>[{id:Et,name:e.encounterHalf},{id:_t,name:e.encounterNone},{id:At,name:e.cancelSurprise},{id:Tt,name:e.raisePreemptive},{id:pt,name:e.goldDouble},{id:Rt,name:e.dropItemDouble}],Ot=e=>[{id:K,name:e.maxHp},{id:X,name:e.maxMp},{id:j,name:e.atk},{id:z,name:e.def},{id:$,name:e.matk},{id:Q,name:e.mdef},{id:J,name:e.agi},{id:Z,name:e.luk}],ut=e=>[{id:v,name:e.hitRate},{id:k,name:e.evasionRate},{id:B,name:e.criticalRate},{id:x,name:e.criticalEvasionRate},{id:V,name:e.magicEvasionRate},{id:Y,name:e.magicReflectionRate},{id:b,name:e.counterAttackRate},{id:W,name:e.hpRegenerationRate},{id:q,name:e.mpRegenerationRate},{id:w,name:e.tpRegenerationRate}],Nt=e=>[{id:ee,name:e.targetRate},{id:te,name:e.guradEffectRate},{id:ne,name:e.recoveryEffectRate},{id:oe,name:e.pharmacology},{id:ae,name:e.mpCostRate},{id:re,name:e.tpChargeRate},{id:ie,name:e.physicalDamageRate},{id:se,name:e.magicDamageRate},{id:ce,name:e.floorDamageRate},{id:me,name:e.experienceRate}],Lt=e=>[{id:dt,name:e.autoBattle},{id:St,name:e.guard},{id:It,name:e.substitute},{id:Ct,name:e.preventEscape}],S=(e,t,n)=>({items:n(t.options),label:t.domainName,source:{author:p,module:M,kind:e}}),xo=(e,t)=>S(Ae,e,n=>lt(n,t)),Vo=e=>S(Te,e,yt),Yo=e=>S(y,e,Ot),bo=e=>S(Ee,e,ut),Wo=e=>S(_e,e,Nt),qo=e=>S(pe,e,Lt),c="{name}",l="{name} * {value}%",Le="{name} + {value}%",Me="{value}",r={domainName:"特徴",options:{regularParam:{domainName:"基本能力値",format:l,options:{maxHp:"最大HP",maxMp:"最大MP",atk:"攻撃力",def:"防御力",matk:"魔法攻撃力",mdef:"魔法防御力",agi:"敏捷性",luk:"運"}},extraParam:{domainName:"追加能力値",format:Le,options:{hitRate:"命中率",evasionRate:"回避率",criticalRate:"クリティカル率",criticalEvasionRate:"クリティカル回避率",magicEvasionRate:"魔法回避率",magicReflectionRate:"魔法反射率",counterAttackRate:"反撃率",hpRegenerationRate:"HP再生率",mpRegenerationRate:"MP再生率",tpRegenerationRate:"TP再生率"}},specialParam:{domainName:"特殊能力値",format:l,options:{targetRate:"狙われ率",guradEffectRate:"防御効果率",recoveryEffectRate:"回復効果率",pharmacology:"薬の知識",mpCostRate:"MP消費率",tpChargeRate:"TPチャージ率",physicalDamageRate:"物理ダメージ率",magicDamageRate:"魔法ダメージ率",floorDamageRate:"床ダメージ率",experienceRate:"経験値率"}},specialFlag:{domainName:"特殊フラグ",format:c,options:{autoBattle:"自動戦闘",guard:"防御",substitute:"身代わり",preventEscape:"逃走防止"}},collaps:{domainName:"消滅エフェクト",format:c,options:{bossCollaps:"ボス崩壊",instantCollaps:"即時崩壊",noneCollaps:"崩壊なし"}},partyAbility:{domainName:"パーティ能力",format:c,options:{cancelSurprise:"不意打ち無効",dropItemDouble:"アイテムドロップ2倍",encounterHalf:"エンカウント半減",encounterNone:"エンカウントなし",goldDouble:"ゴールド2倍",raisePreemptive:"先制攻撃率アップ"}},elementRate:{domainName:"属性有効度",format:l},debuffRate:{domainName:"弱体有効度",format:l},stateRate:{domainName:"ステート有効度",format:l},stateResist:{domainName:"ステート無効",format:c},attackElement:{domainName:"攻撃属性",format:c},attackState:{domainName:"攻撃ステート",format:Le},attackSpeed:{domainName:"攻撃速度補正",format:Me},attackTimes:{domainName:"攻撃追加回数",format:Me},actionPlus:{domainName:"行動追加",format:l},attackSkill:{domainName:"攻撃スキル",format:c},equipWeaponType:{domainName:"装備武器タイプ",format:c},equipArmorType:{domainName:"装備防具タイプ",format:c},equipLock:{domainName:"装備固定",format:c},equipSeal:{domainName:"装備封印",format:c},slotType:{domainName:"スロットタイプ",format:c},skillAdd:{domainName:"スキル追加",format:c},skillSeal:{domainName:"スキルタイプ封印",format:c},skillTypeAdd:{domainName:"スキルタイプ追加",format:c},skillTypeSeal:{domainName:"スキルタイプ封印",format:c}}},ge="{value}",Pe="{name}";class Mt{constructor(t,n,o,s){this.code=t,this.label=n,this.format=o,this.dataSource=s}match(t){return this.code===t.code}testTraitCode(t){this.match(t)}formatText(t,n){this.testTraitCode(t);const o=this.format.replaceAll(ge,t.value.toString());return this.dataSource?o.replaceAll(Pe,n(this.dataSource,t.dataId)):o}requiresValue(){return this.format.includes(ge)}requiresName(){return this.format.includes(Pe)}invalidPlaceHolder(){const t=["value","name"];return[...this.format.matchAll(/\{([^}]+)\}/g)].map(o=>o[1]).filter(o=>!t.includes(o))}isFormatValidForDataSource(){return!(this.dataSource&&!this.requiresName())}diagnose(){const t=!this.isFormatValidForDataSource(),n=this.requiresName()&&!this.dataSource,o=this.invalidPlaceHolder();return{code:this.code,label:this.label,format:this.format,hasError:t||n||o.length>0,missingDataSourceError:t,sourceMismatchError:n,invalidPlaceHolders:o}}}const wo=e=>[Ko(e.elementRate),Xo(e.debuffRate),jo(e.stateRate),zo(e.stateResist),$o(e.regularParam),Qo(e.extraParam),Jo(e.specialParam),Zo(e.attackElement),ea(e.attackState),ta(e.attackSpeed),na(e.attackTimes),oa(e.attackSkill),Ra(e.skillTypeAdd),da(e.skillTypeSeal),Aa(e.skillAdd),Ta(e.skillSeal),ca(e.equipWeaponType),ma(e.equipArmorType),Ea(e.equipLock),_a(e.equipSeal),pa(e.slotType),aa(e.actionPlus),ra(e.specialFlag),ia(e.collaps),sa(e.partyAbility)],fe=(e,t)=>typeof t=="string"?t:e,i=(e,t,n,o)=>{const s=fe(t.domainName,n.domainName),E=fe(t.format,n.format);return new Mt(e,s,E,o)},gt=()=>({module:h,author:p,kind:tn}),Pt=e=>({module:G,author:p,kind:e}),A=e=>({author:p,module:M,kind:e}),ft=e=>({author:p,module:h,kind:e}),Ko=e=>i(he,r.options.elementRate,e,gt()),Xo=e=>i(ve,r.options.debuffRate,e,A(y)),jo=e=>i(ke,r.options.stateRate,e,A(y)),zo=e=>i(Be,r.options.stateResist,e,Pt(u)),$o=e=>i(xe,r.options.regularParam,e,A(y)),Qo=e=>i(Ve,r.options.extraParam,e,A(Ee)),Jo=e=>i(Ye,r.options.specialParam,e,A(_e)),Zo=e=>i(be,r.options.attackElement,e,gt()),ea=e=>i(We,r.options.attackState,e,A(u)),ta=e=>i(qe,r.options.attackSpeed,e),na=e=>i(we,r.options.attackTimes,e),oa=e=>i(Ke,r.options.attackSkill,e,Pt(Re)),aa=e=>i(nt,r.options.actionPlus,e),ra=e=>i(ot,r.options.specialFlag,e,A(pe)),ia=e=>i(at,r.options.collaps,e,A(Ae)),sa=e=>i(rt,r.options.partyAbility,e,A(Te)),ca=e=>i(Qe,r.options.equipWeaponType,e,ft(Zt)),ma=e=>i(Je,r.options.equipArmorType,e,ft(en)),Ea=e=>i(Ze,r.options.equipLock,e),_a=e=>i(et,r.options.equipSeal,e),Aa=e=>i(ze,r.options.skillAdd,e),Ta=e=>i($e,r.options.skillSeal,e),pa=e=>i(tt,r.options.slotType,e),Ra=e=>i(Xe,r.options.skillTypeAdd,e),da=e=>i(je,r.options.skillTypeSeal,e),Sa="Trait",Ia={type:"object",required:["code","dataId","value"],properties:{code:{type:"integer"},dataId:{type:"integer"},value:{type:"integer"}}},Ca=(e={})=>({name:e.name??"",id:e.id??0,battlerName:e.battlerName??"",characterName:e.characterName??"",characterIndex:e.characterIndex??0,faceName:e.faceName??"",faceIndex:e.faceIndex??0,traits:[],note:e.note??"",classId:e.classId??0,nickname:e.nickname??"",profile:e.profile??"",equips:[],initialLevel:e.initialLevel??0,maxLevel:e.maxLevel??0}),Dt={type:"object",required:["name","id","nickname","battlerName","characterName","characterIndex","faceName","faceIndex","classId","initialLevel","maxLevel"],properties:{name:{type:"string"},battlerName:{type:"string"},characterName:{type:"string"},characterIndex:{type:"integer"},faceName:{type:"string"},faceIndex:{type:"integer",minimum:0,maximum:7},id:{type:"integer",minimum:0},nickname:{type:"string"},profile:{type:"string"},initialLevel:{type:"integer",minimum:0},maxLevel:{type:"integer"},classId:{type:"integer",minimum:0},equips:{type:"array",items:{type:"integer"}},note:{type:"string"},traits:{type:"array",items:{type:"object",properties:{code:{type:"integer"},dataId:{type:"integer"},value:{type:"integer"}},required:["code","dataId","value"]}}}},la=e=>({name:e.name??"",id:e.id??0,battlerName:e.battlerName??"",characterName:e.characterName??"",characterIndex:e.characterIndex??0,faceName:e.faceName??"",faceIndex:e.faceIndex??0,traits:[],note:e.note??"",classId:e.classId??0,nickname:e.nickname??"",profile:e.profile??"",equips:[],initialLevel:e.initialLevel??0,maxLevel:e.maxLevel??0}),ya=(e={})=>({id:e.id??0,name:e.name??"",iconIndex:e.iconIndex??0,description:e.description??"",traits:e.traits??[],note:e.note??"",params:e.params??[0,0,0,0,0,0,0,0],etypeId:e.etypeId??0,price:e.price??0}),Ft={type:"object",required:["name","id","description","iconIndex","price","params","traits","note","etypeId"],properties:{name:{type:"string"},id:{type:"integer",minimum:0},description:{type:"string"},iconIndex:{type:"integer",minimum:0},price:{type:"integer",minimum:0},note:{type:"string"},etypeId:{type:"integer",minimum:0},params:{type:"array",items:[{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"}],minItems:8,maxItems:8},traits:{type:"array",items:{type:"object",properties:{code:{type:"integer"},dataId:{type:"integer"},value:{type:"integer"}},required:["code","dataId","value"]}}}},Oa=(e={})=>({name:e.name??"",id:e.id??0,traits:[],note:e.note??"",params:[0,0,0,0,0,0,0,0],learnings:e.learnings??[],expParams:e.expParams??[]}),Ut={type:"object",required:["name","id","note","expParams","params","learnings","traits"],properties:{name:{type:"string"},id:{type:"integer",minimum:0},note:{type:"string"},expParams:{type:"array",items:{type:"integer"}},params:{type:"array",items:[{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"}],minItems:8,maxItems:8},learnings:{type:"array",items:{type:"object",properties:{level:{type:"integer"},skillId:{type:"integer"},note:{type:"string"}},required:["level","skillId"],additionalProperties:!1}},traits:{type:"array",items:{type:"object",properties:{code:{type:"integer"},dataId:{type:"integer"},value:{type:"integer"}},required:["code","dataId","value"],additionalProperties:!1}}},additionalProperties:!1},ua=(e={})=>({name:e.name??"",id:e.id??0,iconIndex:e.iconIndex??0,message1:e.message1??"",message2:e.message2??"",message3:e.message3??"",message4:e.message4??"",traits:[],note:e.note??"",restriction:e.restriction??0,priority:e.priority??0,motion:e.motion??0,overlay:e.overlay??0,removeAtBattleEnd:e.removeAtBattleEnd??!1,removeByRestriction:e.removeByRestriction??!1,autoRemovalTiming:e.autoRemovalTiming??0,minTurns:e.minTurns??0,maxTurns:e.maxTurns??0,removeByDamage:e.removeByDamage??!1,chanceByDamage:e.chanceByDamage??0,removeByWalking:e.removeByWalking??!1,stepsToRemove:e.stepsToRemove??0}),Ht={type:"object",required:["name","id","iconIndex","message1","message2","message3","message4","restriction","priority","motion","overlay","removeAtBattleEnd","removeByDamage","removeByWalking","removeByRestriction","autoRemovalTiming","minTurns","maxTurns","chanceByDamage","stepsToRemove","note"],properties:{name:{type:"string"},id:{type:"integer",minimum:0},iconIndex:{type:"integer",minimum:0},message1:{type:"string"},message2:{type:"string"},message3:{type:"string"},message4:{type:"string"},restriction:{type:"integer"},priority:{type:"integer"},motion:{type:"integer"},overlay:{type:"integer"},removeAtBattleEnd:{type:"boolean"},removeByDamage:{type:"boolean"},removeByWalking:{type:"boolean"},removeByRestriction:{type:"boolean"},autoRemovalTiming:{type:"integer"},minTurns:{type:"integer"},maxTurns:{type:"integer"},chanceByDamage:{type:"integer"},stepsToRemove:{type:"integer"},note:{type:"string"},traits:{type:"array",items:{type:"object",properties:{code:{type:"integer"},dataId:{type:"integer"},value:{type:"integer"}},required:["code","dataId","value"]}}}},Na={domainName:"武器",options:{weaponTypeId:"武器タイプID"}},La=(e={})=>({id:e.id??0,name:e.name??"",iconIndex:e.iconIndex??0,description:e.description??"",traits:e.traits??[],note:e.note??"",params:e.params??[0,0,0,0,0,0,0,0],etypeId:e.etypeId??0,price:e.price??0,damage:f(e.damage??{}),wtypeId:e.wtypeId??0}),Gt={type:"object",required:["name","id","description","iconIndex","price","params","traits","note","etypeId"],properties:{name:{type:"string"},id:{type:"integer",minimum:0},description:{type:"string"},iconIndex:{type:"integer",minimum:0},price:{type:"integer",minimum:0},note:{type:"string"},etypeId:{type:"integer",minimum:0},wtypeId:{type:"integer",minimum:0},params:{type:"array",items:[{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"}],minItems:8,maxItems:8},damage:{type:"object",properties:{type:{type:"integer",minimum:0},elementId:{type:"integer",minimum:0},formula:{type:"string"},variance:{type:"integer",minimum:0,maximum:100},critical:{type:"boolean"}},required:["type","elementId","formula","variance","critical"]},traits:{type:"array",items:{type:"object",properties:{code:{type:"integer"},dataId:{type:"integer"},value:{type:"integer"}},required:["code","dataId","value"]}}}},ht=(e={})=>({dataId:e.dataId??0,denominator:e.denominator??0,kind:e.kind??0}),Ma=(e={})=>({conditionParam1:e.conditionParam1??0,conditionParam2:e.conditionParam2??0,conditionType:e.conditionType??0,rating:e.rating??0,skillId:e.skillId??0}),ga=(e={})=>{var t;return{name:e.name??"",id:e.id??0,battlerName:e.battlerName??"",battlerHue:e.battlerHue??0,dropItems:((t=e.dropItems)==null?void 0:t.map(()=>ht()))??[],exp:e.exp??0,gold:e.gold??0,traits:[],note:e.note??"",params:[0,0,0,0,0,0,0,0],actions:[]}},vt={type:"object",required:["name","id","battlerName","battlerHue","exp","gold","note","params","dropItems","traits","actions"],properties:{name:{type:"string"},id:{type:"integer",minimum:0},battlerHue:{type:"integer",minimum:0},battlerName:{type:"string"},exp:{type:"integer",minimum:0},gold:{type:"integer",minimum:0},note:{type:"string"},params:{type:"array",items:[{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"}],minItems:8,maxItems:8},actions:{type:"array",items:{type:"object",required:["conditionParam1","conditionParam2","conditionType","skillId","rating"],properties:{conditionParam1:{type:"integer"},conditionParam2:{type:"integer"},conditionType:{type:"integer"},skillId:{type:"integer"},rating:{type:"integer"}}}},traits:{type:"array",items:{type:"object",properties:{code:{type:"integer"},dataId:{type:"integer"},value:{type:"integer"}},required:["code","dataId","value"]}},dropItems:{type:"array",items:{type:"object",properties:{kind:{type:"integer"},dataId:{type:"integer"},denominator:{type:"integer",minimum:0},rate:{type:"number"}},required:["kind","dataId","denominator"]}}}},Pa=(e={})=>({animationId:e.animationId??0,id:e.id??0,name:e.name??"",iconIndex:e.iconIndex??0,description:e.description??"",note:e.note??"",consumable:e.consumable??!1,scope:e.scope??0,occasion:e.occasion??0,speed:e.speed??0,successRate:e.successRate??0,repeats:e.repeats??0,tpGain:e.tpGain??0,hitType:e.hitType??0,damage:f(e.damage??{}),effects:[],price:0}),fa=(e={})=>({stypeId:e.stypeId??0,requiredWtypeId1:e.requiredWtypeId1??0,requiredWtypeId2:e.requiredWtypeId2??0,animationId:e.animationId??0,damage:f(e.damage??{}),description:e.description??"",effects:[],hitType:e.hitType??0,iconIndex:e.iconIndex??0,id:e.id??0,message1:e.message1??"",message2:e.message2??"",messageType:e.messageType??0,name:e.name??"",note:e.note??"",mpCost:e.mpCost??0,occasion:e.occasion??0,repeats:e.repeats??0,scope:e.scope??0,speed:e.speed??0,successRate:e.successRate??0,tpCost:e.tpCost??0,tpGain:e.tpGain??0}),kt={type:"object",required:["name","id","description","iconIndex","message1","message2","messageType","mpCost","requiredWtypeId1","requiredWtypeId2","stypeId","tpCost","animationId","hitType","occasion","repeats","scope","speed","successRate","tpGain","note","effects"],properties:{name:{type:"string"},id:{type:"integer",minimum:0},description:{type:"string"},iconIndex:{type:"integer",minimum:0},message1:{type:"string"},message2:{type:"string"},messageType:{type:"integer"},mpCost:{type:"integer"},requiredWtypeId1:{type:"integer"},requiredWtypeId2:{type:"integer"},stypeId:{type:"integer"},tpCost:{type:"integer"},animationId:{type:"integer",minimum:0},hitType:{type:"integer"},occasion:{type:"integer"},repeats:{type:"integer"},scope:{type:"integer"},speed:{type:"integer"},successRate:{type:"integer"},tpGain:{type:"integer"},note:{type:"string"},effects:{type:"array",items:{type:"object",properties:{code:{type:"integer"},dataId:{type:"integer"},value1:{type:"integer"},value2:{type:"integer"}},required:["code","dataId","value1","value2"],additionalProperties:!1}},damage:{type:"object",properties:{type:{type:"integer"},elementId:{type:"integer"},formula:{type:"string"},variance:{type:"integer"},critical:{type:"boolean"}},required:["type","elementId","formula","variance","critical"],additionalProperties:!1}},additionalProperties:!1},Bt={type:"object",required:["name","id","description","iconIndex","note","animationId","hitType","occasion","repeats","scope","speed","successRate","tpGain","consumable","price","effects"],properties:{name:{type:"string"},id:{type:"integer",minimum:0},description:{type:"string"},iconIndex:{type:"integer",minimum:0},note:{type:"string"},animationId:{type:"integer",minimum:0},hitType:{type:"integer"},occasion:{type:"integer"},repeats:{type:"integer"},scope:{type:"integer"},speed:{type:"integer"},successRate:{type:"integer"},tpGain:{type:"integer"},consumable:{type:"boolean"},price:{type:"integer",minimum:0},effects:{type:"array",items:{type:"object",properties:{code:{type:"integer"},dataId:{type:"integer"},value1:{type:"integer"},value2:{type:"integer"}},required:["code","dataId","value1","value2"],additionalProperties:!1}},damage:{type:"object",properties:{type:{type:"integer"},elementId:{type:"integer"},formula:{type:"string"},variance:{type:"integer"},critical:{type:"boolean"}},required:["type","elementId","formula","variance","critical"],additionalProperties:!1}}},Da=0,Fa=1,Ua=2,Ha="{name} + {value1}",De="{name} {value1}%",F="{value1}% + {value2}",Fe="{name} {value1}ターン",O="{name}",m={domainName:"使用効果",options:{addBuff:{desc:"バフを付与する",domainName:"バフ付与",format:Fe},addDebuff:{desc:"デバフを付与する",domainName:"デバフ付与",format:Fe},gainTp:{desc:"TPを指定した量だけ増加させます。",domainName:"TP増加",format:F},grow:{desc:"成長効果",domainName:"成長効果",format:Ha},learnSkill:{desc:"スキルを習得する",domainName:"スキル習得",format:O},recoverHp:{desc:"HPを回復します。最大HPに対する割合と一定値のいずれか一方または両方を指定します。アイテムの場合は、特殊能力値[薬の知識]の倍率が適用されます。",domainName:"HP回復",format:F},recoverMp:{desc:"MPを回復します。最大MPに対する割合と一定値のいずれか一方または両方を指定します。アイテムの場合は、特殊能力値[薬の知識]の倍率が適用されます。",domainName:"MP回復",format:F},removeBuff:{desc:"バフを解除する",domainName:"バフ解除",format:O},removeDebuff:{desc:"デバフを解除する",domainName:"デバフ解除",format:O},removeState:{desc:"指定したステートを付加します。",domainName:"ステート付加",format:De},special:{desc:"特殊効果",domainName:"特殊効果",format:O},addState:{desc:"状態異常を解除する",domainName:"ステート解除",format:De},commonEvent:{desc:"コモンイベントを実行する",domainName:"コモンイベント",format:O}}},xt=11,Vt=12,Yt=13,bt=21,Wt=22,qt=31,wt=32,Kt=33,Xt=34,Ga=41,jt=42,zt=43,$t=44,ha=0,Qt=/^[a-zA-Z0-9]+$/,va=e=>Qt.test(e)?e:void 0,L=e=>typeof e=="string"?Qt.test(e):!1,ka=e=>[e.author,e.module,e.kind].join("."),Ba=e=>L(e.author)&&L(e.module)&&L(e.kind),y="params",Ee="xparams",_e="sparams",Ae="collaps",Te="partyAbiility",pe="sflag",xa="actor",Va="variables",Ya="map",ba="enemy",u="state",Re="skill",Wa="items",qa="weapon",wa="armor",Ka="class",Jt="common_event",Xa="troop",ja="colors",Zt="weaponTypes",en="armorTypes",za="equipTypes",$a="switches",Qa="skillTypes",tn="elements",Ue="{value1}",He="{value2}",Ge="{name}";class Ja{constructor(t,n,o,s,E){this.codeId=t,this.label=n,this.format=o,this.description=s,this.dataSource=E}formatText(t,n){const o=this.format.replaceAll(Ue,t.value1.toString()).replaceAll(He,t.value2.toString());return this.dataSource?o.replaceAll(Ge,n(this.dataSource,t.dataId)):o}requiresValue1(){return this.format.includes(Ue)}requiresValue2(){return this.format.includes(He)}requiresName(){return this.format.includes(Ge)}invalidPlaceHolder(){const t=["value1","value2","name"];return[...this.format.matchAll(/\{([^}]+)\}/g)].map(o=>o[1]).filter(o=>!t.includes(o))}isFormatValidForDataSource(){return!(this.dataSource&&!this.requiresName())}}const Za=(e,t,n)=>e.format.replaceAll("{value1}",t.value1.toString()).replaceAll("{value2}",t.value2.toString()).replaceAll("{name}",n),er=e=>[nn(e.options.recoverHp),on(e.options.recoverMp),an(e.options.gainTp),rn(e.options.addState),sn(e.options.removeState),cn(e.options.addBuff),_n(e.options.addDebuff),mn(e.options.removeBuff),An(e.options.removeDebuff),En(e.options.learnSkill),Tn(e.options.commonEvent)],g=()=>({author:p,module:M,kind:y}),P=e=>({author:p,module:G,kind:e}),_=(e,t,n,o)=>{const s=n.domainName??t.domainName,E=n.format??t.format,qn=n.desc??t.desc;return new Ja(e,s,E,qn,o)},nn=e=>_(xt,m.options.recoverHp,e),on=e=>_(Vt,m.options.recoverMp,e),an=e=>_(Yt,m.options.gainTp,e),tr=e=>_(jt,m.options.grow,e),rn=e=>_(bt,m.options.addState,e,P(u)),sn=e=>_(Wt,m.options.removeState,e,P(u)),cn=e=>_(qt,m.options.addBuff,e,g()),mn=e=>_(Kt,m.options.removeBuff,e,g()),En=e=>_(zt,m.options.learnSkill,e,P(Re)),_n=e=>_(wt,m.options.addBuff,e,g()),An=e=>_(Xt,m.options.removeDebuff,e,g()),Tn=e=>_($t,m.options.commonEvent,e,P(Jt)),nr={domainName:"アイテム",options:{consumable:"消耗品"}},or={domainName:"スキル",options:{requiredWeaponTypeId1:"必要武器タイプ1",requiredWeaponTypeId2:"必要武器タイプ2",mpCost:"MP消費",tpCost:"TP消費"}},ar={domainName:"",options:{scope:"範囲",speed:"速度補正",successRate:"成功率"}},pn={actor:{domainName:"アクター",options:{initialEquipments:"初期装備",faceImage:"顔画像",characterImage:"キャラクター画像",svBattlerImage:"SVバトラー画像",nickname:"ニックネーム",profile:"プロフィール",classId:"職業ID",initialLevel:"初期レベル",maxLevel:"最大レベル"}},class:{domainName:"職業",options:{params:"パラメータ",learnings:"習得スキル",expParams:"経験値パラメータ"}},armor:{domainName:"防具",options:{armorTypeId:"防具タイプID",slotTypeId:"スロットタイプID"}},enemy:{domainName:"敵キャラ",options:{dropItems:"ドロップアイテム",battlerHue:"バトラーヒュー",battlerName:"バトラー名",gold:"ゴールド"}},item:{domainName:"アイテム",options:{consumable:"消耗品"}},skill:{domainName:"スキル",options:{requiredWeaponTypeId1:"必要武器タイプ1",requiredWeaponTypeId2:"必要武器タイプ2",mpCost:"MP消費",tpCost:"TP消費"}},state:{domainName:"ステート",options:{restriction:"制約",priority:"優先度",motion:"モーション",overlay:"オーバーレイ",removeAtBattleEnd:"戦闘終了時解除",removeByRestriction:"制約による解除",autoRemovalTiming:"自動解除タイミング",minTurns:"最小ターン数",maxTurns:"最大ターン数",removeByDamage:"ダメージによる解除",chanceByDamage:"ダメージによる解除確率",removeByWalking:"歩行による解除",stepsToRemove:"解除までの歩数"}},weapon:{domainName:"武器",options:{weaponTypeId:"武器タイプID"}},usableItem:{domainName:"",options:{scope:"範囲",speed:"速度補正",successRate:"成功率"}}},Rn={domainName:"ダメージ",options:{}},f=(e={})=>({type:e.type??0,elementId:e.elementId??0,formula:e.formula??"",variance:e.variance??0,critical:e.critical??!1}),rr={type:"object",required:["type","elementId","formula","variance","critical"],properties:{type:{type:"integer",minimum:0},elementId:{type:"integer",minimum:0},formula:{type:"string"},variance:{type:"integer"},critical:{type:"boolean"}}},R=new U,ir=R.compile(Bt),sr=R.compile(kt),cr=R.compile(Dt),mr=R.compile(Ft),Er=R.compile(Gt),_r=R.compile(vt),Ar=R.compile(Ht),Tr=R.compile(Ut),pr=e=>ir(e),Rr=e=>sr(e),dr=e=>cr(e),Sr=e=>mr(e),Ir=e=>Er(e),Cr=e=>_r(e),lr=e=>Ar(e),yr=e=>Tr(e),Or=0,dn=101,de=401,Sn=102,In=402,Cn=103,ur=104,ln=105,Se=405,Ie=108,Ce=408,Nr=109,Lr=111,Mr=411,gr=112,Pr=113,fr=115,yn=117,Dr=118,Fr=119,Ur=121,Hr=122,Gr=123,hr=124,vr=125,kr=126,Br=127,xr=128,Vr=129,On=132,un=133,Yr=134,br=135,Wr=136,qr=137,wr=138,Nn=139,Kr=140,Xr=201,jr=202,zr=203,$r=204,Qr=205,Jr=206,Zr=211,ei=212,ti=213,ni=214,oi=216,ai=217,ri=221,ii=222,si=223,ci=224,mi=225,Ei=230,_i=231,Ai=232,Ti=233,pi=234,Ri=235,di=236,Ln=241,Si=242,Ii=243,Ci=244,Mn=245,li=246,gn=249,Pn=250,yi=251,Oi=261,ui=282,Ni=283,Li=284,Mi=285,gi=301,Pi=302,fi=605,Di=303,Fi=311,Ui=312,Hi=313,Gi=314,hi=315,fn=320,vi=321,ki=322,Bi=323,Dn=324,Fn=325,xi=331,Vi=332,Yi=333,bi=334,Wi=335,qi=336,wi=337,Ki=339,Xi=340,ji=351,zi=342,$i=352,Qi=353,Ji=354,le=355,ye=655,Zi=356,es=357,ts=0,ns=1,os=2,as=3,rs=4,is=5,ss=6,cs=7,ms=8,Es=9,_s=10,As=11,Ts=12,ps=13,Rs=14,ds=15,Ss=16,Is=17,Cs=18,ls=19,ys=20,Os=21,us=22,Ns=23,Ls=24,Ms=25,gs=26,Ps=27,fs=28,Ds=29,Fs=30,Us=31,Hs=32,Gs=33,hs=34,vs=35,ks=36,Bs=37,xs=38,Vs=39,Ys=40,bs=41,Ws=42,qs=43,ws=44,Ks=45,Xs=(e,t,n=0)=>({code:e,indent:n,parameters:t}),js=()=>({id:1,name:"",pages:[],note:"",x:0,y:0}),Un=()=>({characterIndex:0,characterName:"",direction:2,pattern:0,tileId:0}),Hn=(e={})=>({switch1Id:e.switch1Id??0,switch1Valid:e.switch1Id!==void 0,switch2Id:e.switch2Id??0,switch2Valid:e.switch2Id!==void 0,variableId:e.variableId??0,variableValid:e.variableId!==void 0,variableValue:e.variableValue??0,selfSwitchCh:e.selfSwitchCh??"A",selfSwitchValid:e.selfSwitchCh!==void 0,itemId:e.itemId??0,itemValid:e.itemId!==void 0,actorId:e.actorId??0,actorValid:e.actorId!==void 0}),zs=()=>({conditions:Hn(),list:[],directionFix:!1,image:Un(),moveFrequency:5,moveRoute:{list:[],repeat:!1,skippable:!1,wait:!1}}),Gn={type:"object",required:["name","id","expanded","order","parentId","scrollX","scrollY"],properties:{name:{type:"string"},id:{type:"integer",minimum:0},expanded:{type:"boolean"},order:{type:"integer"},parentId:{type:"integer"},scrollX:{type:"integer"},scrollY:{type:"integer"}}},$s=e=>e.toString().padStart(3,"0"),Qs=(e={id:0})=>({name:e.name??$s(e.id),id:e.id,expanded:e.expanded??!1,order:e.order??0,parentId:e.parentId??0,scrollX:e.scrollX??0,scrollY:e.scrollY??0}),Js=(e={})=>({autoplayBgm:e.autoplayBgm??!1,autoplayBgs:e.autoplayBgs??!1,battleback1Name:e.battleback1Name??"",battleback2Name:e.battleback2Name??"",bgm:e.bgm??{name:"",pan:0,pitch:100,volume:100},bgs:e.bgs??{name:"",pan:0,pitch:100,volume:100},disableDashing:e.disableDashing??!1,displayName:e.displayName??"",encounterList:e.encounterList??[],events:e.events??[],height:e.height??0,note:e.note??"",parallaxLoopX:e.parallaxLoopX??!1,parallaxLoopY:e.parallaxLoopY??!1,parallaxName:e.parallaxName??"",parallaxShow:e.parallaxShow??!1,parallaxSx:e.parallaxSx??0,parallaxSy:e.parallaxSy??0,width:e.width??0,x:e.x??0,y:e.y??0,data:e.data??[]}),Zs=(e={})=>({id:e.id??0,name:e.name??"",trigger:e.trigger??0,list:e.list??[],switchId:e.switchId??0}),ec=(e={})=>({id:e.id??0,name:e.name??"",members:e.members??[],pages:e.pages??[]}),tc=(e={})=>({enemyId:e.enemyId??0,x:e.x??0,y:e.y??0,hidden:e.hidden??!1}),nc=(e={})=>({actorHp:e.actorHp??0,actorId:e.actorId??0,enemyValid:e.enemyValid??0,switchValid:e.switchValid??0}),oc=new U,ac=oc.compile(Gn),rc=e=>ac(e),ic=(e={})=>({gameId:e.gameId??0,screenWidth:e.screenWidth??0,screenHeight:e.screenHeight??0,uiAreaWidth:e.uiAreaWidth??0,uiAreaHeight:e.uiAreaHeight??0,windowOpacity:e.windowOpacity??0,screenScale:e.screenScale??1,numberFontFilename:e.numberFontFilename??"",mainFontFilename:e.mainFontFilename??"",fallbackFonts:e.fallbackFonts??"",fontSize:e.fontSize??28}),sc={type:"object",properties:{gameId:{type:"integer"},screenWidth:{type:"integer"},screenHeight:{type:"integer"},uiAreaWidth:{type:"integer"},uiAreaHeight:{type:"integer"},windowOpacity:{type:"integer"},screenScale:{type:"number"},numberFontFilename:{type:"string"},mainFontFilename:{type:"string"},fallbackFonts:{type:"string"},fontSize:{type:"integer"}},required:["gameId","screenWidth","screenHeight","uiAreaWidth","uiAreaHeight","windowOpacity","screenScale","numberFontFilename","mainFontFilename","fallbackFonts","fontSize"],additionalProperties:!1},a=(e={})=>({name:e.name??"",volume:e.volume??100,pitch:e.pitch??100,pan:e.pan??0}),cc=e=>[a(e.cursor),a(e.ok),a(e.cancel),a(e.buzzer),a(e.equip),a(e.save),a(e.load),a(e.battleStart),a(e.escape),a(e.enemyAttack),a(e.enemyDamage),a(e.enemyCollapse),a(e.bossCollapes1),a(e.bossCollapes2),a(e.actorDamage),a(e.actorCollapse),a(e.playRecovery),a(e.playMiss),a(e.playEvasion),a(e.playMagicEvasion),a(e.playReflection),a(e.shop),a(e.useItem),a(e.useSkill)],mc={domainName:"オプション",options:{optDrawTitle:"ゲームタイトルの描画",optDisplayTp:"ウィンドウにTPを表示",optFloorDeath:"床ダメージで戦闘不能",optSlipDeath:"スリップダメージで戦闘不能",optAutosave:"オートセーブを有効化",optExtraExp:"控えメンバーも経験値を獲得",optFollowers:"隊列歩行",optSideView:"戦闘をサイドビューにする",optKeyItemsNumber:"大事なものの個数を表示",optTransparent:"透明状態で開始",optMessageSkip:"メッセージスキップを有効化",optSplashScreen:"スプラッシュ画面を表示"}},Ec={domainName:"タイプ",options:{armorTypes:"防具タイプ",elements:"属性",equipTypes:"装備タイプ",skillTypes:"スキルタイプ",weaponTypes:"武器タイプ",switches:"スイッチ",variables:"変数"}},Oe=(e,t)=>`<${e}:${t}>`,N=()=>/<([^<>:]+):([^>]*)>/g,_c=(e,t)=>ue(e.note,(n,o)=>t(n,o,e)),Ac=e=>ue(e,(t,n)=>[t,n]),ue=(e,t)=>{const n=N();return Array.from(e.matchAll(n),o=>t(o[1],o[2]))},Tc=(e,t)=>e.replaceAll(N(),(n,o,s)=>{const E=t(o,s);return Oe(o,E)}),pc=(e,t)=>{const n=N(),o=Array.from(e.matchAll(n)).find(s=>s[1]===t);return o?o[2]:void 0},Rc=(e,t,n)=>{const o=N();return e.replaceAll(o,(s,E)=>E===t?Oe(E,n):s)},D=(e,t)=>`\\${e}[${t}]`,dc=(e,t)=>t.map((n,o)=>({text:n,controlChar:D(e,o)})),Sc=e=>{const t=/\\([A-Za-z]+)\[(\d+)]/g;return Array.from(e.matchAll(t)).map(n=>({char:n[1],id:parseInt(n[2],10)}))},Ic="N",Cc="V",lc=e=>e.map(t=>({text:t.name,controlChar:D(Ic,t.id)})),yc=e=>e.variables.map((t,n)=>({text:t||"",controlChar:D(Cc,n)})).filter(t=>t.text!==""),hn={id:"識別子",name:"名前",note:"メモ",description:"説明",iconIndex:"アイコンインデックス",occasion:"使用タイミング",params:"パラメータ",repeats:"繰り返し回数",scope:"範囲",speed:"速度補正",successRate:"成功率",animationId:"アニメーションID",displayType:"表示タイプ",characterIndex:"キャラクターインデックス",characterName:"キャラクター名",effectName:"効果名",faceIndex:"顔グラフィックインデックス",faceName:"顔グラフィック名",flashTimings:"フラッシュタイミング",list:"リスト",messageType:"メッセージタイプ",offsetX:"オフセットX",offsetY:"オフセットY",overlay:"オーバーレイ",priority:"優先度",restriction:"制約",rotation:"回転",scale:"スケール",soundTimings:"サウンドタイミング",stepsToRemove:"解除までの歩数",type:"タイプ",variance:"分散度",unknownCode:"不明なコード",content:"内容",apply:"適用",turn:"ターン",commonEvent:"コモンイベント",normal:"通常",dualWield:"二刀流",bossCollaps:"ボス崩壊",instantCollaps:"即時崩壊",noneCollaps:"崩壊なし",escape:"逃走"},Oc={rpg:{damage:Rn,data:pn,traits:r,itemEffect:m},global:hn},uc={type:"object",required:["code","parameters","indent"],properties:{code:{type:"integer",enum:[108,408,355,401,405,655]},indent:{type:"integer",minimum:0},parameters:{type:"array",minItems:1,maxItems:1,items:[{type:"string"}]}},additionalProperties:!1},Nc={type:"object",required:["code","parameters","indent"],properties:{code:{type:"integer",const:101},indent:{type:"integer",minimum:0},parameters:{type:"array",items:[{type:"string"},{type:"integer",minimum:0,maximum:7},{type:"integer",minimum:0,maximum:2},{type:"integer",minimum:0,maximum:2},{type:"string"}],minItems:5,maxItems:5}}},Lc={type:"object",properties:{code:{type:"number",const:103},indent:{type:"integer",minimum:0},parameters:{type:"array",minItems:2,maxItems:2,items:[{type:"number"},{type:"number"}]}},required:["code","indent","parameters"]},Mc={type:"object",properties:{code:{type:"number",const:117},indent:{type:"integer",minimum:0},parameters:{type:"array",minItems:1,maxItems:1,items:[{type:"number",minimum:0,default:0}]}},required:["code","indent","parameters"]},gc={type:"object",required:["code","parameters","indent"],properties:{code:{type:"integer",enum:[132,133,139,241,245,249,250]},indent:{type:"integer"},parameters:{type:"array",minItems:1,maxItems:1,items:[{type:"object",properties:{name:{type:"string"},volume:{type:"integer"},pitch:{type:"integer"},pan:{type:"integer"}},required:["name","volume","pitch","pan"],additionalProperties:!1}]}},additionalProperties:!1},Pc={type:"object",properties:{code:{type:"number",const:402},indent:{type:"integer",minimum:0},parameters:{type:"array",minItems:2,maxItems:2,items:[{type:"integer"},{type:"string"}]}},required:["code","indent","parameters"]},fc={type:"object",properties:{code:{type:"number",const:102},indent:{type:"integer",minimum:0},parameters:{type:"array",minItems:5,maxItems:5,items:[{type:"array",items:{type:"string"}},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"}]}},required:["code","indent","parameters"]},I=new U,Dc=I.compile(Nc),Fc=I.compile(fc),Uc=I.compile(Pc),Hc=I.compile(Lc),Gc=I.compile(uc),hc=I.compile(Mc),vc=I.compile(gc),C=e=>Gc(e),kc=e=>vc(e),Bc=e=>hc(e),xc=e=>Fc(e),Vc=e=>Uc(e),Yc=e=>Hc(e),bc=e=>Dc(e),Wc=e=>C(e)&&e.code===de,qc=e=>C(e)&&e.code===Se,wc=e=>C(e)&&e.code===Ce,Kc=e=>C(e)&&e.code===Ie,Xc=e=>C(e)&&e.code===ye,jc=e=>C(e)&&e.code===le,zc=(e,t=0)=>({code:fn,parameters:[e.actorId,e.name],indent:t}),$c=(e,t=0)=>({code:Dn,parameters:[e.actorId,e.nickname],indent:t}),Qc=(e,t=0)=>({code:Fn,parameters:[e.actorId,e.profile],indent:t}),Jc=(e,t)=>T(e,a({name:t})),T=(e,t,n=0)=>({code:e,parameters:[a(t)],indent:n}),Zc=(e,t=0)=>T(Ln,e,t),em=(e,t=0)=>T(Mn,e,t),tm=(e,t=0)=>T(gn,e,t),nm=(e,t=0)=>T(Pn,e,t),om=(e,t=0)=>T(On,e,t),am=(e,t=0)=>T(un,e,t),rm=(e,t=0)=>T(Nn,e,t),im=(e,t=0)=>({code:yn,indent:t,parameters:vn(e??{})}),sm=e=>({eventId:e[0]}),vn=e=>[e.eventId??0],Ne=e=>[e],cm=e=>({comment:e[0]}),kn=(e,t=0)=>({code:Ie,indent:t,parameters:Ne(e)}),Bn=(e,t=0)=>({code:Ce,indent:t,parameters:Ne(e)}),mm=(e,t=0)=>e.map((n,o)=>o===0?kn(n,t):Bn(n,t)),xn=e=>[e.variableId??0,e.digits??0],Em=e=>({variableId:e[0],digits:e[1]}),_m=(e,t=0)=>({code:Cn,indent:t,parameters:xn(e??{})}),Vn=(e={})=>[(e==null?void 0:e.speed)??4,(e==null?void 0:e.skip)??!1],Am=e=>({speed:e[0],skip:e[1]}),Tm=(e={},t=0)=>({code:ln,indent:t,parameters:Vn(e)}),Yn=(e="")=>[e],pm=e=>({content:e[0]}),Rm=(e="",t=0)=>({code:Se,indent:t??0,parameters:Yn(e)}),dm=(e,t=0)=>({code:In,indent:t,parameters:[(e==null?void 0:e.index)??0,(e==null?void 0:e.name)??""]}),Sm=e=>({index:e[0],name:e[1]}),Im=e=>[e.index??0,e.name??""],Cm=e=>({choices:e[0],cancelType:e[1],defaultType:e[2],positionType:e[3],background:e[4]}),lm=e=>[e.choices??[],e.cancelType??0,e.defaultType??0,e.positionType??2,e.background??0],ym=(e,t=0)=>({code:Sn,indent:t,parameters:[(e==null?void 0:e.choices)??[],(e==null?void 0:e.cancelType)??0,(e==null?void 0:e.defaultType)??0,(e==null?void 0:e.positionType)??2,(e==null?void 0:e.background)??0]}),Om=(e,t=0)=>({code:dn,indent:t,parameters:[(e==null?void 0:e.facename)??"",(e==null?void 0:e.faceIndex)??0,(e==null?void 0:e.background)??0,(e==null?void 0:e.positionType)??2,(e==null?void 0:e.speakerName)??""]}),um=e=>({facename:e[0],faceIndex:e[1],background:e[2],positionType:e[3],speakerName:e[4]}),Nm=e=>[e.facename,e.faceIndex,e.background,e.positionType,e.speakerName],Lm=(e,t=0)=>({code:de,indent:t,parameters:[e]}),bn=(e,t=0)=>({code:le,indent:t,parameters:[e]}),Wn=(e,t=0)=>({code:ye,indent:t,parameters:[e]}),Mm=(e,t=0)=>e.map((n,o)=>o===0?bn(n,t):Wn(n,t));exports.ABORT_BATTLE=Xi;exports.AUTHOR_RMMZ=p;exports.BATTLE_PROCESSING=gi;exports.CHANGE_ACTOR_IMAGES=ki;exports.CHANGE_ARMORS=xr;exports.CHANGE_BATTLE_BACKGROUND=Ni;exports.CHANGE_BATTLE_BGM=On;exports.CHANGE_CLASS=vi;exports.CHANGE_DEFEAT_ME=Nn;exports.CHANGE_ENCOUNTER=Wr;exports.CHANGE_ENEMY_HP=xi;exports.CHANGE_ENEMY_MP=Vi;exports.CHANGE_ENEMY_STATE=Yi;exports.CHANGE_ENEMY_TP=zi;exports.CHANGE_EXP=hi;exports.CHANGE_FORMATION_ACCESS=qr;exports.CHANGE_GOLD=vr;exports.CHANGE_HP=Fi;exports.CHANGE_ITEMS=kr;exports.CHANGE_MENU_ACCESS=br;exports.CHANGE_MP=Ui;exports.CHANGE_NAME=fn;exports.CHANGE_NICKNAME=Dn;exports.CHANGE_PARALLAX=Li;exports.CHANGE_PARTY_MEMBER=Vr;exports.CHANGE_PLAYER_FOLLOWERS=oi;exports.CHANGE_PROFILE=Fn;exports.CHANGE_SAVE_ACCESS=Yr;exports.CHANGE_TILESET=ui;exports.CHANGE_TP=Hi;exports.CHANGE_TRANSPARENCY=Zr;exports.CHANGE_VEHICLE_BGM=Kr;exports.CHANGE_VEHICLE_IMAGE=Bi;exports.CHANGE_VICTORY_ME=un;exports.CHANGE_WEAPONS=Br;exports.CHANGE_WINDOW_COLOR=wr;exports.COLLAPS_BOSS=st;exports.COLLAPS_INSTANT=ct;exports.COLLAPS_NONE=mt;exports.COLLAPS_NORMAL=it;exports.COMMENT_BODY=Ce;exports.COMMENT_HEAD=Ie;exports.COMMON_EVENT=yn;exports.CONDITIONAL_BRANCH=Lr;exports.CONDITIONAL_BRANCH_ELSE=Mr;exports.CONTROL_SELF_SWITCH=Gr;exports.CONTROL_SWITCHES=Ur;exports.CONTROL_TIMER=hr;exports.CONTROL_VARIABLES=Hr;exports.DEFAULT_DAMAGE_LABELS=Rn;exports.DEFAULT_GLOBAL_LABELS=hn;exports.DEFAULT_ITEM_LABELS=nr;exports.DEFAULT_SKILL_LABELS=or;exports.DEFAULT_SYSTEM_LABELS_BOOLEAN=mc;exports.DEFAULT_USABLE_ITEM_LABELS=ar;exports.EFFECT_ADD_BUFF=qt;exports.EFFECT_ADD_DEBUFF=wt;exports.EFFECT_ADD_STATE=bt;exports.EFFECT_COMMON_EVENT=$t;exports.EFFECT_GAIN_TP=Yt;exports.EFFECT_GROW=jt;exports.EFFECT_LEARN_SKILL=zt;exports.EFFECT_RECOVER_HP=xt;exports.EFFECT_RECOVER_MP=Vt;exports.EFFECT_REMOVE_BUFF=Kt;exports.EFFECT_REMOVE_DEBUFF=Xt;exports.EFFECT_REMOVE_STATE=Wt;exports.EFFECT_SPECIAL=Ga;exports.ENEMY_APPEAR=Wi;exports.ENEMY_RECOVER_ALL=bi;exports.ENEMY_TRANSFORM=qi;exports.ERASE_EVENT=ni;exports.ERASE_PICTURE=Ri;exports.EXIT_EVENT_PROCESSING=fr;exports.EXTRA_PARAM_CEV=x;exports.EXTRA_PARAM_CNT=b;exports.EXTRA_PARAM_CRI=B;exports.EXTRA_PARAM_EVA=k;exports.EXTRA_PARAM_HIT=v;exports.EXTRA_PARAM_HRG=W;exports.EXTRA_PARAM_MEV=V;exports.EXTRA_PARAM_MRF=Y;exports.EXTRA_PARAM_MRG=q;exports.EXTRA_PARAM_TRG=w;exports.FADEIN_SCREEN=ii;exports.FADEOUT_BGM=Si;exports.FADEOUT_BGS=li;exports.FADEOUT_SCREEN=ri;exports.FILENAME_ACTORS=mo;exports.FILENAME_ANIMATIONS=Co;exports.FILENAME_ARMORS=po;exports.FILENAME_CLASSES=Eo;exports.FILENAME_COMMON_EVENTS=yo;exports.FILENAME_ENEMIES=Ro;exports.FILENAME_ITEMS=Ao;exports.FILENAME_MAP_INFOS=Oo;exports.FILENAME_SKILLS=_o;exports.FILENAME_STATES=Io;exports.FILENAME_SYSTEM=co;exports.FILENAME_TILESET=lo;exports.FILENAME_TROOPS=So;exports.FILENAME_WEAPONS=To;exports.FLAG_ID_AUTO_BATTLE=dt;exports.FLAG_ID_GUARD=St;exports.FLAG_ID_PRESERVE_TP=Ct;exports.FLAG_ID_SUBSTITUTE=It;exports.FLASH_SCREEN=ci;exports.FOLDER_AUDIO=Lo;exports.FOLDER_AUDIO_BGM=wn;exports.FOLDER_AUDIO_BGS=jn;exports.FOLDER_AUDIO_ME=Xn;exports.FOLDER_AUDIO_SE=Kn;exports.FOLDER_DATA=uo;exports.FOLDER_IMG=No;exports.FOLDER_IMG_BATTLEBACK1=zn;exports.FOLDER_IMG_BATTLEBACK2=$n;exports.FOLDER_IMG_CHACTERS=Qn;exports.FOLDER_IMG_ENEMIES=Jn;exports.FOLDER_IMG_FACES=Zn;exports.FOLDER_IMG_PARALLACES=eo;exports.FOLDER_IMG_PICTURES=to;exports.FOLDER_IMG_SV_ACTORS=no;exports.FOLDER_IMG_SV_ENEMIES=oo;exports.FOLDER_IMG_SYSTEM=ao;exports.FOLDER_IMG_TILESETS=ro;exports.FOLDER_IMG_TITLES1=io;exports.FOLDER_IMG_TITLES2=so;exports.FOLDER_JS=Mo;exports.FORCE_ACTION=Ki;exports.GAME_OVER=Qi;exports.GATHER_FOLLOWERS=ai;exports.GET_LOCATION_INFO=Mi;exports.GET_ONOFF_VEHICLE=Jr;exports.HITTYPE_CERTAIN=Da;exports.HITTYPE_MAGICAL=Ua;exports.HITTYPE_PHYSICAL=Fa;exports.INPUT_NUMBER=Cn;exports.LABEL=Dr;exports.LABELS_DATA_WEAPON=Na;exports.LABEL_JUMP=Fr;exports.LABEL_REGISTRY_JP=Oc;exports.LABEL_SET_DATA=pn;exports.LABEL_SET_ITEM_EFFECT=m;exports.LABEL_SET_TRAIT=r;exports.LOOP=gr;exports.LOOP_BREAK=Pr;exports.MODULE_DATA=G;exports.MODULE_SYSTEM=h;exports.MODULE_TRAIT=M;exports.MOVE_PICTURE=Ai;exports.MockSystemLabelDataTypes=Ec;exports.NAME_INPUT_PROCESSING=Di;exports.NO_OPERATION=Or;exports.OPEN_MENU_SCREEN=ji;exports.OPEN_SAVE_SCREEN=$i;exports.PARTY_ABILITY_CANCEL_SURPRISE=At;exports.PARTY_ABILITY_DROP_ITEM_DOUBLE=Rt;exports.PARTY_ABILITY_ENCOUNTER_HALF=Et;exports.PARTY_ABILITY_ENCOUNTER_NONE=_t;exports.PARTY_ABILITY_GOLD_DOUBLE=pt;exports.PARTY_ABILITY_RAISE_PREEMPTIVE=Tt;exports.PLAY_BGM=Ln;exports.PLAY_BGS=Mn;exports.PLAY_ME=gn;exports.PLAY_MOVIE=Oi;exports.PLAY_SE=Pn;exports.PLUGIN_COMMAND_MV=Zi;exports.PLUGIN_COMMAND_MZ=es;exports.RECOVER_ALL=Gi;exports.REGULAR_PARAM_AGI=J;exports.REGULAR_PARAM_ATK=j;exports.REGULAR_PARAM_DEF=z;exports.REGULAR_PARAM_LUK=Z;exports.REGULAR_PARAM_MATK=$;exports.REGULAR_PARAM_MAX_HP=K;exports.REGULAR_PARAM_MAX_MP=X;exports.REGULAR_PARAM_MDEF=Q;exports.RESUME_BGM=Ci;exports.RETURN_TO_TITLE_SCREEN=Ji;exports.ROTATE_PICTURE=Ti;exports.ROUTE_CHANGE_BLEND_MODE=qs;exports.ROUTE_CHANGE_FREQ=Fs;exports.ROUTE_CHANGE_IMAGE=bs;exports.ROUTE_CHANGE_OPACITY=Ws;exports.ROUTE_CHANGE_SPEED=Ds;exports.ROUTE_DIR_FIX_OFF=ks;exports.ROUTE_DIR_FIX_ON=vs;exports.ROUTE_END=ts;exports.ROUTE_JUMP=Rs;exports.ROUTE_MOVE_AWAY=As;exports.ROUTE_MOVE_BACKWARD=ps;exports.ROUTE_MOVE_DOWN=ns;exports.ROUTE_MOVE_FORWARD=Ts;exports.ROUTE_MOVE_LEFT=os;exports.ROUTE_MOVE_LOWER_L=is;exports.ROUTE_MOVE_LOWER_R=ss;exports.ROUTE_MOVE_RANDOM=Es;exports.ROUTE_MOVE_RIGHT=as;exports.ROUTE_MOVE_TOWARD=_s;exports.ROUTE_MOVE_UP=rs;exports.ROUTE_MOVE_UPPER_L=cs;exports.ROUTE_MOVE_UPPER_R=ms;exports.ROUTE_PLAY_SE=ws;exports.ROUTE_SCRIPT=Ks;exports.ROUTE_STEP_ANIME_OFF=hs;exports.ROUTE_STEP_ANIME_ON=Gs;exports.ROUTE_SWITCH_OFF=fs;exports.ROUTE_SWITCH_ON=Ps;exports.ROUTE_THROUGH_OFF=xs;exports.ROUTE_THROUGH_ON=Bs;exports.ROUTE_TRANSPARENT_OFF=Ys;exports.ROUTE_TRANSPARENT_ON=Vs;exports.ROUTE_TURN_180D=us;exports.ROUTE_TURN_90D_L=Os;exports.ROUTE_TURN_90D_R=ys;exports.ROUTE_TURN_90D_R_L=Ns;exports.ROUTE_TURN_AWAY=gs;exports.ROUTE_TURN_DOWN=Ss;exports.ROUTE_TURN_LEFT=Is;exports.ROUTE_TURN_RANDOM=Ls;exports.ROUTE_TURN_RIGHT=Cs;exports.ROUTE_TURN_TOWARD=Ms;exports.ROUTE_TURN_UP=ls;exports.ROUTE_WAIT=ds;exports.ROUTE_WALK_ANIME_OFF=Hs;exports.ROUTE_WALK_ANIME_ON=Us;exports.SAVE_BGM=Ii;exports.SCHEMA_DAMAGE=rr;exports.SCHEMA_DATA_ACTOR=Dt;exports.SCHEMA_DATA_ARMMOR=Ft;exports.SCHEMA_DATA_CLASS=Ut;exports.SCHEMA_DATA_ENEMY=vt;exports.SCHEMA_DATA_ITEM=Bt;exports.SCHEMA_DATA_MAP_INFO=Gn;exports.SCHEMA_DATA_SKILL=kt;exports.SCHEMA_DATA_STATE=Ht;exports.SCHEMA_DATA_WEAPON=Gt;exports.SCHEMA_SYSTEM_ADVANCED=sc;exports.SCHEMA_TRAIT=Ia;exports.SCRIPT_EVAL=le;exports.SCRIPT_EVAL_BODY=ye;exports.SCROLL_MAP=$r;exports.SELECT_ITEM=ur;exports.SET_EVENT_LOCATION=zr;exports.SET_MOVEMENT_ROUTE=Qr;exports.SET_VEHICLE_LOCATION=jr;exports.SET_WEATHER_EFFECT=di;exports.SHAKE_SCREEN=mi;exports.SHOP_PROCESSING=Pi;exports.SHOP_PROCESSING_BODY=fi;exports.SHOW_ANIMATION=ei;exports.SHOW_BALLOON_ICON=ti;exports.SHOW_BATTLE_ANIMATION=wi;exports.SHOW_CHOICES=Sn;exports.SHOW_CHOICES_ITEM=In;exports.SHOW_MESSAGE=dn;exports.SHOW_MESSAGE_BODY=de;exports.SHOW_PICTURE=_i;exports.SHOW_SCROLLING_TEXT=ln;exports.SHOW_SCROLLING_TEXT_BODY=Se;exports.SKIP=Nr;exports.SPECIAL_EFFECT_ESCAPE=ha;exports.SPECIAL_PARAM_EXR=me;exports.SPECIAL_PARAM_FDR=ce;exports.SPECIAL_PARAM_GRD=te;exports.SPECIAL_PARAM_MCR=ae;exports.SPECIAL_PARAM_MDR=se;exports.SPECIAL_PARAM_PDR=ie;exports.SPECIAL_PARAM_PHA=oe;exports.SPECIAL_PARAM_REC=ne;exports.SPECIAL_PARAM_TCR=re;exports.SPECIAL_PARAM_TGR=ee;exports.SRC_ARMOR_TYPES=en;exports.SRC_COLOR=ja;exports.SRC_DATA_ACTOR=xa;exports.SRC_DATA_ARMOR=wa;exports.SRC_DATA_CLASS=Ka;exports.SRC_DATA_COMMON_EVNET=Jt;exports.SRC_DATA_ENEMY=ba;exports.SRC_DATA_ITEMS=Wa;exports.SRC_DATA_MAP=Ya;exports.SRC_DATA_SKILL=Re;exports.SRC_DATA_STATE=u;exports.SRC_DATA_TROOP=Xa;exports.SRC_DATA_VARIABLE=Va;exports.SRC_DATA_WEAPON=qa;exports.SRC_ELEMENTS=tn;exports.SRC_EQUIP_TYPES=za;exports.SRC_PARAMS_EXTRA=Ee;exports.SRC_PARAMS_REGULAR=y;exports.SRC_PARAMS_SPECIAL=_e;exports.SRC_SKILL_TYPES=Qa;exports.SRC_SWITCHES=$a;exports.SRC_TRAIT_COLLAPS=Ae;exports.SRC_TRAIT_PARTY_ABILITY=Te;exports.SRC_TRAIT_SPECIAL_FLAG=pe;exports.SRC_WEAPON_TYPES=Zt;exports.STOP_SE=yi;exports.TINT_PICTURE=pi;exports.TINT_SCREEN=si;exports.TRAIT_ACTION_PLUS=nt;exports.TRAIT_ATTACK_ELEMENT=be;exports.TRAIT_ATTACK_SKILL=Ke;exports.TRAIT_ATTACK_SPEED=qe;exports.TRAIT_ATTACK_STATE=We;exports.TRAIT_ATTACK_TIMES=we;exports.TRAIT_COLLAPSE_TYPE=at;exports.TRAIT_DEBUFF_RATE=ve;exports.TRAIT_ELEMENT_RATE=he;exports.TRAIT_EQUIP_ARMOR_TYPE=Je;exports.TRAIT_EQUIP_LOCK=Ze;exports.TRAIT_EQUIP_SEAL=et;exports.TRAIT_EQUIP_WEAPON_TYPE=Qe;exports.TRAIT_PARAM=xe;exports.TRAIT_PARTY_ABILITY=rt;exports.TRAIT_SKILL_ADD=ze;exports.TRAIT_SKILL_SEAL=$e;exports.TRAIT_SKILL_TYPE_ADD=Xe;exports.TRAIT_SKILL_TYPE_SEAL=je;exports.TRAIT_SLOT_TYPE=tt;exports.TRAIT_SPARAM=Ye;exports.TRAIT_SPECIAL_FLAG=ot;exports.TRAIT_STATE_RATE=ke;exports.TRAIT_STATE_RESIST=Be;exports.TRAIT_XPARAM=Ve;exports.TRANSFER_PLAYER=Xr;exports.TYPENAME_TRAIT=Sa;exports.TraitDescriptor=Mt;exports.WAIT=Ei;exports.buildCollapsSource=xo;exports.buildExtraParamSource=bo;exports.buildPartyAbilitySource=Vo;exports.buildRegularParamSource=Yo;exports.buildSpecialFlagSource=qo;exports.buildSpecialParamSource=Wo;exports.convertCommentArrayToObject=cm;exports.createActorControlChars=lc;exports.createControlCharFormat=D;exports.createEventCommand=Xs;exports.createNoteEntity=Oe;exports.createSystemVariableControlChars=yc;exports.defineEffectAddBuff=cn;exports.defineEffectAddDebuff=_n;exports.defineEffectAddState=rn;exports.defineEffectCommonEvent=Tn;exports.defineEffectGainTp=an;exports.defineEffectGrow=tr;exports.defineEffectLearnSkill=En;exports.defineEffectRecoverHp=nn;exports.defineEffectRecoverMp=on;exports.defineEffectRemoveBuff=mn;exports.defineEffectRemoveDebuff=An;exports.defineEffectRemoveState=sn;exports.extraParamName=ko;exports.foldCollapsOptions=lt;exports.foldExtraParam=ut;exports.foldPartyAbilityOptions=yt;exports.foldRegularParam=Ot;exports.foldSpecialFlag=Lt;exports.foldSpecialParams=Nt;exports.formatItemEffectText=Za;exports.fromArrayCommonEvent=sm;exports.fromArrayInputNumber=Em;exports.fromArrayScrollingTextBody=pm;exports.fromArrayScrollingTextHeader=Am;exports.fromArraySetupChoice=Cm;exports.fromArraySetupChoiceItem=Sm;exports.fromArrayShowMessageHeader=um;exports.fromStringArray=dc;exports.getArmorTypes=Go;exports.getControlChars=Sc;exports.getElementTypes=Do;exports.getEquipTypes=Fo;exports.getNoteValue=pc;exports.getParamNames=ho;exports.getSkillTypes=Uo;exports.getVariableNames=fo;exports.getWeaponTypes=Ho;exports.isCommandAudio=kc;exports.isCommandCommentBody=wc;exports.isCommandCommentHeader=Kc;exports.isCommandCommonEvent=Bc;exports.isCommandInputNumber=Yc;exports.isCommandScriptBody=Xc;exports.isCommandScriptHeader=jc;exports.isCommandShowChoiceItem=Vc;exports.isCommandShowChoices=xc;exports.isCommandShowMessage=bc;exports.isCommandShowMessageBody=Wc;exports.isCommandShowScrollingTextBody=qc;exports.isCommandTextBody=C;exports.isDataActor=dr;exports.isDataArmor=Sr;exports.isDataClass=yr;exports.isDataEnemy=Cr;exports.isDataItem=pr;exports.isDataMapInfo=rc;exports.isDataSkill=Rr;exports.isDataState=lr;exports.isDataWeapon=Ir;exports.isValid=Ba;exports.joinSourceKey=ka;exports.makeActorData=Ca;exports.makeArmorData=ya;exports.makeAudioCommand=Jc;exports.makeAudioFileParams=a;exports.makeClassData=Oa;exports.makeCommand2_CommonEvent=im;exports.makeCommand2_ShowChoiceItem=dm;exports.makeCommandAudioAny=T;exports.makeCommandChangeActorName=zc;exports.makeCommandChangeActorNickName=$c;exports.makeCommandChangeActorProfile=Qc;exports.makeCommandChangeBattleBGM=om;exports.makeCommandChangeDefeatME=rm;exports.makeCommandChangeVictoryME=am;exports.makeCommandCommentBody=Bn;exports.makeCommandCommentHeader=kn;exports.makeCommandInputNumber=_m;exports.makeCommandPlayBGM=Zc;exports.makeCommandPlayBGS=em;exports.makeCommandPlayME=tm;exports.makeCommandPlaySE=nm;exports.makeCommandScriptArray=Mm;exports.makeCommandScriptBody=Wn;exports.makeCommandScriptHeader=bn;exports.makeCommandScrollingTextBody=Rm;exports.makeCommandScrollingTextHeader=Tm;exports.makeCommandSetupChoice=ym;exports.makeCommandShowMessage=Om;exports.makeCommandShowMessageBody=Lm;exports.makeCommentArray=Ne;exports.makeCommentCommandArray=mm;exports.makeCommonEventData=Zs;exports.makeDamage=f;exports.makeDropItem=ht;exports.makeEnemyAction=Ma;exports.makeEnemyData=ga;exports.makeEventPageCondition=Hn;exports.makeItemData=Pa;exports.makeMapData=Js;exports.makeMapEvent=js;exports.makeMapEventIamge=Un;exports.makeMapEventPage=zs;exports.makeMapInfoData=Qs;exports.makeRegex=N;exports.makeSkillData=fa;exports.makeSoundsArray=cc;exports.makeStateData=ua;exports.makeSystemAdvanced=ic;exports.makeTroopData=ec;exports.makeTroopEventConditions=nc;exports.makeTroopMember=tc;exports.makeWeaponData=La;exports.mergeDomainLabel=go;exports.mergeNestedPrimitiveRecords=Po;exports.mergeWithDefaults=H;exports.normalizeDataActor=la;exports.readNote=Ac;exports.readNoteEx=ue;exports.readNoteObject=_c;exports.regularParamName=vo;exports.replaceNote=Tc;exports.resolveItemEffectLabels=er;exports.resolveTraitLabels=wo;exports.sanitizeKey=va;exports.setNoteValue=Rc;exports.specialParamName=Bo;exports.testUnknonwKey=L;exports.toArrayCommonEvent=vn;exports.toArrayInputNumber=xn;exports.toArrayScrollingTextBody=Yn;exports.toArrayScrollingTextHeader=Vn;exports.toArraySetupChoice=lm;exports.toArraySetupChoiceItem=Im;exports.toArrayShowMessageHeader=Nm;exports.traitDomain=S;
//# sourceMappingURL=rpgTypes.cjs.js.map
