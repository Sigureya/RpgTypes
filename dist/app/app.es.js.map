{"version":3,"file":"app.es.js","sources":["../../src/app/format/trait/formatTraits.ts"],"sourcesContent":["import type {\r\n  GameData,\r\n  DataLabels,\r\n  TraitLabelSet,\r\n  NormalLabel,\r\n  ItemEffectLabelSet,\r\n  EffectDefinitionResolved,\r\n} from \"@RpgTypes/rpg\";\r\nimport {\r\n  defineTraitItems,\r\n  defineGameDataSources,\r\n  resolveTraitLabels,\r\n  resolveItemEffectLabels,\r\n} from \"@RpgTypes/rpg\";\r\nimport type {\r\n  System_RPG_DataNames,\r\n  SystemLabel_DataNames,\r\n} from \"@RpgTypes/system\";\r\nimport { defineSystemItems } from \"@RpgTypes/system\";\r\nimport {\r\n  type NamedItemSource,\r\n  type FormatCompiled,\r\n  mergeItemsSource,\r\n} from \"src/namedItemSource\";\r\n\r\nexport const buildReferenceItemSources = (\r\n  gameData: GameData,\r\n  gameDataLabels: DataLabels,\r\n  traitLabels: TraitLabelSet,\r\n  global: NormalLabel,\r\n  system: System_RPG_DataNames,\r\n  label: SystemLabel_DataNames\r\n): NamedItemSource[] => {\r\n  return [\r\n    ...defineTraitItems(traitLabels, global),\r\n    ...defineGameDataSources(gameData, gameDataLabels),\r\n    ...defineSystemItems(system, label),\r\n  ];\r\n};\r\n\r\nexport const compileTraitDisplayData = (\r\n  namedItemSource: ReadonlyArray<NamedItemSource>,\r\n  traitLabels: TraitLabelSet\r\n): Map<number, FormatCompiled> => {\r\n  return mergeItemsSource(resolveTraitLabels(traitLabels), namedItemSource);\r\n};\r\n\r\nexport const compileItemEffectDisplayData = (\r\n  namedItemSource: ReadonlyArray<NamedItemSource>,\r\n  itemEffectLabels: ItemEffectLabelSet,\r\n  additional?: ReadonlyArray<EffectDefinitionResolved>\r\n): Map<number, FormatCompiled> => {\r\n  const list = resolveItemEffectLabels(itemEffectLabels);\r\n  return mergeItemsSource(\r\n    additional ? [...list, ...additional] : list,\r\n    namedItemSource\r\n  );\r\n};\r\n"],"names":["buildReferenceItemSources","gameData","gameDataLabels","traitLabels","global","system","label","defineTraitItems","defineGameDataSources","defineSystemItems","compileTraitDisplayData","namedItemSource","mergeItemsSource","resolveTraitLabels","compileItemEffectDisplayData","itemEffectLabels","additional","list","resolveItemEffectLabels"],"mappings":";;AAyBO,MAAMA,IAA4B,CACvCC,IACAC,IACAC,IACAC,IACAC,IACAC,OAEO,CAAA,GACFC,EAAiBJ,IAAaC,QAC9BI,EAAsBP,IAAUC,QAChCO,EAAkBJ,IAAQC,MAIpBI,IAA0B,CACrCC,IACAR,OAEOS,EAAiBC,EAAmBV,EAAAA,GAAcQ,KAG9CG,IAA+B,CAC1CH,IACAI,IACAC,OAAAA;AAEM,QAAAC,KAAOC,EAAwBH;AAC9B,SAAAH,EACLI,KAAa,CAAIC,GAAAA,IAAAA,GAASD,MAAcC,IACxCN,EAAAA;AAAAA;"}