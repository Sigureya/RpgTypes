"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const t=require("../shared/eventCommandCodes.cjs.js"),m=require("../shared/commands.cjs.js"),n=require("../shared/make.cjs.js"),I={direct:0,variable:1},R=(e,a)=>[a.targetType==="variable"?I.variable:I.direct,a.targetType==="each"?0:a.target,e,I[a.operand.mode],a.operand.value],u=(e,a)=>[a.targetType==="variable"?I.variable:I.direct,a.targetType==="each"?0:a.target,e,I[a.operand.mode],a.operand.value,a.allowDeath],T=(e,a,r=0)=>({code:e,parameters:[n.makeAudioFileParams(a)],indent:r}),Me={plus:0,minus:1},k=e=>[e.eventId??0],D=e=>[e.min,e.max,e.value],g=e=>[e],F=(e,a=0)=>({code:t.COMMENT_HEAD,indent:a,parameters:g(e)}),G=(e,a=0)=>({code:t.COMMENT_BODY,indent:a,parameters:g(e)}),b=(e={})=>[e?.speed??4,e?.skip??!1],H=(e="")=>[e],v=(e,a=0)=>({code:t.SCRIPT_EVAL,indent:a,parameters:[e]}),B=(e,a=0)=>({code:t.SCRIPT_EVAL_BODY,indent:a,parameters:[e]}),N={item:0,weapon:1,armors:2},h=(e,a,r=0)=>[e.startId,e.endId??e.startId,r,1,a.variableId],ye={USED_SKILL_ID:0,USED_ITEM_ID:1,ACTION_ACTOR_ID:2,ACTION_ENEMY_INDEX:3,TARGET_ACTOR_ID:4,TARGET_ENEMY_INDEX:5},ge=(e,a)=>[e.startId,e.endId??e.startId,0,3,8,ye[a.param]],V=(e,a,r=0)=>[e.startId,e.endId??e.startId,r,3,3,a.index,a.param],f=(e,a,r=0)=>[e.startId,e.endId??e.startId,r,3,2,a.armorId],U=(e,a,r=0)=>[e.startId,e.endId??e.startId,r,0,a.value],ue={HP:0,MP:1,MHP:2,MMP:3,ATK:4,DEF:5,MAT:6,MDF:7,AGI:8,LUK:9,TP:10},w=(e,a,r=0)=>[e.startId,e.endId??e.startId,r,3,4,a.index,ue[a.param]],x=(e,a,r=0)=>[e.startId,e.endId??e.startId,r,3,0,a.itemId],Y=(e,a,r=0)=>[e.startId,e.endId??e.startId,r,2,a.min,a.max],W=(e,a,r=0)=>[e.startId,e.endId??e.startId,r,4,a.code],X=(e,a,r=0)=>[e.startId,e.endId??e.startId,r,3,1,a.weaponId],K=e=>[...e],ke=e=>typeof e=="string"||typeof e=="number"||typeof e=="boolean",S=(e,a)=>`\\${e}[${a}]`,q=(e={})=>({actorHp:e.actorHp??0,actorId:e.actorId??0,enemyValid:e.enemyValid??0,switchValid:e.switchValid??0}),z=(e={})=>({switch1Id:e.switch1Id??0,switch1Valid:e.switch1Id!==void 0,switch2Id:e.switch2Id??0,switch2Valid:e.switch2Id!==void 0,variableId:e.variableId??0,variableValid:e.variableId!==void 0,variableValue:e.variableValue??0,selfSwitchCh:e.selfSwitchCh??"A",selfSwitchValid:e.selfSwitchCh!==void 0,itemId:e.itemId??0,itemValid:e.itemId!==void 0,actorId:e.actorId??0,actorValid:e.actorId!==void 0}),j=({characterIndex:e=0,characterName:a="",direction:r=2,pattern:o=0,tileId:i=0}={})=>({characterIndex:e,characterName:a,direction:r,pattern:o,tileId:i}),De=(e,a)=>e.pages.map((r=>({...r,list:a(r.list)}))),Q={actor:{title:"アクター",options:{initialEquipments:"初期装備",faceImage:"顔画像",characterImage:"キャラクター画像",svBattlerImage:"SVバトラー画像",nickname:"ニックネーム",profile:"プロフィール",classId:"職業ID",initialLevel:"初期レベル",maxLevel:"最大レベル"}},class:{title:"職業",options:{params:"パラメータ",learnings:"習得スキル",expParams:"経験値パラメータ"}},armor:{title:"防具",options:{armorTypeId:"防具タイプID",slotTypeId:"スロットタイプID"}},enemy:{title:"敵キャラ",options:{dropItems:"ドロップアイテム",battlerHue:"バトラーヒュー",battlerName:"バトラー名",gold:"ゴールド"}},item:{title:"アイテム",options:{consumable:"消耗品"}},skill:{title:"スキル",options:{requiredWeaponTypeId1:"必要武器タイプ1",requiredWeaponTypeId2:"必要武器タイプ2",mpCost:"MP消費",tpCost:"TP消費"}},state:{title:"ステート",options:{restriction:"制約",priority:"優先度",motion:"モーション",overlay:"オーバーレイ",removeAtBattleEnd:"戦闘終了時解除",removeByRestriction:"制約による解除",autoRemovalTiming:"自動解除タイミング",minTurns:"最小ターン数",maxTurns:"最大ターン数",removeByDamage:"ダメージによる解除",chanceByDamage:"ダメージによる解除確率",removeByWalking:"歩行による解除",stepsToRemove:"解除までの歩数"}},weapon:{title:"武器",options:{weaponTypeId:"武器タイプID"}},usableItem:{title:"",options:{scope:"範囲",speed:"速度補正",successRate:"成功率"}},commonEvent:{title:"コモンイベント",options:{trigger:"トリガー",switchId:"スイッチID",name:"名前",id:"ID",list:"コマンドリスト"}}},Z={title:"ダメージ",options:{}},O=(e={})=>({type:e.type??0,elementId:e.elementId??0,formula:e.formula??"",variance:e.variance??0,critical:e.critical??!1}),J=({mhp:e=0,mmp:a=0,atk:r=0,def:o=0,mat:i=0,mdf:s=0,agi:E=0,luk:_=0})=>[e,a,r,o,i,s,E,_],$=(e={})=>({dataId:e.dataId??0,denominator:e.denominator??0,kind:e.kind??0}),d="{name}",c="{name} * {value}%",ee="{name} + {value}%",ae="{value}",te={title:"特徴",options:{regularParam:{title:"基本能力値",format:c,options:{maxHp:"最大HP",maxMp:"最大MP",atk:"攻撃力",def:"防御力",matk:"魔法攻撃力",mdef:"魔法防御力",agi:"敏捷性",luk:"運"}},extraParam:{title:"追加能力値",format:ee,options:{hitRate:"命中率",evasionRate:"回避率",criticalRate:"クリティカル率",criticalEvasionRate:"クリティカル回避率",magicEvasionRate:"魔法回避率",magicReflectionRate:"魔法反射率",counterAttackRate:"反撃率",hpRegenerationRate:"HP再生率",mpRegenerationRate:"MP再生率",tpRegenerationRate:"TP再生率"}},specialParam:{title:"特殊能力値",format:c,options:{targetRate:"狙われ率",guardEffectRate:"防御効果率",recoveryEffectRate:"回復効果率",pharmacology:"薬の知識",mpCostRate:"MP消費率",tpChargeRate:"TPチャージ率",physicalDamageRate:"物理ダメージ率",magicDamageRate:"魔法ダメージ率",floorDamageRate:"床ダメージ率",experienceRate:"経験値率"}},specialFlag:{title:"特殊フラグ",format:d,options:{autoBattle:"自動戦闘",guard:"防御",substitute:"身代わり",preventEscape:"逃走防止"}},collaps:{title:"消滅エフェクト",format:d,options:{bossCollaps:"ボス崩壊",instantCollaps:"即時崩壊",noneCollaps:"崩壊なし"}},partyAbility:{title:"パーティ能力",format:d,options:{cancelSurprise:"不意打ち無効",dropItemDouble:"アイテムドロップ2倍",encounterHalf:"エンカウント半減",encounterNone:"エンカウントなし",goldDouble:"ゴールド2倍",raisePreemptive:"先制攻撃率アップ"}},elementRate:{title:"属性有効度",format:c},debuffRate:{title:"弱体有効度",format:c},stateRate:{title:"ステート有効度",format:c},stateResist:{title:"ステート無効",format:d},attackElement:{title:"攻撃属性",format:d},attackState:{title:"攻撃ステート",format:ee},attackSpeed:{title:"攻撃速度補正",format:ae},attackTimes:{title:"攻撃追加回数",format:ae},actionPlus:{title:"行動追加",format:c},attackSkill:{title:"攻撃スキル",format:d},equipWeaponType:{title:"装備武器タイプ",format:d},equipArmorType:{title:"装備防具タイプ",format:d},equipLock:{title:"装備固定",format:d},equipSeal:{title:"装備封印",format:d},slotType:{title:"スロットタイプ",format:d},skillAdd:{title:"スキル追加",format:d},skillSeal:{title:"スキルタイプ封印",format:d},skillTypeAdd:{title:"スキルタイプ追加",format:d},skillTypeSeal:{title:"スキルタイプ封印",format:d}}},Fe={itemMapper:{placeHolder:"name",dataIdKey:"dataId",kindKey:"code"},placeHolder:{numbers:["value"]}},me="{name} {value1}%",M="{value1}% + {value2}",re="{name} {value1}ターン",C="{name}",oe={title:"使用効果",options:{addBuff:{desc:"バフを付与する",domainName:"バフ付与",format:re},addDebuff:{desc:"デバフを付与する",domainName:"デバフ付与",format:re},gainTp:{desc:"TPを指定した量だけ増加させます。",domainName:"TP増加",format:M},grow:{desc:"成長効果",domainName:"成長効果",format:"{name} + {value1}"},learnSkill:{desc:"スキルを習得する",domainName:"スキル習得",format:C},recoverHp:{desc:"HPを回復します。最大HPに対する割合と一定値のいずれか一方または両方を指定します。アイテムの場合は、特殊能力値[薬の知識]の倍率が適用されます。",domainName:"HP回復",format:M},recoverMp:{desc:"MPを回復します。最大MPに対する割合と一定値のいずれか一方または両方を指定します。アイテムの場合は、特殊能力値[薬の知識]の倍率が適用されます。",domainName:"MP回復",format:M},removeBuff:{desc:"バフを解除する",domainName:"バフ解除",format:C},removeDebuff:{desc:"デバフを解除する",domainName:"デバフ解除",format:C},removeState:{desc:"指定したステートを付加します。",domainName:"ステート付加",format:me},special:{desc:"特殊効果",domainName:"特殊効果",format:C},addState:{desc:"状態異常を解除する",domainName:"ステート解除",format:me},commonEvent:{desc:"コモンイベントを実行する",domainName:"コモンイベント",format:C}}},ne={id:"識別子",name:"名前",note:"メモ",description:"説明",iconIndex:"アイコンインデックス",occasion:"使用タイミング",params:"パラメータ",repeats:"繰り返し回数",scope:"範囲",speed:"速度補正",successRate:"成功率",animationId:"アニメーションID",displayType:"表示タイプ",characterIndex:"キャラクターインデックス",characterName:"キャラクター名",effectName:"効果名",faceIndex:"顔グラフィックインデックス",faceName:"顔グラフィック名",flashTimings:"フラッシュタイミング",list:"リスト",messageType:"メッセージタイプ",offsetX:"オフセットX",offsetY:"オフセットY",overlay:"オーバーレイ",priority:"優先度",restriction:"制約",rotation:"回転",scale:"スケール",soundTimings:"サウンドタイミング",stepsToRemove:"解除までの歩数",type:"タイプ",variance:"分散度",unknownCode:"不明なコード",content:"内容",apply:"適用",turn:"ターン",commonEvent:"コモンイベント",normal:"通常",dualWield:"二刀流",bossCollaps:"ボス崩壊",instantCollaps:"即時崩壊",noneCollaps:"崩壊なし",escape:"逃走"},de=(e={})=>({gameId:e.gameId??0,screenWidth:e.screenWidth??0,screenHeight:e.screenHeight??0,uiAreaWidth:e.uiAreaWidth??0,uiAreaHeight:e.uiAreaHeight??0,windowOpacity:e.windowOpacity??0,screenScale:e.screenScale??1,numberFontFilename:e.numberFontFilename??"",mainFontFilename:e.mainFontFilename??"",fallbackFonts:e.fallbackFonts??"",fontSize:e.fontSize??28,picturesUpperLimit:e.picturesUpperLimit??100}),Ee=(e={})=>[n.makeAudioFileParams(e.cursor),n.makeAudioFileParams(e.ok),n.makeAudioFileParams(e.cancel),n.makeAudioFileParams(e.buzzer),n.makeAudioFileParams(e.equip),n.makeAudioFileParams(e.save),n.makeAudioFileParams(e.load),n.makeAudioFileParams(e.battleStart),n.makeAudioFileParams(e.escape),n.makeAudioFileParams(e.enemyAttack),n.makeAudioFileParams(e.enemyDamage),n.makeAudioFileParams(e.enemyCollapse),n.makeAudioFileParams(e.bossCollapes1),n.makeAudioFileParams(e.bossCollapes2),n.makeAudioFileParams(e.actorDamage),n.makeAudioFileParams(e.actorCollapse),n.makeAudioFileParams(e.playRecovery),n.makeAudioFileParams(e.playMiss),n.makeAudioFileParams(e.playEvasion),n.makeAudioFileParams(e.playMagicEvasion),n.makeAudioFileParams(e.playReflection),n.makeAudioFileParams(e.shop),n.makeAudioFileParams(e.useItem),n.makeAudioFileParams(e.useSkill)],ie=e=>({cursor:e[0],ok:e[1],cancel:e[2],buzzer:e[3],equip:e[4],save:e[5],load:e[6],battleStart:e[7],escape:e[8],enemyAttack:e[9],enemyDamage:e[10],enemyCollapse:e[11],bossCollapes1:e[12],bossCollapes2:e[13],actorDamage:e[14],actorCollapse:e[15],playRecovery:e[16],playMiss:e[17],playEvasion:e[18],playMagicEvasion:e[19],playReflection:e[20],shop:e[21],useItem:e[22],useSkill:e[23]}),se=e=>({item:Ae(e),skill:_e(e),equip:Te(e),status:le(e),formation:pe(e),save:ce(e)}),Ae=e=>e.menuCommands[0],_e=e=>e.menuCommands[1],Te=e=>e.menuCommands[2],le=e=>e.menuCommands[3],pe=e=>e.menuCommands[4],ce=e=>e.menuCommands[5],Ie=(e={})=>[e.item??!0,e.weapon??!0,e.armor??!0,e.keyItem??!0],Ce=(e={})=>[e.item??!0,e.skill??!0,e.equip??!0,e.status??!0,e.formation??!0,e.save??!0],Re=(e={})=>({optAutosave:e.optAutosave??!0,optDisplayTp:e.optDisplayTp??!0,optDrawTitle:e.optDrawTitle??!0,optExtraExp:e.optExtraExp??!0,optFloorDeath:e.optFloorDeath??!0,optFollowers:e.optFollowers??!0,optKeyItemsNumber:e.optKeyItemsNumber??!0,optSideView:e.optSideView??!0,optSlipDeath:e.optSlipDeath??!0,optTransparent:e.optTransparent??!0,optMessageSkip:e.optMessageSkip??!0,optSplashScreen:e.optSplashScreen??!0}),p=e=>e?[...e]:[],Ne=e=>({background:e.background??0,offsetX:e.offsetX??0,offsetY:e.offsetY??0}),L=(e={})=>({characterIndex:e.characterIndex??0,characterName:e.characterName??"",bgm:n.makeAudioFileParams(e.bgm??{}),startMapId:e.startMapId??0,startX:e.startX??0,startY:e.startY??0}),Se=(e={})=>({jsonFormatLevel:e.jsonFormatLevel??0,messageWidth1:e.messageWidth1??816,messageWidth2:e.messageWidth2??816}),y=e=>{const a=be(e.size);return{...Re(e.options),titleCommandWindow:Ne(e.titleCommandWindow??{}),currencyUnit:e.texts?.currencyUnit??"",gameTitle:e.texts?.gameTitle??"",sounds:Ee(e.sounds),editor:Se(e.editing),advanced:de(e.advanced),title1Name:e.images?.title1Name??"",title2Name:e.images?.title2Name??"",armorTypes:A(e.dataNames?.armorTypes),equipTypes:A(e.dataNames?.equipTypes),elements:A(e.dataNames?.elements),skillTypes:A(e.dataNames?.skillTypes),weaponTypes:A(e.dataNames?.weaponTypes),switches:A(e.dataNames?.switches),variables:A(e.dataNames?.variables),magicSkills:A(e.battle?.magicSkills),battleSystem:e.battle?.battleSystem??0,airship:L(e.vehicles?.airship),boat:L(e.vehicles?.boat),ship:L(e.vehicles?.ship),defeatMe:n.makeAudioFileParams(e.me?.defeatMe),gameoverMe:n.makeAudioFileParams(e.me?.gameoverMe),titleBgm:n.makeAudioFileParams(e.bgm?.titleBgm),tileSize:a.tileSize,faceSize:a.faceSize,iconSize:a.iconSize,versionId:e.versionId??1,attackMotions:e.attackMotion?[...e.attackMotion]:[],battleback1Name:e.battleTest?.battleback1Name??"",battleback2Name:e.battleTest?.battleback2Name??"",testTroopId:e.battleTest?.testTroopId??0,testBattlers:He(e.battleTest?.testBattlers,ve),battleBgm:n.makeAudioFileParams(e.bgm?.battleBgm),victoryMe:n.makeAudioFileParams(e.me?.victoryMe),editMapId:e.editorTemporary?.editMapId??0,battlerName:e.editorTemporary?.battlerName??"",locale:e.locale??"en-US",startMapId:e.gameInit?.startMapId??0,startX:e.gameInit?.startX??0,startY:e.gameInit?.startY??0,windowTone:[0,0,0,0],terms:Ge(e.terms??{}),itemCategories:Ie(e.itemCategories),partyMembers:A(e.gameInit?.partyMembers),battlerHue:0,menuCommands:Ce(e.menuCommands)}},Ge=e=>({basic:m.makeTermsBasic(e.basic??{}),commands:m.makeTermsCommandArray(e.commands??{}),params:m.makeParamNamesArray(e.params??{}),messages:m.makeTermsMessages(e.messages??{})}),A=e=>e?[...e]:[],be=e=>e?{tileSize:e.tileSize??48,faceSize:e.faceSize??144,iconSize:e.iconSize??32}:{tileSize:48,faceSize:144,iconSize:32},He=(e,a)=>e?e.map(a):[],ve=e=>e?{actorId:e.actorId,equips:A(e.equips),level:e.level}:{actorId:0,equips:[],level:1};exports.ABORT_BATTLE=t.ABORT_BATTLE,exports.BATTLE_PROCESSING=t.BATTLE_PROCESSING,exports.CHANGE_ACTOR_IMAGES=t.CHANGE_ACTOR_IMAGES,exports.CHANGE_ACTOR_STATE=t.CHANGE_ACTOR_STATE,exports.CHANGE_ARMORS=t.CHANGE_ARMORS,exports.CHANGE_BATTLE_BACKGROUND=t.CHANGE_BATTLE_BACKGROUND,exports.CHANGE_BATTLE_BGM=t.CHANGE_BATTLE_BGM,exports.CHANGE_CLASS=t.CHANGE_CLASS,exports.CHANGE_DEFEAT_ME=t.CHANGE_DEFEAT_ME,exports.CHANGE_ENCOUNTER=t.CHANGE_ENCOUNTER,exports.CHANGE_ENEMY_HP=t.CHANGE_ENEMY_HP,exports.CHANGE_ENEMY_MP=t.CHANGE_ENEMY_MP,exports.CHANGE_ENEMY_STATE=t.CHANGE_ENEMY_STATE,exports.CHANGE_ENEMY_TP=t.CHANGE_ENEMY_TP,exports.CHANGE_EQUIP=t.CHANGE_EQUIP,exports.CHANGE_EXP=t.CHANGE_EXP,exports.CHANGE_FORMATION_ACCESS=t.CHANGE_FORMATION_ACCESS,exports.CHANGE_GOLD=t.CHANGE_GOLD,exports.CHANGE_HP=t.CHANGE_HP,exports.CHANGE_ITEMS=t.CHANGE_ITEMS,exports.CHANGE_LEVEL=t.CHANGE_LEVEL,exports.CHANGE_MAP_NAME_DISPLAY=t.CHANGE_MAP_NAME_DISPLAY,exports.CHANGE_MENU_ACCESS=t.CHANGE_MENU_ACCESS,exports.CHANGE_MP=t.CHANGE_MP,exports.CHANGE_NAME=t.CHANGE_NAME,exports.CHANGE_NICKNAME=t.CHANGE_NICKNAME,exports.CHANGE_PARALLAX=t.CHANGE_PARALLAX,exports.CHANGE_PARAMETER=t.CHANGE_PARAMETER,exports.CHANGE_PARTY_MEMBER=t.CHANGE_PARTY_MEMBER,exports.CHANGE_PLAYER_FOLLOWERS=t.CHANGE_PLAYER_FOLLOWERS,exports.CHANGE_PROFILE=t.CHANGE_PROFILE,exports.CHANGE_SAVE_ACCESS=t.CHANGE_SAVE_ACCESS,exports.CHANGE_SKILL=t.CHANGE_SKILL,exports.CHANGE_TILESET=t.CHANGE_TILESET,exports.CHANGE_TP=t.CHANGE_TP,exports.CHANGE_TRANSPARENCY=t.CHANGE_TRANSPARENCY,exports.CHANGE_VEHICLE_BGM=t.CHANGE_VEHICLE_BGM,exports.CHANGE_VEHICLE_IMAGE=t.CHANGE_VEHICLE_IMAGE,exports.CHANGE_VICTORY_ME=t.CHANGE_VICTORY_ME,exports.CHANGE_WEAPONS=t.CHANGE_WEAPONS,exports.CHANGE_WINDOW_COLOR=t.CHANGE_WINDOW_COLOR,exports.COMMENT_BODY=t.COMMENT_BODY,exports.COMMENT_HEAD=t.COMMENT_HEAD,exports.COMMON_EVENT=t.COMMON_EVENT,exports.CONDITIONAL_BRANCH=t.CONDITIONAL_BRANCH,exports.CONDITIONAL_BRANCH_ELSE=t.CONDITIONAL_BRANCH_ELSE,exports.CONTROL_SELF_SWITCH=t.CONTROL_SELF_SWITCH,exports.CONTROL_SWITCHES=t.CONTROL_SWITCHES,exports.CONTROL_TIMER=t.CONTROL_TIMER,exports.CONTROL_VARIABLES=t.CONTROL_VARIABLES,exports.ENEMY_APPEAR=t.ENEMY_APPEAR,exports.ENEMY_RECOVER_ALL=t.ENEMY_RECOVER_ALL,exports.ENEMY_TRANSFORM=t.ENEMY_TRANSFORM,exports.ERASE_EVENT=t.ERASE_EVENT,exports.ERASE_PICTURE=t.ERASE_PICTURE,exports.EXIT_EVENT_PROCESSING=t.EXIT_EVENT_PROCESSING,exports.FADEIN_SCREEN=t.FADEIN_SCREEN,exports.FADEOUT_BGM=t.FADEOUT_BGM,exports.FADEOUT_BGS=t.FADEOUT_BGS,exports.FADEOUT_SCREEN=t.FADEOUT_SCREEN,exports.FLASH_SCREEN=t.FLASH_SCREEN,exports.FORCE_ACTION=t.FORCE_ACTION,exports.GAME_OVER=t.GAME_OVER,exports.GATHER_FOLLOWERS=t.GATHER_FOLLOWERS,exports.GET_LOCATION_INFO=t.GET_LOCATION_INFO,exports.GET_ONOFF_VEHICLE=t.GET_ONOFF_VEHICLE,exports.INPUT_NUMBER=t.INPUT_NUMBER,exports.LABEL=t.LABEL,exports.LABEL_JUMP=t.LABEL_JUMP,exports.LOOP=t.LOOP,exports.LOOP_BREAK=t.LOOP_BREAK,exports.MOVE_PICTURE=t.MOVE_PICTURE,exports.NAME_INPUT_PROCESSING=t.NAME_INPUT_PROCESSING,exports.NO_OPERATION=t.NO_OPERATION,exports.OPEN_MENU_SCREEN=t.OPEN_MENU_SCREEN,exports.OPEN_SAVE_SCREEN=t.OPEN_SAVE_SCREEN,exports.PLAY_BGM=t.PLAY_BGM,exports.PLAY_BGS=t.PLAY_BGS,exports.PLAY_ME=t.PLAY_ME,exports.PLAY_MOVIE=t.PLAY_MOVIE,exports.PLAY_SE=t.PLAY_SE,exports.PLUGIN_COMMAND_MV=t.PLUGIN_COMMAND_MV,exports.PLUGIN_COMMAND_MZ=t.PLUGIN_COMMAND_MZ,exports.RECOVER_ALL=t.RECOVER_ALL,exports.RESUME_BGM=t.RESUME_BGM,exports.RETURN_TO_TITLE_SCREEN=t.RETURN_TO_TITLE_SCREEN,exports.ROTATE_PICTURE=t.ROTATE_PICTURE,exports.SAVE_BGM=t.SAVE_BGM,exports.SCRIPT_EVAL=t.SCRIPT_EVAL,exports.SCRIPT_EVAL_BODY=t.SCRIPT_EVAL_BODY,exports.SCROLL_MAP=t.SCROLL_MAP,exports.SELECT_ITEM=t.SELECT_ITEM,exports.SET_EVENT_LOCATION=t.SET_EVENT_LOCATION,exports.SET_MOVEMENT_ROUTE=t.SET_MOVEMENT_ROUTE,exports.SET_VEHICLE_LOCATION=t.SET_VEHICLE_LOCATION,exports.SET_WEATHER_EFFECT=t.SET_WEATHER_EFFECT,exports.SHAKE_SCREEN=t.SHAKE_SCREEN,exports.SHOP_PROCESSING=t.SHOP_PROCESSING,exports.SHOP_PROCESSING_BODY=t.SHOP_PROCESSING_BODY,exports.SHOW_ANIMATION=t.SHOW_ANIMATION,exports.SHOW_BALLOON_ICON=t.SHOW_BALLOON_ICON,exports.SHOW_BATTLE_ANIMATION=t.SHOW_BATTLE_ANIMATION,exports.SHOW_CHOICES=t.SHOW_CHOICES,exports.SHOW_CHOICES_ITEM=t.SHOW_CHOICES_ITEM,exports.SHOW_MESSAGE=t.SHOW_MESSAGE,exports.SHOW_MESSAGE_BODY=t.SHOW_MESSAGE_BODY,exports.SHOW_PICTURE=t.SHOW_PICTURE,exports.SHOW_SCROLLING_TEXT=t.SHOW_SCROLLING_TEXT,exports.SHOW_SCROLLING_TEXT_BODY=t.SHOW_SCROLLING_TEXT_BODY,exports.SKIP=t.SKIP,exports.STOP_SE=t.STOP_SE,exports.TINT_PICTURE=t.TINT_PICTURE,exports.TINT_SCREEN=t.TINT_SCREEN,exports.TRANSFER_PLAYER=t.TRANSFER_PLAYER,exports.WAIT=t.WAIT,exports.COLLAPS_BOSS=m.COLLAPS_BOSS,exports.COLLAPS_INSTANT=m.COLLAPS_INSTANT,exports.COLLAPS_NONE=m.COLLAPS_NONE,exports.COLLAPS_NORMAL=m.COLLAPS_NORMAL,exports.EFFECT_ADD_BUFF=m.EFFECT_ADD_BUFF,exports.EFFECT_ADD_DEBUFF=m.EFFECT_ADD_DEBUFF,exports.EFFECT_ADD_STATE=m.EFFECT_ADD_STATE,exports.EFFECT_COMMON_EVENT=m.EFFECT_COMMON_EVENT,exports.EFFECT_GAIN_TP=m.EFFECT_GAIN_TP,exports.EFFECT_GROW=m.EFFECT_GROW,exports.EFFECT_LEARN_SKILL=m.EFFECT_LEARN_SKILL,exports.EFFECT_RECOVER_HP=m.EFFECT_RECOVER_HP,exports.EFFECT_RECOVER_MP=m.EFFECT_RECOVER_MP,exports.EFFECT_REMOVE_BUFF=m.EFFECT_REMOVE_BUFF,exports.EFFECT_REMOVE_DEBUFF=m.EFFECT_REMOVE_DEBUFF,exports.EFFECT_REMOVE_STATE=m.EFFECT_REMOVE_STATE,exports.EFFECT_SPECIAL=m.EFFECT_SPECIAL,exports.EXTRA_PARAM_CEV=m.EXTRA_PARAM_CEV,exports.EXTRA_PARAM_CNT=m.EXTRA_PARAM_CNT,exports.EXTRA_PARAM_CRI=m.EXTRA_PARAM_CRI,exports.EXTRA_PARAM_EVA=m.EXTRA_PARAM_EVA,exports.EXTRA_PARAM_HIT=m.EXTRA_PARAM_HIT,exports.EXTRA_PARAM_HRG=m.EXTRA_PARAM_HRG,exports.EXTRA_PARAM_MEV=m.EXTRA_PARAM_MEV,exports.EXTRA_PARAM_MRF=m.EXTRA_PARAM_MRF,exports.EXTRA_PARAM_MRG=m.EXTRA_PARAM_MRG,exports.EXTRA_PARAM_TRG=m.EXTRA_PARAM_TRG,exports.FLAG_ID_AUTO_BATTLE=m.FLAG_ID_AUTO_BATTLE,exports.FLAG_ID_GUARD=m.FLAG_ID_GUARD,exports.FLAG_ID_PRESERVE_TP=m.FLAG_ID_PRESERVE_TP,exports.FLAG_ID_SUBSTITUTE=m.FLAG_ID_SUBSTITUTE,exports.PARTY_ABILITY_CANCEL_SURPRISE=m.PARTY_ABILITY_CANCEL_SURPRISE,exports.PARTY_ABILITY_DROP_ITEM_DOUBLE=m.PARTY_ABILITY_DROP_ITEM_DOUBLE,exports.PARTY_ABILITY_ENCOUNTER_HALF=m.PARTY_ABILITY_ENCOUNTER_HALF,exports.PARTY_ABILITY_ENCOUNTER_NONE=m.PARTY_ABILITY_ENCOUNTER_NONE,exports.PARTY_ABILITY_GOLD_DOUBLE=m.PARTY_ABILITY_GOLD_DOUBLE,exports.PARTY_ABILITY_RAISE_PREEMPTIVE=m.PARTY_ABILITY_RAISE_PREEMPTIVE,exports.REGULAR_PARAM_AGI=m.REGULAR_PARAM_AGI,exports.REGULAR_PARAM_ATK=m.REGULAR_PARAM_ATK,exports.REGULAR_PARAM_DEF=m.REGULAR_PARAM_DEF,exports.REGULAR_PARAM_LUK=m.REGULAR_PARAM_LUK,exports.REGULAR_PARAM_MATK=m.REGULAR_PARAM_MATK,exports.REGULAR_PARAM_MAX_HP=m.REGULAR_PARAM_MAX_HP,exports.REGULAR_PARAM_MAX_MP=m.REGULAR_PARAM_MAX_MP,exports.REGULAR_PARAM_MDEF=m.REGULAR_PARAM_MDEF,exports.SPECIAL_PARAM_EXR=m.SPECIAL_PARAM_EXR,exports.SPECIAL_PARAM_FDR=m.SPECIAL_PARAM_FDR,exports.SPECIAL_PARAM_GRD=m.SPECIAL_PARAM_GRD,exports.SPECIAL_PARAM_MCR=m.SPECIAL_PARAM_MCR,exports.SPECIAL_PARAM_MDR=m.SPECIAL_PARAM_MDR,exports.SPECIAL_PARAM_PDR=m.SPECIAL_PARAM_PDR,exports.SPECIAL_PARAM_PHA=m.SPECIAL_PARAM_PHA,exports.SPECIAL_PARAM_REC=m.SPECIAL_PARAM_REC,exports.SPECIAL_PARAM_TCR=m.SPECIAL_PARAM_TCR,exports.SPECIAL_PARAM_TGR=m.SPECIAL_PARAM_TGR,exports.TRAIT_ACTION_PLUS=m.TRAIT_ACTION_PLUS,exports.TRAIT_ATTACK_ELEMENT=m.TRAIT_ATTACK_ELEMENT,exports.TRAIT_ATTACK_SKILL=m.TRAIT_ATTACK_SKILL,exports.TRAIT_ATTACK_SPEED=m.TRAIT_ATTACK_SPEED,exports.TRAIT_ATTACK_STATE=m.TRAIT_ATTACK_STATE,exports.TRAIT_ATTACK_TIMES=m.TRAIT_ATTACK_TIMES,exports.TRAIT_COLLAPSE_TYPE=m.TRAIT_COLLAPSE_TYPE,exports.TRAIT_DEBUFF_RATE=m.TRAIT_DEBUFF_RATE,exports.TRAIT_ELEMENT_RATE=m.TRAIT_ELEMENT_RATE,exports.TRAIT_EQUIP_ARMOR_TYPE=m.TRAIT_EQUIP_ARMOR_TYPE,exports.TRAIT_EQUIP_LOCK=m.TRAIT_EQUIP_LOCK,exports.TRAIT_EQUIP_SEAL=m.TRAIT_EQUIP_SEAL,exports.TRAIT_EQUIP_WEAPON_TYPE=m.TRAIT_EQUIP_WEAPON_TYPE,exports.TRAIT_PARAM=m.TRAIT_PARAM,exports.TRAIT_PARTY_ABILITY=m.TRAIT_PARTY_ABILITY,exports.TRAIT_SKILL_ADD=m.TRAIT_SKILL_ADD,exports.TRAIT_SKILL_SEAL=m.TRAIT_SKILL_SEAL,exports.TRAIT_SKILL_TYPE_ADD=m.TRAIT_SKILL_TYPE_ADD,exports.TRAIT_SKILL_TYPE_SEAL=m.TRAIT_SKILL_TYPE_SEAL,exports.TRAIT_SLOT_TYPE=m.TRAIT_SLOT_TYPE,exports.TRAIT_SPARAM=m.TRAIT_SPARAM,exports.TRAIT_SPECIAL_FLAG=m.TRAIT_SPECIAL_FLAG,exports.TRAIT_STATE_RATE=m.TRAIT_STATE_RATE,exports.TRAIT_STATE_RESIST=m.TRAIT_STATE_RESIST,exports.TRAIT_XPARAM=m.TRAIT_XPARAM,exports.buildNoteFromNormalized=m.buildNoteFromNormalized,exports.collapsOptionsToArray=m.collapsOptionsToArray,exports.convertTermsMessageMZtoMV=m.convertTermsMessageMZtoMV,exports.createNoteEntity=m.createNoteEntity,exports.defineGameDataSources=m.defineGameDataSources,exports.defineSystemItems=m.defineSystemItems,exports.defineTraitCollapseType=m.defineTraitCollapseType,exports.defineTraitExtraParam=m.defineTraitExtraParam,exports.defineTraitItems=m.defineTraitItems,exports.defineTraitPartyAbility=m.defineTraitPartyAbility,exports.defineTraitRegularParam=m.defineTraitRegularParam,exports.defineTraitSpecialFlag=m.defineTraitSpecialFlag,exports.defineTraitSpecialParam=m.defineTraitSpecialParam,exports.extraParamName=m.extraParamName,exports.extraParamsToArray=m.extraParamsToArray,exports.fromArrayShowMessageHeader=m.fromArrayShowMessageHeader,exports.getArmorTypes=m.getArmorTypes,exports.getElementTypes=m.getElementTypes,exports.getEquipTypes=m.getEquipTypes,exports.getItemIdFromItemCommand=m.getItemIdFromItemCommand,exports.getNoteValue=m.getNoteValue,exports.getSkillTypes=m.getSkillTypes,exports.getSwitches=m.getSwitches,exports.getVariableNames=m.getVariableNames,exports.getWeaponTypes=m.getWeaponTypes,exports.isUsingVariableItemCommand=m.isUsingVariableItemCommand,exports.makeCommandShowMessage=m.makeCommandShowMessage,exports.makeCommandShowMessageBody=m.makeCommandShowMessageBody,exports.makeParamNamesArray=m.makeParamNamesArray,exports.makeParamNamesFromArray=m.makeParamNamesFromArray,exports.makeTermsBasic=m.makeTermsBasic,exports.makeTermsBasicFromArray=m.makeTermsBasicFromArray,exports.makeTermsCommandArray=m.makeTermsCommandArray,exports.makeTermsCommandArrayWithNulls=m.makeTermsCommandArrayWithNulls,exports.makeTermsCommandFromArray=m.makeTermsCommandFromArray,exports.makeTermsMessages=m.makeTermsMessages,exports.normalizeNote=m.normalizeNote,exports.partyAbilityToArray=m.partyAbilityToArray,exports.readNote=m.readNote,exports.readNoteEx=m.readNoteEx,exports.readNoteObject=m.readNoteObject,exports.regularParamName=m.regularParamName,exports.regularParamsToArray=m.regularParamsToArray,exports.replaceNote=m.replaceNote,exports.replaceNoteWithHandlers=m.replaceNoteWithHandlers,exports.resolveItemEffectLabels=m.resolveItemEffectLabels,exports.resolveTraitLabels=m.resolveTraitLabels,exports.setNoteValue=m.setNoteValue,exports.specialFlagToArray=m.specialFlagToArray,exports.specialParamName=m.specialParamName,exports.specialParamsToArray=m.specialParamsToArray,exports.toArrayShowMessageHeader=m.toArrayShowMessageHeader,exports.BATTLE_DIRECT=0,exports.BATTLE_ENCOUNT=2,exports.BATTLE_VARIABLE=1,exports.CUSTOM_PRICE=1,exports.DEFAULT_DAMAGE_LABELS=Z,exports.DEFAULT_GLOBAL_LABELS=ne,exports.DEFAULT_ITEM_LABELS={title:"アイテム",options:{consumable:"消耗品"}},exports.DEFAULT_SKILL_LABELS={title:"スキル",options:{requiredWeaponTypeId1:"必要武器タイプ1",requiredWeaponTypeId2:"必要武器タイプ2",mpCost:"MP消費",tpCost:"TP消費"}},exports.DEFAULT_SYSTEM_LABELS_BOOLEAN={title:"オプション",options:{optDrawTitle:"ゲームタイトルの描画",optDisplayTp:"ウィンドウにTPを表示",optFloorDeath:"床ダメージで戦闘不能",optSlipDeath:"スリップダメージで戦闘不能",optAutosave:"オートセーブを有効化",optExtraExp:"控えメンバーも経験値を獲得",optFollowers:"隊列歩行",optSideView:"戦闘をサイドビューにする",optKeyItemsNumber:"大事なものの個数を表示",optTransparent:"透明状態で開始",optMessageSkip:"メッセージスキップを有効化",optSplashScreen:"スプラッシュ画面を表示"}},exports.DEFAULT_SYSTEM_LABELS_DATA_TYPES={title:"タイプ",format:"{name}",options:{elements:"属性",equipTypes:"装備タイプ",skillTypes:"スキルタイプ",weaponTypes:"武器タイプ",armorTypes:"防具タイプ",switches:"スイッチ",variables:"変数"}},exports.DEFAULT_USABLE_ITEM_LABELS={title:"",options:{scope:"範囲",speed:"速度補正",successRate:"成功率"}},exports.DIRECTION={LEFT:4,UP:8,DOWN:2,RIGHT:6},exports.FILENAME_ACTORS="Actors.json",exports.FILENAME_ANIMATIONS="Animations.json",exports.FILENAME_ARMORS="Armors.json",exports.FILENAME_CLASSES="Classes.json",exports.FILENAME_COMMON_EVENTS="CommonEvents.json",exports.FILENAME_ENEMIES="Enemies.json",exports.FILENAME_ITEMS="Items.json",exports.FILENAME_MAP_INFOS="MapInfos.json",exports.FILENAME_SKILLS="Skills.json",exports.FILENAME_STATES="States.json",exports.FILENAME_SYSTEM="System.json",exports.FILENAME_TILESET="Tilesets.json",exports.FILENAME_TROOPS="Troops.json",exports.FILENAME_WEAPONS="Weapons.json",exports.FOLDER_AUDIO="audio",exports.FOLDER_AUDIO_BGM="bgm",exports.FOLDER_AUDIO_BGS="bgs",exports.FOLDER_AUDIO_ME="me",exports.FOLDER_AUDIO_SE="se",exports.FOLDER_DATA="data",exports.FOLDER_IMG="img",exports.FOLDER_IMG_BATTLEBACK1="battlebacks1",exports.FOLDER_IMG_BATTLEBACK2="battlebacks2",exports.FOLDER_IMG_CHACTERS="characters",exports.FOLDER_IMG_ENEMIES="enemies",exports.FOLDER_IMG_FACES="faces",exports.FOLDER_IMG_PARALLACES="parallaxes",exports.FOLDER_IMG_PICTURES="pictures",exports.FOLDER_IMG_SV_ACTORS="sv_actors",exports.FOLDER_IMG_SV_ENEMIES="sv_enemies",exports.FOLDER_IMG_SYSTEM="system",exports.FOLDER_IMG_TILESETS="tilesets",exports.FOLDER_IMG_TITLES1="titles1",exports.FOLDER_IMG_TITLES2="titles2",exports.FOLDER_JS="js",exports.HITTYPE_CERTAIN=0,exports.HITTYPE_MAGICAL=2,exports.HITTYPE_PHYSICAL=1,exports.LABELS_DATA_WEAPON={title:"武器",options:{weaponTypeId:"武器タイプID"}},exports.LABELS_SYSTEM_BATTLER_PARAMS={title:"能力値",options:{agi:"敏捷",atk:"攻撃力",def:"防御力",eva:"回避",hit:"命中",luk:"運",mat:"魔法攻撃力",mdf:"魔法防御力",mhp:"最大HP",mmp:"最大MP"}},exports.LABELS_SYSTEM_GAME_COMMANDS={title:"コマンド",options:{item:"アイテム",skill:"スキル",equip:"装備",status:"ステータス",formation:"編成",options:"オプション",save:"セーブ",gameEnd:"ゲーム終了",armor:"防具",weapon:"武器",newGame:"ニューゲーム",attack:"攻撃",guard:"防御",escape:"逃げる",fight:"戦う",buy:"買う",sell:"売る",cancel:"キャンセル",clear:"クリア",continueGame:"続きから",equip2:"装備2",keyItem:"大事なもの",optimize:"最強装備",toTitle:"タイトルへ戻る"}},exports.LABEL_SET_DATA=Q,exports.LABEL_SET_ITEM_EFFECT=oe,exports.LABEL_SET_TRAIT=te,exports.MODULE_DATA="data",exports.NORMAL_PRICE=0,exports.OPERAND_CONSTANT=0,exports.OPERAND_GAMEDATA=3,exports.OPERAND_RANDOM=2,exports.OPERAND_SCRIPT=4,exports.OPERAND_VARIABLE=1,exports.OPERATION_ADD=1,exports.OPERATION_DIVIDE=4,exports.OPERATION_MOD=5,exports.OPERATION_MULTIPLY=3,exports.OPERATION_SET=0,exports.OPERATION_SUBTRACT=2,exports.ROUTE_CHANGE_BLEND_MODE=43,exports.ROUTE_CHANGE_FREQ=30,exports.ROUTE_CHANGE_IMAGE=41,exports.ROUTE_CHANGE_OPACITY=42,exports.ROUTE_CHANGE_SPEED=29,exports.ROUTE_DIR_FIX_OFF=36,exports.ROUTE_DIR_FIX_ON=35,exports.ROUTE_END=0,exports.ROUTE_JUMP=14,exports.ROUTE_MOVE_AWAY=11,exports.ROUTE_MOVE_BACKWARD=13,exports.ROUTE_MOVE_DOWN=1,exports.ROUTE_MOVE_FORWARD=12,exports.ROUTE_MOVE_LEFT=2,exports.ROUTE_MOVE_LOWER_L=5,exports.ROUTE_MOVE_LOWER_R=6,exports.ROUTE_MOVE_RANDOM=9,exports.ROUTE_MOVE_RIGHT=3,exports.ROUTE_MOVE_TOWARD=10,exports.ROUTE_MOVE_UP=4,exports.ROUTE_MOVE_UPPER_L=7,exports.ROUTE_MOVE_UPPER_R=8,exports.ROUTE_PLAY_SE=44,exports.ROUTE_SCRIPT=45,exports.ROUTE_STEP_ANIME_OFF=34,exports.ROUTE_STEP_ANIME_ON=33,exports.ROUTE_SWITCH_OFF=28,exports.ROUTE_SWITCH_ON=27,exports.ROUTE_THROUGH_OFF=38,exports.ROUTE_THROUGH_ON=37,exports.ROUTE_TRANSPARENT_OFF=40,exports.ROUTE_TRANSPARENT_ON=39,exports.ROUTE_TURN_180D=22,exports.ROUTE_TURN_90D_L=21,exports.ROUTE_TURN_90D_R=20,exports.ROUTE_TURN_90D_R_L=23,exports.ROUTE_TURN_AWAY=26,exports.ROUTE_TURN_DOWN=16,exports.ROUTE_TURN_LEFT=17,exports.ROUTE_TURN_RANDOM=24,exports.ROUTE_TURN_RIGHT=18,exports.ROUTE_TURN_TOWARD=25,exports.ROUTE_TURN_UP=19,exports.ROUTE_WAIT=15,exports.ROUTE_WALK_ANIME_OFF=32,exports.ROUTE_WALK_ANIME_ON=31,exports.SCHEMA_DATA_WEAPON={type:"object",required:["name","id","description","iconIndex","price","params","traits","note","etypeId","animationId"],properties:{name:{type:"string"},id:{type:"integer",minimum:0},description:{type:"string"},iconIndex:{type:"integer",minimum:0},price:{type:"integer",minimum:0},note:{type:"string"},etypeId:{type:"integer",minimum:0},wtypeId:{type:"integer",minimum:0},animationId:{type:"integer",minimum:0},params:{type:"array",items:[{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"},{type:"integer"}],minItems:8,maxItems:8},damage:{type:"object",properties:{type:{type:"integer",minimum:0},elementId:{type:"integer",minimum:0},formula:{type:"string"},variance:{type:"integer",minimum:0,maximum:100},critical:{type:"boolean",default:!1}},required:["type","elementId","formula","variance","critical"]},traits:{type:"array",items:{type:"object",properties:{code:{type:"integer"},dataId:{type:"integer"},value:{type:"integer"}},required:["code","dataId","value"]}}}},exports.SPECIAL_EFFECT_ESCAPE=0,exports.SRC_DATA_ACTOR="actor",exports.SRC_DATA_ARMOR="armor",exports.SRC_DATA_CLASS="class",exports.SRC_DATA_COMMON_EVNET="common_event",exports.SRC_DATA_ENEMY="enemy",exports.SRC_DATA_ITEMS="item",exports.SRC_DATA_MAP="map",exports.SRC_DATA_SKILL="skill",exports.SRC_DATA_STATE="state",exports.SRC_DATA_TROOP="troop",exports.SRC_DATA_WEAPON="weapon",exports.TYPE_ARMOR=2,exports.TYPE_ITEM=0,exports.TYPE_WEAPON=1,exports.VEHICLE_AIRSHIP=2,exports.VEHICLE_BOAT=0,exports.VEHICLE_SHIP=1,exports.cloneChoices=e=>({code:e.code,indent:e.indent,parameters:[[...e.parameters[0]],e.parameters[1],e.parameters[2],e.parameters[3],e.parameters[4]]}),exports.cloneEventCommand=e=>({code:e.code,indent:e.indent,parameters:K(e.parameters)}),exports.cloneParameters=K,exports.convertCommentArrayToObject=e=>({comment:e[0]}),exports.createActorControlChars=e=>e.map((a=>({text:a.name,controlChar:S("N",a.id)}))),exports.createControlCharFormat=S,exports.createMenuCommandState=se,exports.createSystemVariableControlChars=e=>e.variables.map(((a,r)=>({text:a||"",controlChar:S("V",r)}))).filter((a=>a.text!=="")),exports.extractFileName=e=>{const a=e.split("/");return a[a.length-1]},exports.formatItemEffectText=(e,a,r)=>{const o=r.find((s=>s.id===a.dataId)),i=o?o.name:"Unknown Item";return e.pattern.replaceAll("{value1}",a.value1.toString()).replaceAll("{value2}",a.value2.toString()).replaceAll("{name}",i)},exports.formatTraitText=(e,a,r)=>{const o=n.compileFormatRule(Fe);return n.applyFormatRule(a,r,o,e.pattern,(i=>i.dataId))},exports.fromArrayChangeItems=e=>({operation:e[1],itemId:e[0],value:e[3],operand:e[2]}),exports.fromArrayChangeWeapons=e=>({operation:e[1],weaponId:e[0],value:e[3],operand:e[2],includesEquip:e[4]}),exports.fromArrayCommonEvent=e=>({eventId:e[0]}),exports.fromArrayControlSwitches=e=>({min:e[0],max:e[1],value:e[2]}),exports.fromArrayEnemyTransform=e=>({enemyId:e[0],newEnemyId:e[1]}),exports.fromArrayInputNumber=e=>({variableId:e[0],maxDigits:e[1]}),exports.fromArrayPlayMovie=e=>({filename:e[0]}),exports.fromArrayPluginCommandMZ=e=>({pluginName:e[0],commandName:e[1],commandTitle:e[2],args:{...e[3]}}),exports.fromArrayScrollingTextBody=e=>({content:e[0]}),exports.fromArrayScrollingTextHeader=e=>({speed:e[0],skip:e[1]}),exports.fromArraySelectItem=e=>({variableId:e[0],itemType:e[1]}),exports.fromArraySetupChoice=e=>({choices:e[0],cancelType:e[1],defaultType:e[2],positionType:e[3],background:e[4]}),exports.fromArraySetupChoiceItem=e=>({index:e[0],name:e[1]}),exports.fromStringArray=(e,a)=>a.map(((r,o)=>({text:r,controlChar:S(e,o)}))),exports.getActorValue=(e,a)=>{switch(a[6]){case 0:return e.level;case 1:return e.currentExp();case 2:return e.hp;case 3:return e.mp;case 12:return e.tp}return a[6]>=4&&a[6]<=11?e.param(a[6]-4):0},exports.getArmorCategoryEnabled=e=>e.itemCategories[2],exports.getControlChars=e=>Array.from(e.matchAll(/\\([A-Za-z]+)\[(\d+)]/g)).map((a=>({char:a[1],id:parseInt(a[2],10)}))),exports.getEnemyValue=(e,a)=>{switch(a[6]){case 0:return e.hp;case 1:return e.mp;case 10:return e.tp}return a[6]>=2&&a[6]<=9?e.param(a[6]-2):0},exports.getEquipCommandEnabled=Te,exports.getFormationCommandEnabled=pe,exports.getItemCategoryEnabled=e=>e.itemCategories[0],exports.getItemCommandEnabled=Ae,exports.getKeyItemCategoryEnabled=e=>e.itemCategories[3],exports.getParamNames=e=>e.terms.params.map(((a,r)=>({name:a,id:r}))),exports.getSaveCommandEnabled=ce,exports.getSkillCommandEnabled=_e,exports.getStatusCommandEnabled=le,exports.getWeaponCategoryEnabled=e=>e.itemCategories[1],exports.isCloneableCommand=e=>e.parameters.every(ke),exports.isCommandBattleProcessingVariable=e=>e.parameters[0]===1,exports.isCommandOperandVariables=e=>e.parameters[2]===1,exports.isUsingVaribleCommandChangingItems=e=>e.parameters[3]===m.OPERAND_VARIABLE,exports.labelsRegistry=()=>({rpg:{damage:Z,data:Q,traits:te,itemEffect:oe},global:ne}),exports.makeActorData=(e={})=>({name:e.name??"",id:e.id??0,battlerName:e.battlerName??"",characterName:e.characterName??"",characterIndex:e.characterIndex??0,faceName:e.faceName??"",faceIndex:e.faceIndex??0,traits:[],note:e.note??"",classId:e.classId??0,nickname:e.nickname??"",profile:e.profile??"",equips:[],initialLevel:e.initialLevel??0,maxLevel:e.maxLevel??0}),exports.makeArmorData=(e={})=>({id:e.id??0,name:e.name??"",iconIndex:e.iconIndex??0,description:e.description??"",traits:e.traits??[],note:e.note??"",atypeId:e.atypeId??0,params:e.params??[0,0,0,0,0,0,0,0],etypeId:e.etypeId??0,price:e.price??0}),exports.makeAudioCommand=(e,a)=>T(e,n.makeAudioFileParams({name:a})),exports.makeBattleEventPage=e=>({span:e.span??0,conditions:q(e.conditions??{}),list:e.list??[]}),exports.makeBooleanOptions=Re,exports.makeClassData=(e={})=>({name:e.name??"",id:e.id??0,traits:[],note:e.note??"",params:[0,0,0,0,0,0,0,0],learnings:e.learnings??[],expParams:e.expParams??[]}),exports.makeCommandActorLevelDown=(e,a=0)=>({code:t.CHANGE_LEVEL,indent:a,parameters:[0,e.actorId,1,0,e.level,e.showMessaage]}),exports.makeCommandActorLevelDownByVariable=(e,a=0)=>({code:t.CHANGE_LEVEL,indent:a,parameters:[0,e.actorId,1,1,e.variableId,e.showMessaage]}),exports.makeCommandActorLevelDownEach=(e,a=0)=>({code:t.CHANGE_LEVEL,indent:a,parameters:[0,0,1,0,e.level,e.showMessaage]}),exports.makeCommandActorLevelUp=(e,a=0)=>({code:t.CHANGE_LEVEL,indent:a,parameters:[0,e.actorId,0,0,e.level,e.showMessaage]}),exports.makeCommandActorLevelUpByVariable=(e,a=0)=>({code:t.CHANGE_LEVEL,indent:a,parameters:[0,e.actorId,0,1,e.variableId,e.showMessaage]}),exports.makeCommandActorLevelUpEach=(e,a=0)=>({code:t.CHANGE_LEVEL,indent:a,parameters:[0,0,0,0,e.level,e.showMessaage]}),exports.makeCommandAddActorStateEach=(e,a=0)=>({code:313,indent:a,parameters:[0,0,0,e.stateId]}),exports.makeCommandAddActorStateTarget=(e,a=0)=>({code:313,indent:a,parameters:[0,e.actorId,0,e.stateId]}),exports.makeCommandAddActorStateVariable=(e,a=0)=>({code:313,indent:a,parameters:[1,e.actorIdVariable,0,e.stateId]}),exports.makeCommandAddEachEnemyState=(e,a=0)=>({code:333,indent:a,parameters:[-1,0,e.stateId]}),exports.makeCommandAddEnemyState=(e,a=0)=>({code:333,indent:a,parameters:[e.enemyIndex,0,e.stateId]}),exports.makeCommandAddPartyMember=(e,a=0)=>({code:129,parameters:[0,e.actorId],indent:a}),exports.makeCommandAudioAny=T,exports.makeCommandBattleProcessingDirect=({troopId:e=0,canEscape:a=!1,canLose:r=!1},o=0)=>({code:t.BATTLE_PROCESSING,indent:o,parameters:[0,e,a,r]}),exports.makeCommandBattleProcessingEncount=({canEscape:e=!1,canLose:a=!1},r=0)=>({code:t.BATTLE_PROCESSING,indent:r,parameters:[2,0,e,a]}),exports.makeCommandBattleProcessingVariable=({variableId:e=0,canEscape:a=!1,canLose:r=!1},o=0)=>({code:t.BATTLE_PROCESSING,indent:o,parameters:[1,e,a,r]}),exports.makeCommandChangeActorImages=({actorId:e=1,faceIndex:a=0,faceName:r="",characterIndex:o=0,characterName:i="",battlerName:s=""}={},E=0)=>({code:322,indent:E,parameters:[e,i,o,r,a,s]}),exports.makeCommandChangeActorName=(e,a=0)=>({code:t.CHANGE_NAME,parameters:[e.actorId,e.name],indent:a}),exports.makeCommandChangeActorNickName=(e,a=0)=>({code:t.CHANGE_NICKNAME,parameters:[e.actorId,e.nickname],indent:a}),exports.makeCommandChangeActorProfile=(e,a=0)=>({code:t.CHANGE_PROFILE,parameters:[e.actorId,e.profile],indent:a}),exports.makeCommandChangeBattleBGM=(e,a=0)=>T(t.CHANGE_BATTLE_BGM,e,a),exports.makeCommandChangeBattleBackground=(e={},a=0)=>({code:283,indent:a,parameters:[e.background1??"",e.background2??""]}),exports.makeCommandChangeClass=(e,a=0)=>({code:321,parameters:[e.actorId,e.classId,e.keepExp],indent:a}),exports.makeCommandChangeDefeatME=(e,a=0)=>T(t.CHANGE_DEFEAT_ME,e,a),exports.makeCommandChangeEquip=(e,a=0)=>({code:319,parameters:[e.actorId,e.equipType,e.equipId],indent:a}),exports.makeCommandChangeItems=(e,a=0)=>({code:t.CHANGE_ITEMS,indent:a,parameters:[e.itemId,e.operation,e.operand,e.value]}),exports.makeCommandChangeParallax=(e,a=0)=>({code:284,indent:a,parameters:[e.parallaxName,e.loopX,e.loopY,e.sx,e.sy]}),exports.makeCommandChangeTileset=(e={},a=0)=>({code:282,indent:a,parameters:[e.tilesetId??0]}),exports.makeCommandChangeVehicleBGM=(e,a=0)=>({code:140,indent:a,parameters:[e.vheicleId,n.makeAudioFileParams(e.bgm)]}),exports.makeCommandChangeVehicleImage=(e,a=0)=>({code:323,indent:a,parameters:[e.vehicleId,e.characterImage,e.characterIndex]}),exports.makeCommandChangeVictoryME=(e,a=0)=>T(t.CHANGE_VICTORY_ME,e,a),exports.makeCommandChangeWeapons=(e,a=0)=>({code:t.CHANGE_WEAPONS,indent:a,parameters:[e.weaponId,e.operation,e.operand,e.value,e.includesEquip]}),exports.makeCommandCommentBody=G,exports.makeCommandCommentHeader=F,exports.makeCommandCommonEvent=(e,a=0)=>({code:t.COMMON_EVENT,indent:a,parameters:k(e??{})}),exports.makeCommandControlSwitches=(e,a=0)=>({code:t.CONTROL_SWITCHES,indent:a,parameters:D(e)}),exports.makeCommandControlTimer=({operation:e,time:a})=>({code:124,indent:0,parameters:[Me[e??"plus"]??0,a??0]}),exports.makeCommandDisableFormationAccess=(e=0)=>({code:137,parameters:[1],indent:e}),exports.makeCommandDisableMenuAccess=(e=0)=>({code:135,parameters:[1],indent:e}),exports.makeCommandDisableSaveAccess=(e=0)=>({code:134,parameters:[1],indent:e}),exports.makeCommandEachActorRecoverAll=(e=0)=>({code:314,indent:e,parameters:[0,0]}),exports.makeCommandEnableFormationAccess=(e=0)=>({code:137,parameters:[0],indent:e}),exports.makeCommandEnableMenuAccess=(e=0)=>({code:135,parameters:[0],indent:e}),exports.makeCommandEnableSaveAccess=(e=0)=>({code:134,parameters:[0],indent:e}),exports.makeCommandEnemyRecoverAll=(e,a=0)=>({code:334,indent:a,parameters:[e.enemyIndex]}),exports.makeCommandEnemyRecoverAllEach=(e=0)=>({code:334,indent:e,parameters:[0]}),exports.makeCommandEnemyTransform=function(e,a=0){return{code:336,parameters:[e.enemyId,e.newEnemyId],indent:a}},exports.makeCommandFadeInScreen=(e=0)=>({code:222,indent:e,parameters:[]}),exports.makeCommandFadeOutBGM=(e,a=0)=>({code:242,indent:a,parameters:[e.duration]}),exports.makeCommandFadeOutBGS=(e,a=0)=>({code:246,indent:a,parameters:[e.duration]}),exports.makeCommandFadeOutScreen=(e=0)=>({code:221,indent:e,parameters:[]}),exports.makeCommandFlashScreen=(e,a=0)=>({code:224,indent:a,parameters:[e.color?[e.color[0],e.color[1],e.color[2],e.color[3]]:[255,255,255,255],e.duration??0,e.wait??!1]}),exports.makeCommandGainActorHP=(e,a=0)=>({code:t.CHANGE_HP,indent:a,parameters:u(0,e)}),exports.makeCommandGainActorMP=(e,a=0)=>({code:t.CHANGE_MP,indent:a,parameters:R(0,e)}),exports.makeCommandGainActorTP=(e,a=0)=>({code:t.CHANGE_TP,indent:a,parameters:R(0,e)}),exports.makeCommandGainArmor=(e,a=0)=>({code:t.CHANGE_ARMORS,indent:a,parameters:[e.armorId,m.OPERATION_GAIN,m.OPERAND_DIRECT,e.value,!1]}),exports.makeCommandGainArmorByVariable=(e,a=0)=>({code:t.CHANGE_ARMORS,indent:a,parameters:[e.armorId,m.OPERATION_GAIN,m.OPERAND_VARIABLE,e.variableId,!1]}),exports.makeCommandGainExpByVariable=(e,a=0)=>({code:t.CHANGE_EXP,indent:a,parameters:[0,e.actorId,0,1,e.variableId,e.showMessaage]}),exports.makeCommandGainExpDirect=(e,a=0)=>({code:t.CHANGE_EXP,indent:a,parameters:[0,e.actorId,0,0,e.exp,e.showMessaage]}),exports.makeCommandGainExpTargetAndOperandVariable=(e,a=0)=>({code:t.CHANGE_EXP,indent:a,parameters:[1,e.targetVariableId,0,1,e.operandVariableId,e.showMessaage]}),exports.makeCommandGainExpTargetVariable=(e,a=0)=>({code:t.CHANGE_EXP,indent:a,parameters:[1,e.targetVariableId,0,0,e.value,e.showMessaage]}),exports.makeCommandGainGold=(e,a=0)=>({code:125,parameters:[0,0,e.value],indent:a}),exports.makeCommandGainGoldByVariable=(e,a=0)=>({code:125,parameters:[0,1,e.variableId],indent:a}),exports.makeCommandGainItem=(e,a=0)=>({code:t.CHANGE_ITEMS,indent:a,parameters:[e.itemId,m.OPERATION_GAIN,m.OPERAND_DIRECT,e.value]}),exports.makeCommandGainItemV=(e,a=0)=>({code:t.CHANGE_ITEMS,indent:a,parameters:[e.itemId,m.OPERATION_GAIN,m.OPERAND_VARIABLE,e.variableId]}),exports.makeCommandGainWeapon=(e,a=0)=>({code:t.CHANGE_WEAPONS,indent:a,parameters:[e.weaponId,m.OPERATION_GAIN,m.OPERAND_DIRECT,e.value,!1]}),exports.makeCommandGainWeaponV=(e,a=0)=>({code:t.CHANGE_WEAPONS,indent:a,parameters:[e.weaponId,m.OPERATION_GAIN,m.OPERAND_VARIABLE,e.variableId,!1]}),exports.makeCommandGetOnOffVehicle=(e=0)=>({code:206,indent:e,parameters:[]}),exports.makeCommandHideMapName=(e=0)=>({code:281,indent:e,parameters:[1]}),exports.makeCommandInputNumber=(e,a=0)=>({code:103,parameters:[e.variableId,e.maxDigits],indent:a}),exports.makeCommandLoseActorHP=(e,a=0)=>({code:t.CHANGE_HP,indent:a,parameters:u(1,e)}),exports.makeCommandLoseActorMP=(e,a=0)=>({code:t.CHANGE_MP,indent:a,parameters:R(1,e)}),exports.makeCommandLoseActorTP=(e,a=0)=>({code:t.CHANGE_TP,indent:a,parameters:R(1,e)}),exports.makeCommandLoseArmor=(e,a=0)=>({code:t.CHANGE_ARMORS,indent:a,parameters:[e.armorId,m.OPERATION_LOSE,m.OPERAND_DIRECT,e.value,!1]}),exports.makeCommandLoseArmorByVariable=(e,a=0)=>({code:t.CHANGE_ARMORS,indent:a,parameters:[e.armorId,m.OPERATION_LOSE,m.OPERAND_VARIABLE,e.variableId,!1]}),exports.makeCommandLoseExpByVariable=(e,a=0)=>({code:t.CHANGE_EXP,indent:a,parameters:[0,e.actorId,1,1,e.variableId,e.showMessaage]}),exports.makeCommandLoseExpDirect=(e,a=0)=>({code:t.CHANGE_EXP,indent:a,parameters:[0,e.actorId,1,0,e.exp,e.showMessaage]}),exports.makeCommandLoseExpTargetAndOperandVariable=(e,a=0)=>({code:t.CHANGE_EXP,indent:a,parameters:[1,e.targetVariableId,1,1,e.operandVariableId,e.showMessaage]}),exports.makeCommandLoseExpTargetVariable=(e,a=0)=>({code:t.CHANGE_EXP,indent:a,parameters:[1,e.targetVariableId,1,0,e.value,e.showMessaage]}),exports.makeCommandLoseGold=(e,a=0)=>({code:125,parameters:[1,0,e.value],indent:a}),exports.makeCommandLoseGoldByVariable=(e,a=0)=>({code:125,parameters:[1,1,e.variableId],indent:a}),exports.makeCommandLoseItem=(e,a=0)=>({code:t.CHANGE_ITEMS,indent:a,parameters:[e.itemId,m.OPERATION_LOSE,m.OPERAND_DIRECT,e.value]}),exports.makeCommandLoseItemV=(e,a=0)=>({code:t.CHANGE_ITEMS,indent:a,parameters:[e.itemId,m.OPERATION_LOSE,m.OPERAND_VARIABLE,e.variableId]}),exports.makeCommandLoseWeapon=(e,a=0)=>({code:t.CHANGE_WEAPONS,indent:a,parameters:[e.weaponId,m.OPERATION_LOSE,m.OPERAND_DIRECT,e.value,!1]}),exports.makeCommandLoseWeaponV=(e,a=0)=>({code:t.CHANGE_WEAPONS,indent:a,parameters:[e.weaponId,m.OPERATION_LOSE,m.OPERAND_VARIABLE,e.variableId,!1]}),exports.makeCommandMovePicture=({pictureId:e,origin:a,x:r,y:o,scaleX:i,scaleY:s,opacity:E,blendMode:_,wait:l=!1,easingType:P=0})=>({code:232,indent:0,parameters:[e,a,r,o,i,s,E,_,l,P]}),exports.makeCommandPlayBGM=(e,a=0)=>T(t.PLAY_BGM,e,a),exports.makeCommandPlayBGS=(e,a=0)=>T(t.PLAY_BGS,e,a),exports.makeCommandPlayME=(e,a=0)=>T(t.PLAY_ME,e,a),exports.makeCommandPlayMovie=(e,a=0)=>({code:261,indent:a,parameters:[e.filename]}),exports.makeCommandPlaySE=(e,a=0)=>T(t.PLAY_SE,e,a),exports.makeCommandPluginCommandMZ=({args:e={},commandName:a,commandTitle:r="",pluginName:o},i=0)=>({code:357,indent:i,parameters:[o,a,r,{...e}]}),exports.makeCommandRemoveActorStateEach=(e,a=0)=>({code:313,indent:a,parameters:[0,0,1,e.stateId]}),exports.makeCommandRemoveActorStateTarget=(e,a=0)=>({code:313,indent:a,parameters:[0,e.actorId,1,e.stateId]}),exports.makeCommandRemoveActorStateVariable=(e,a=0)=>({code:313,indent:a,parameters:[1,e.actorIdVariable,1,e.stateId]}),exports.makeCommandRemoveEachEnemyState=(e,a=0)=>({code:333,indent:a,parameters:[-1,1,e.stateId]}),exports.makeCommandRemoveEnemyState=(e,a=0)=>({code:333,indent:a,parameters:[e.enemyIndex,1,e.stateId]}),exports.makeCommandRemovePartyMember=(e,a=0)=>({code:129,parameters:[1,e.actorId],indent:a}),exports.makeCommandResumeBGM=(e=0)=>({code:244,indent:e,parameters:[]}),exports.makeCommandSaveBGM=(e=0)=>({code:243,indent:e,parameters:[]}),exports.makeCommandScriptArray=(e,a=0)=>e.map(((r,o)=>o===0?v(r,a):B(r,a))),exports.makeCommandScriptBody=B,exports.makeCommandScriptHeader=v,exports.makeCommandScrollMap=(e,a=0)=>({code:204,indent:a,parameters:[e.direction,e.distance,e.speed,e.waiting]}),exports.makeCommandScrollingTextBody=(e="",a=0)=>({code:t.SHOW_SCROLLING_TEXT_BODY,indent:a??0,parameters:H(e)}),exports.makeCommandScrollingTextHeader=(e={},a=0)=>({code:t.SHOW_SCROLLING_TEXT,indent:a,parameters:b(e)}),exports.makeCommandSelectItem=(e,a=0)=>({code:104,parameters:[e.variableId,e.itemType],indent:a}),exports.makeCommandSetVehicleLocation=(e,a=0)=>({code:202,indent:a,parameters:[e.vehicleId,0,e.mapId,e.x,e.y]}),exports.makeCommandSetVehicleLocationFromVariables=(e,a=0)=>({code:202,indent:a,parameters:[e.vehicleId,1,e.variableMapId,e.variableX,e.variableY]}),exports.makeCommandSetWeatherEffect=(e,a=0)=>({code:236,indent:a,parameters:[e.type??"none",e.power??0,e.duration??0,e.wait??!1]}),exports.makeCommandSetupChoice=(e,a=0)=>({code:102,indent:a,parameters:[e?.choices??[],e?.cancelType??0,e?.defaultType??0,e?.positionType??2,e?.background??0]}),exports.makeCommandShakeScreen=(e,a=0)=>({code:225,indent:a,parameters:[e.power??5,e.speed??5,e.duration??60,e.wait??!1]}),exports.makeCommandShopProcessing=({goods:e,buyOnly:a=!1},r=0)=>e.map(((o,i)=>{const s=(E=>E.customPrice!==void 0&&E.customPrice!==0)(o)?1:0;return i===0?{code:t.SHOP_PROCESSING,indent:r,parameters:[N[o.itemType]??N.item,o.id,s,o.customPrice??0,a]}:{code:t.SHOP_PROCESSING_BODY,indent:r,parameters:[N[o.itemType]??N.item,o.id,s,o.customPrice??0]}})),exports.makeCommandShowAnimation=(e={},a=0)=>({code:212,indent:a,parameters:[e.characterId??0,e.animationId??0,e.waiting??!1]}),exports.makeCommandShowBalloonIcon=(e,a=0)=>({code:213,indent:a,parameters:[e.characterId,e.balloonId,e.waiting]}),exports.makeCommandShowChoiceItem=(e,a=0)=>({code:402,indent:a,parameters:[e?.index??0,e?.name??""]}),exports.makeCommandShowMapName=(e=0)=>({code:281,indent:e,parameters:[0]}),exports.makeCommandShowPicture=({pictureId:e=0,origin:a=0,name:r="",x:o=0,y:i=0,scaleX:s=100,scaleY:E=100,opacity:_=255,blendMode:l=0})=>({code:231,indent:0,parameters:[e,r,a,o,i,s,E,_,l]}),exports.makeCommandSystemBattleCount=(e,a=0)=>({code:t.CONTROL_VARIABLES,indent:0,parameters:[e.startId,e.endId??e.startId,a,3,7,7]}),exports.makeCommandSystemEscapeCount=(e,a=0)=>({code:t.CONTROL_VARIABLES,indent:0,parameters:[e.startId,e.endId??e.startId,a,3,7,9]}),exports.makeCommandSystemSaveCount=(e,a=0)=>({code:t.CONTROL_VARIABLES,indent:0,parameters:[e.startId,e.endId??e.startId,a,3,7,6]}),exports.makeCommandSystemTimer=(e,a=0)=>({code:t.CONTROL_VARIABLES,indent:0,parameters:[e.startId,e.endId??e.startId,a,3,7,5]}),exports.makeCommandSystemWinCount=(e,a=0)=>({code:t.CONTROL_VARIABLES,indent:0,parameters:[e.startId,e.endId??e.startId,a,3,7,8]}),exports.makeCommandTargetActorRecoverAll=(e,a=0)=>({code:314,indent:a,parameters:[0,e.targetActorId]}),exports.makeCommandTargetActorRecoverAllSelectV=(e,a=0)=>({code:314,indent:a,parameters:[1,e.targetSelectVariableId]}),exports.makeCommandTintScreen=(e,a=0)=>({code:223,indent:a,parameters:[e.color?[e.color[0],e.color[1],e.color[2],e.color[3]]:[0,0,0,0],e.duration??60,e.wait??!1]}),exports.makeCommandVariableFromActorStatusData=(e,a,r={})=>({code:t.CONTROL_VARIABLES,indent:r.indent??0,parameters:V(e,a,r.operation??0)}),exports.makeCommandVariableFromArmor=(e,a)=>({code:t.CONTROL_VARIABLES,indent:0,parameters:f(e,a,0)}),exports.makeCommandVariableFromConstant=(e,a,r={})=>({code:t.CONTROL_VARIABLES,indent:r.indent??0,parameters:U(e,a,r.operation??0)}),exports.makeCommandVariableFromEnemyData=(e,a,r={})=>({code:t.CONTROL_VARIABLES,indent:r.indent??0,parameters:w(e,a,r.operation??0)}),exports.makeCommandVariableFromItemData=(e,a,r={})=>({code:t.CONTROL_VARIABLES,indent:r.indent??0,parameters:x(e,a,r.operation??0)}),exports.makeCommandVariableFromMapId=(e,a=0)=>({code:t.CONTROL_VARIABLES,indent:0,parameters:[e.startId,e.endId??e.startId,a,3,7,0]}),exports.makeCommandVariableFromPartyGold=(e,a=0)=>({code:t.CONTROL_VARIABLES,indent:0,parameters:[e.startId,e.endId??e.startId,a,3,7,2]}),exports.makeCommandVariableFromPartyMembers=(e,a=0)=>({code:t.CONTROL_VARIABLES,indent:0,parameters:[e.startId,e.endId??e.startId,a,3,7,1]}),exports.makeCommandVariableFromPartySteps=(e,a=0)=>({code:t.CONTROL_VARIABLES,indent:0,parameters:[e.startId,e.endId??e.startId,a,3,7,3]}),exports.makeCommandVariableFromPlaytime=(e,a=0)=>({code:t.CONTROL_VARIABLES,indent:0,parameters:[e.startId,e.endId??e.startId,a,3,7,4]}),exports.makeCommandVariableFromRandom=(e,a,r={})=>({code:t.CONTROL_VARIABLES,indent:r.indent??0,parameters:Y(e,a,r.operation??0)}),exports.makeCommandVariableFromScript=(e,a,r={})=>({code:t.CONTROL_VARIABLES,indent:r.indent??0,parameters:W(e,a,r.operation??0)}),exports.makeCommandVariableFromTempLastData=(e,a,r={})=>({code:t.CONTROL_VARIABLES,indent:r.indent??0,parameters:ge(e,a)}),exports.makeCommandVariableFromVariable=(e,a,r={})=>({code:t.CONTROL_VARIABLES,indent:r.indent??0,parameters:h(e,a,r.operation??0)}),exports.makeCommandVariableFromWeapon=(e,a)=>({code:t.CONTROL_VARIABLES,indent:0,parameters:X(e,a,0)}),exports.makeCommentArray=g,exports.makeCommentCommandArray=(e,a=0)=>e.map(((r,o)=>o===0?F(r,a):G(r,a))),exports.makeCommonEventData=(e={})=>({id:e.id??0,name:e.name??"",trigger:e.trigger??0,list:e.list??[],switchId:e.switchId??0}),exports.makeDamage=O,exports.makeDataNames=e=>({armorTypes:p(e.armorTypes),elements:p(e.elements),equipTypes:p(e.equipTypes),weaponTypes:p(e.weaponTypes),skillTypes:p(e.skillTypes),variables:p(e.variables),switches:p(e.switches)}),exports.makeDropItem=$,exports.makeEditorSetting=Se,exports.makeEnemyAction=(e={})=>({conditionParam1:e.conditionParam1??0,conditionParam2:e.conditionParam2??0,conditionType:e.conditionType??0,rating:e.rating??0,skillId:e.skillId??0}),exports.makeEnemyData=(e={})=>({name:e.name??"",id:e.id??0,battlerName:e.battlerName??"",battlerHue:e.battlerHue??0,dropItems:e.dropItems?.map((()=>$()))??[],exp:e.exp??0,gold:e.gold??0,traits:[],note:e.note??"",params:e.params?[...e.params]:J({mhp:0,mmp:0,atk:0,def:0,mat:0,mdf:0,agi:0,luk:0}),actions:[]}),exports.makeEventPageCondition=z,exports.makeGameInitial=(e={})=>({startMapId:e.startMapId??0,startX:e.startX??0,startY:e.startY??0,partyMembers:e.partyMembers?Array.from(e.partyMembers):[1]}),exports.makeItemCategories=Ie,exports.makeItemCategoriesFromArray=e=>({item:e[0],weapon:e[1],armor:e[2],keyItem:e[3]}),exports.makeItemData=(e={})=>({animationId:e.animationId??0,id:e.id??0,name:e.name??"",iconIndex:e.iconIndex??0,description:e.description??"",itypeId:e.itypeId??0,note:e.note??"",consumable:e.consumable??!1,scope:e.scope??0,occasion:e.occasion??0,speed:e.speed??0,successRate:e.successRate??0,repeats:e.repeats??0,tpGain:e.tpGain??0,hitType:e.hitType??0,damage:O(e.damage??{}),effects:[],price:0}),exports.makeMapData=(e={})=>({tilesetId:e.tilesetId??1,data:e.data??[],battleback1Name:e.battleback1Name??"",battleback2Name:e.battleback2Name??"",autoplayBgm:e.autoplayBgm??!1,autoplayBgs:e.autoplayBgs??!1,parallaxLoopX:e.parallaxLoopX??!1,parallaxLoopY:e.parallaxLoopY??!1,parallaxName:e.parallaxName??"",parallaxShow:e.parallaxShow??!1,parallaxSx:e.parallaxSx??0,parallaxSy:e.parallaxSy??0,encounterStep:e.encounterStep??30,scrollType:e.scrollType??0,specifyBattleback:e.specifyBattleback??!1,width:e.width??0,height:e.height??0,note:e.note??"",bgm:e.bgm??{name:"",pan:0,pitch:100,volume:100},bgs:e.bgs??{name:"",pan:0,pitch:100,volume:100},disableDashing:e.disableDashing??!1,displayName:e.displayName??"",encounterList:e.encounterList??[],events:e.events??[]}),exports.makeMapEvent=({id:e=1,name:a="",pages:r=[],note:o="",x:i=0,y:s=0}={})=>({id:e,name:a,pages:r,note:o,x:i,y:s}),exports.makeMapEventIamge=j,exports.makeMapEventPage=({list:e=[],conditions:a=z(),image:r=j(),moveFrequency:o=5,directionFix:i=!1,moveRoute:s={list:[],repeat:!1,skippable:!1,wait:!1},priorityType:E=1,stepAnime:_=!1,through:l=!1,walkAnime:P=!1,moveSpeed:Oe=3,moveType:Le=0,trigger:Pe=0}={})=>({walkAnime:P,stepAnime:_,through:l,conditions:a,list:e,directionFix:i,image:r,priorityType:E,moveFrequency:o,moveSpeed:Oe,moveType:Le,trigger:Pe,moveRoute:{list:s.list,repeat:s.repeat,skippable:s.skippable,wait:s.wait}}),exports.makeMapFileInfo=(e,a)=>({map:a,filename:`Map${e.id.toString().padStart(3,"0")}`,editingName:e.name}),exports.makeMapInfoData=(e={id:0})=>{return{name:e.name??(a=e.id,a.toString().padStart(3,"0")),id:e.id,expanded:e.expanded??!1,order:e.order??0,parentId:e.parentId??0,scrollX:e.scrollX??0,scrollY:e.scrollY??0};var a},exports.makeMenuCommandsEnabled=Ce,exports.makeMenuCommandsEnabledFromArray=e=>({item:e[0],skill:e[1],equip:e[2],status:e[3],formation:e[4],save:e[5]}),exports.makeParamArray=J,exports.makeSkillData=(e={})=>({stypeId:e.stypeId??0,requiredWtypeId1:e.requiredWtypeId1??0,requiredWtypeId2:e.requiredWtypeId2??0,animationId:e.animationId??0,damage:O(e.damage??{}),description:e.description??"",effects:[],hitType:e.hitType??0,iconIndex:e.iconIndex??0,id:e.id??0,message1:e.message1??"",message2:e.message2??"",messageType:e.messageType??0,name:e.name??"",note:e.note??"",mpCost:e.mpCost??0,occasion:e.occasion??0,repeats:e.repeats??0,scope:e.scope??0,speed:e.speed??0,successRate:e.successRate??0,tpCost:e.tpCost??0,tpGain:e.tpGain??0}),exports.makeSoundsArray=Ee,exports.makeSoundsObject=ie,exports.makeStateData=(e={})=>({name:e.name??"",id:e.id??0,iconIndex:e.iconIndex??0,message1:e.message1??"",message2:e.message2??"",message3:e.message3??"",message4:e.message4??"",traits:[],note:e.note??"",messageType:e.messageType??0,releaseByDamage:e.releaseByDamage??!1,restriction:e.restriction??0,priority:e.priority??0,motion:e.motion??0,overlay:e.overlay??0,removeAtBattleEnd:e.removeAtBattleEnd??!1,removeByRestriction:e.removeByRestriction??!1,autoRemovalTiming:e.autoRemovalTiming??0,minTurns:e.minTurns??0,maxTurns:e.maxTurns??0,removeByDamage:e.removeByDamage??!1,chanceByDamage:e.chanceByDamage??0,removeByWalking:e.removeByWalking??!1,stepsToRemove:e.stepsToRemove??0}),exports.makeSystemAdvanced=de,exports.makeSystemData=y,exports.makeSystemDataFromMV=e=>y({versionId:e.versionId,menuCommands:se(e),locale:e.locale,gameInit:{startMapId:e.startMapId,startX:e.startX,startY:e.startY,partyMembers:e.partyMembers},battle:{magicSkills:e.magicSkills},bgm:{titleBgm:e.titleBgm,battleBgm:e.battleBgm},options:e,vehicles:{airship:e.airship,boat:e.boat,ship:e.ship},images:{title1Name:e.title1Name,title2Name:e.title2Name},me:{defeatMe:e.defeatMe,gameoverMe:e.gameoverMe,victoryMe:e.victoryMe},battleTest:{battleback1Name:e.battleback1Name,battleback2Name:e.battleback2Name,testTroopId:e.testTroopId,testBattlers:e.testBattlers},attackMotion:e.attackMotions,sounds:ie(e.sounds),dataNames:{skillTypes:e.skillTypes,weaponTypes:e.weaponTypes,armorTypes:e.armorTypes,elements:e.elements,equipTypes:e.equipTypes,switches:e.switches,variables:e.variables},texts:{currencyUnit:e.currencyUnit,gameTitle:e.gameTitle},editorTemporary:{editMapId:e.editMapId,battlerName:e.battlerName,battlerHue:e.battlerHue},terms:{basic:m.makeTermsBasicFromArray(e.terms.basic),commands:m.makeTermsCommandFromArray(e.terms.commands),params:m.makeParamNamesFromArray(e.terms.params),messages:e.terms.messages}}),exports.makeSystemDataMV=(e=y({}))=>({versionId:e.versionId,menuCommands:e.menuCommands,locale:e.locale,startMapId:e.startMapId,startX:e.startX,startY:e.startY,partyMembers:e.partyMembers,magicSkills:e.magicSkills,title1Name:e.title1Name,title2Name:e.title2Name,gameTitle:e.gameTitle,currencyUnit:e.currencyUnit,windowTone:e.windowTone,battleback1Name:e.battleback1Name,battleback2Name:e.battleback2Name,testTroopId:e.testTroopId,testBattlers:e.testBattlers,attackMotions:e.attackMotions,battlerHue:e.battlerHue,battlerName:e.battlerName,airship:e.airship,boat:e.boat,ship:e.ship,defeatMe:e.defeatMe,gameoverMe:e.gameoverMe,optDisplayTp:e.optDisplayTp,optDrawTitle:e.optDrawTitle,optExtraExp:e.optExtraExp,optFloorDeath:e.optFloorDeath,optSideView:e.optSideView,optFollowers:e.optFollowers,optSlipDeath:e.optSlipDeath,optTransparent:e.optTransparent,skillTypes:e.skillTypes,weaponTypes:e.weaponTypes,armorTypes:e.armorTypes,elements:e.elements,equipTypes:e.equipTypes,switches:e.switches,variables:e.variables,titleBgm:e.titleBgm,battleBgm:e.battleBgm,victoryMe:e.victoryMe,editMapId:e.editMapId,sounds:e.sounds,terms:{basic:e.terms.basic,commands:e.terms.commands,params:e.terms.params,messages:m.convertTermsMessageMZtoMV(e.terms.messages)}}),exports.makeTitleCommandWindow=Ne,exports.makeTroopData=(e={})=>({id:e.id??0,name:e.name??"",members:e.members??[],pages:e.pages??[]}),exports.makeTroopEventConditions=q,exports.makeTroopMember=(e={})=>({enemyId:e.enemyId??0,x:e.x??0,y:e.y??0,hidden:e.hidden??!1}),exports.makeVehicleData=L,exports.makeWeaponData=(e={})=>({id:e.id??0,name:e.name??"",iconIndex:e.iconIndex??0,description:e.description??"",traits:e.traits??[],note:e.note??"",animationId:e.animationId??0,params:e.params??[0,0,0,0,0,0,0,0],etypeId:e.etypeId??0,price:e.price??0,damage:O(e.damage??{}),wtypeId:e.wtypeId??0}),exports.normalizeDataActor=e=>({name:e.name??"",id:e.id??0,battlerName:e.battlerName??"",characterName:e.characterName??"",characterIndex:e.characterIndex??0,faceName:e.faceName??"",faceIndex:e.faceIndex??0,traits:[],note:e.note??"",classId:e.classId??0,nickname:e.nickname??"",profile:e.profile??"",equips:[],initialLevel:e.initialLevel??0,maxLevel:e.maxLevel??0}),exports.paramArrayToObject=e=>{const[a,r,o,i,s,E,_,l]=e;return{mhp:a,mmp:r,atk:o,def:i,mat:s,mdf:E,agi:_,luk:l}},exports.repleaceMapEventCommands=(e,a)=>e.map((r=>r?{...r,pages:De(r,a)}:null)),exports.textAndDesc=e=>({...e.text?{text:e.text}:{},...e.desc?{desc:e.desc}:{}}),exports.toArrayCommonEvent=k,exports.toArrayControlSwitches=D,exports.toArrayInputNumber=e=>[e.variableId??0,e.maxDigits??0],exports.toArrayOperandActorStatus=V,exports.toArrayOperandArmorData=f,exports.toArrayOperandConstant=U,exports.toArrayOperandEnemyStatus=w,exports.toArrayOperandItemData=x,exports.toArrayOperandRandom=Y,exports.toArrayOperandScript=W,exports.toArrayOperandVariable=h,exports.toArrayOperandWeaponData=X,exports.toArrayScrollingTextBody=H,exports.toArrayScrollingTextHeader=b,exports.toArraySetupChoice=e=>[e.choices??[],e.cancelType??0,e.defaultType??0,e.positionType??2,e.background??0],exports.toArraySetupChoiceItem=e=>[e.index??0,e.name??""];
